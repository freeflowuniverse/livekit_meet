{"version":3,"file":"static/chunks/app/page-695e7c5019b22fb4.js","mappings":"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","sources":["webpack://_N_E/?3342","webpack://_N_E/./app/page.tsx","webpack://_N_E/./lib/client-utils.ts","webpack://_N_E/./styles/Home.module.css"],"sourcesContent":["import(/* webpackMode: \"eager\" */ \"/Users/timurgordon/code/github/freeflowuniverse/livekit_meet/app/page.tsx\");\n","'use client';\n\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport React, { Suspense, useState } from 'react';\nimport { encodePassphrase, generateRoomId, randomString } from '@/lib/client-utils';\nimport styles from '../styles/Home.module.css';\n\nfunction Tabs(props: React.PropsWithChildren<{}>) {\n  const searchParams = useSearchParams();\n  const tabIndex = searchParams?.get('tab') === 'custom' ? 1 : 0;\n\n  const router = useRouter();\n  function onTabSelected(index: number) {\n    const tab = index === 1 ? 'custom' : 'demo';\n    router.push(`/?tab=${tab}`);\n  }\n\n  let tabs = React.Children.map(props.children, (child, index) => {\n    return (\n      <button\n        className=\"lk-button\"\n        onClick={() => {\n          if (onTabSelected) {\n            onTabSelected(index);\n          }\n        }}\n        aria-pressed={tabIndex === index}\n      >\n        {/* @ts-ignore */}\n        {child?.props.label}\n      </button>\n    );\n  });\n\n  return (\n    <div className={styles.tabContainer}>\n      <div className={styles.tabSelect}>{tabs}</div>\n      {/* @ts-ignore */}\n      {props.children[tabIndex]}\n    </div>\n  );\n}\n\nfunction DemoMeetingTab(props: { label: string }) {\n  const router = useRouter();\n  const [e2ee, setE2ee] = useState(false);\n  const [sharedPassphrase, setSharedPassphrase] = useState(randomString(64));\n  const startMeeting = () => {\n    if (e2ee) {\n      const roomId = generateRoomId();\n      const encodedPassphrase = encodePassphrase(sharedPassphrase);\n      router.push(`/rooms/room?roomName=${roomId}#${encodedPassphrase}`);\n    } else {\n      const roomId = generateRoomId();\n      router.push(`/rooms/room?roomName=${roomId}`);\n    }\n  };\n  return (\n    <div className={styles.tabContent}>\n      <p style={{ margin: 0 }}>Try LiveKit Meet for free with our live demo project.</p>\n      <button style={{ marginTop: '1rem' }} className=\"lk-button\" onClick={startMeeting}>\n        Start Meeting\n      </button>\n      <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\n        <div style={{ display: 'flex', flexDirection: 'row', gap: '1rem' }}>\n          <input\n            id=\"use-e2ee\"\n            type=\"checkbox\"\n            checked={e2ee}\n            onChange={(ev) => setE2ee(ev.target.checked)}\n          ></input>\n          <label htmlFor=\"use-e2ee\">Enable end-to-end encryption</label>\n        </div>\n        {e2ee && (\n          <div style={{ display: 'flex', flexDirection: 'row', gap: '1rem' }}>\n            <label htmlFor=\"passphrase\">Passphrase</label>\n            <input\n              id=\"passphrase\"\n              type=\"password\"\n              value={sharedPassphrase}\n              onChange={(ev) => setSharedPassphrase(ev.target.value)}\n            />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction CustomConnectionTab(props: { label: string }) {\n  const router = useRouter();\n\n  const [e2ee, setE2ee] = useState(false);\n  const [sharedPassphrase, setSharedPassphrase] = useState(randomString(64));\n\n  const onSubmit: React.FormEventHandler<HTMLFormElement> = (event) => {\n    event.preventDefault();\n    const formData = new FormData(event.target as HTMLFormElement);\n    const serverUrl = formData.get('serverUrl');\n    const token = formData.get('token');\n    if (e2ee) {\n      router.push(\n        `/custom/?liveKitUrl=${serverUrl}&token=${token}#${encodePassphrase(sharedPassphrase)}`,\n      );\n    } else {\n      router.push(`/custom/?liveKitUrl=${serverUrl}&token=${token}`);\n    }\n  };\n  return (\n    <form className={styles.tabContent} onSubmit={onSubmit}>\n      <p style={{ marginTop: 0 }}>\n        Connect LiveKit Meet with a custom server using LiveKit Cloud or LiveKit Server.\n      </p>\n      <input\n        id=\"serverUrl\"\n        name=\"serverUrl\"\n        type=\"url\"\n        placeholder=\"LiveKit Server URL: wss://*.livekit.cloud\"\n        required\n      />\n      <textarea\n        id=\"token\"\n        name=\"token\"\n        placeholder=\"Token\"\n        required\n        rows={5}\n        style={{ padding: '1px 2px', fontSize: 'inherit', lineHeight: 'inherit' }}\n      />\n      <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\n        <div style={{ display: 'flex', flexDirection: 'row', gap: '1rem' }}>\n          <input\n            id=\"use-e2ee\"\n            type=\"checkbox\"\n            checked={e2ee}\n            onChange={(ev) => setE2ee(ev.target.checked)}\n          ></input>\n          <label htmlFor=\"use-e2ee\">Enable end-to-end encryption</label>\n        </div>\n        {e2ee && (\n          <div style={{ display: 'flex', flexDirection: 'row', gap: '1rem' }}>\n            <label htmlFor=\"passphrase\">Passphrase</label>\n            <input\n              id=\"passphrase\"\n              type=\"password\"\n              value={sharedPassphrase}\n              onChange={(ev) => setSharedPassphrase(ev.target.value)}\n            />\n          </div>\n        )}\n      </div>\n\n      <hr\n        style={{ width: '100%', borderColor: 'rgba(255, 255, 255, 0.15)', marginBlock: '1rem' }}\n      />\n      <button\n        style={{ paddingInline: '1.25rem', width: '100%' }}\n        className=\"lk-button\"\n        type=\"submit\"\n      >\n        Connect\n      </button>\n    </form>\n  );\n}\n\nexport default function Page() {\n  return (\n    <>\n      <main className={styles.main} data-lk-theme=\"default\">\n        <div className=\"header\">\n          <img src=\"/images/livekit-meet-home.svg\" alt=\"LiveKit Meet\" width=\"360\" height=\"45\" />\n          <h2>\n            Open source video conferencing app built on{' '}\n            <a href=\"https://github.com/livekit/components-js?ref=meet\" rel=\"noopener\">\n              LiveKit&nbsp;Components\n            </a>\n            ,{' '}\n            <a href=\"https://livekit.io/cloud?ref=meet\" rel=\"noopener\">\n              LiveKit&nbsp;Cloud\n            </a>{' '}\n            and Next.js.\n          </h2>\n        </div>\n        <Suspense fallback=\"Loading\">\n          <Tabs>\n            <DemoMeetingTab label=\"Demo\" />\n            <CustomConnectionTab label=\"Custom\" />\n          </Tabs>\n        </Suspense>\n      </main>\n      <footer data-lk-theme=\"default\">\n        Hosted on{' '}\n        <a href=\"https://livekit.io/cloud?ref=meet\" rel=\"noopener\">\n          LiveKit Cloud\n        </a>\n        . Source code on{' '}\n        <a href=\"https://github.com/livekit/meet?ref=meet\" rel=\"noopener\">\n          GitHub\n        </a>\n        .\n      </footer>\n    </>\n  );\n}\n","export function encodePassphrase(passphrase: string) {\n  return encodeURIComponent(passphrase);\n}\n\nexport function decodePassphrase(base64String: string) {\n  return decodeURIComponent(base64String);\n}\n\nexport function generateRoomId(): string {\n  return `${randomString(4)}-${randomString(4)}`;\n}\n\nexport function randomString(length: number): string {\n  let result = '';\n  const characters = 'abcdefghijklmnopqrstuvwxyz0123456789';\n  const charactersLength = characters.length;\n  for (let i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n  return result;\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Home_main__VkIEL\",\"tabContainer\":\"Home_tabContainer__OWE3m\",\"tabSelect\":\"Home_tabSelect__Kosnu\",\"tabContent\":\"Home_tabContent__rLu5Q\"};"],"names":["Tabs","props","searchParams","useSearchParams","tabIndex","get","router","useRouter","onTabSelected","index","tab","push","tabs","React","map","children","child","button","className","onClick","aria-pressed","label","div","styles","DemoMeetingTab","e2ee","setE2ee","useState","sharedPassphrase","setSharedPassphrase","randomString","p","style","margin","marginTop","roomId","generateRoomId","encodedPassphrase","encodePassphrase","display","flexDirection","gap","input","id","type","checked","onChange","ev","target","htmlFor","value","CustomConnectionTab","form","onSubmit","event","preventDefault","formData","FormData","serverUrl","token","name","placeholder","required","textarea","rows","padding","fontSize","lineHeight","hr","width","borderColor","marginBlock","paddingInline","Page","main","data-lk-theme","img","src","alt","height","h2","a","href","rel","Suspense","fallback","footer","passphrase","encodeURIComponent","decodePassphrase","base64String","decodeURIComponent","length","result","characters","i","charAt","Math","floor","random","module","exports"],"sourceRoot":""}