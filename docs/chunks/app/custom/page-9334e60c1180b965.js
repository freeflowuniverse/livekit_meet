(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[63],{6563:function(e,n,t){Promise.resolve().then(t.bind(t,1764))},1764:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return j},dynamic:function(){return m}});var i=t(7437),s=t(2265),r=t(9376),o=t(6958),c=t(4187),u=t(6602),l=t(3557),d=t(7598),a=t(9413),h=t(1292),f=t(257);function v(e){let n=new Worker(t.tu(new URL(t.p+t.u(123),t.b))),r=new o.P6,v=(0,a.FZ)(window.location.hash.substring(1)),g=!!(v&&n),m=(0,s.useMemo)(()=>({publishDefaults:{videoSimulcastLayers:[o.OM.h540,o.OM.h216],red:!g,videoCodec:e.codec},adaptiveStream:{pixelDensity:"screen"},dynacast:!0,e2ee:g?{keyProvider:r,worker:n}:void 0}),[]),b=(0,s.useMemo)(()=>new o.du(m),[]);g&&(r.setKey(v),b.setE2EEEnabled(!0));let j=(0,s.useMemo)(()=>({autoSubscribe:!0}),[]);return(0,i.jsxs)(c.L,{room:b,token:e.token,connectOptions:j,serverUrl:e.liveKitUrl,audio:!0,video:!0,children:[(0,i.jsx)(u.zc,{chatMessageFormatter:l.o,SettingsComponent:"true"===f.env.NEXT_PUBLIC_SHOW_SETTINGS_MENU?h.T:void 0}),(0,i.jsx)(d.a,{logLevel:o.in.debug})]})}var g=t(3985);let m="force-dynamic";function b(){let e=(0,r.useSearchParams)(),n=e.get("liveKitUrl"),t=e.get("token"),s=e.get("codec");if("string"!=typeof n)return(0,i.jsx)("h2",{children:"Missing LiveKit URL"});if("string"!=typeof t)return(0,i.jsx)("h2",{children:"Missing LiveKit token"});let c=s&&(0,g.t)(s)?s:void 0;return null===s||(0,g.t)(s)?(0,i.jsx)("main",{"data-lk-theme":"default",style:{height:"100%"},children:(0,i.jsx)(v,{liveKitUrl:n,token:t,codec:c})}):(0,i.jsxs)("h2",{children:["Invalid codec, if defined it has to be [",o.zh.join(", "),"]."]})}function j(){return(0,i.jsx)(s.Suspense,{fallback:(0,i.jsx)("div",{children:"Loading..."}),children:(0,i.jsx)(b,{})})}}},function(e){e.O(0,[786,481,311,126,971,117,744],function(){return e(e.s=6563)}),_N_E=e.O()}]);
//# sourceMappingURL=page-9334e60c1180b965.js.map