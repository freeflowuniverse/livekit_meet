{"version":3,"file":"static/chunks/126-bc9fe8918e7f1e84.js","mappings":"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","sources":["webpack://_N_E/./lib/Debug.tsx","webpack://_N_E/./lib/SettingsMenu.tsx","webpack://_N_E/./lib/client-utils.ts","webpack://_N_E/./lib/types.ts","webpack://_N_E/./styles/Debug.module.css","webpack://_N_E/./styles/SettingsMenu.module.css"],"sourcesContent":["import * as React from 'react';\nimport { useRoomContext } from '@livekit/components-react';\nimport { setLogLevel, LogLevel, RemoteTrackPublication, setLogExtension } from 'livekit-client';\n// @ts-ignore\nimport { tinykeys } from 'tinykeys';\nimport { datadogLogs } from '@datadog/browser-logs';\n\nimport styles from '../styles/Debug.module.css';\n\nexport const useDebugMode = ({ logLevel }: { logLevel?: LogLevel }) => {\n  const room = useRoomContext();\n\n  React.useEffect(() => {\n    setLogLevel(logLevel ?? 'debug');\n\n    if (process.env.NEXT_PUBLIC_DATADOG_CLIENT_TOKEN && process.env.NEXT_PUBLIC_DATADOG_SITE) {\n      console.log('setting up datadog logs');\n      datadogLogs.init({\n        clientToken: process.env.NEXT_PUBLIC_DATADOG_CLIENT_TOKEN,\n        site: process.env.NEXT_PUBLIC_DATADOG_SITE,\n        forwardErrorsToLogs: true,\n        sessionSampleRate: 100,\n      });\n\n      setLogExtension((level, msg, context) => {\n        switch (level) {\n          case LogLevel.debug:\n            datadogLogs.logger.debug(msg, context);\n            break;\n          case LogLevel.info:\n            datadogLogs.logger.info(msg, context);\n            break;\n          case LogLevel.warn:\n            datadogLogs.logger.warn(msg, context);\n            break;\n          case LogLevel.error:\n            datadogLogs.logger.error(msg, context);\n            break;\n          default:\n            break;\n        }\n      });\n    }\n\n    // @ts-expect-error\n    window.__lk_room = room;\n\n    return () => {\n      // @ts-expect-error\n      window.__lk_room = undefined;\n    };\n  }, [room, logLevel]);\n};\n\nexport const DebugMode = ({ logLevel }: { logLevel?: LogLevel }) => {\n  const room = useRoomContext();\n  const [isOpen, setIsOpen] = React.useState(false);\n  const [, setRender] = React.useState({});\n  const [roomSid, setRoomSid] = React.useState('');\n\n  React.useEffect(() => {\n    room.getSid().then(setRoomSid);\n  }, [room]);\n\n  useDebugMode({ logLevel });\n\n  React.useEffect(() => {\n    if (window) {\n      const unsubscribe = tinykeys(window, {\n        'Shift+D': () => {\n          console.log('setting open');\n          setIsOpen((open) => !open);\n        },\n      });\n\n      // timer to re-render\n      const interval = setInterval(() => {\n        setRender({});\n      }, 1000);\n\n      return () => {\n        unsubscribe();\n        clearInterval(interval);\n      };\n    }\n  }, [isOpen]);\n\n  if (typeof window === 'undefined' || !isOpen) {\n    return null;\n  }\n\n  const handleSimulate = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    const { value } = event.target;\n    if (value == '') {\n      return;\n    }\n    event.target.value = '';\n    let isReconnect = false;\n    switch (value) {\n      case 'signal-reconnect':\n        isReconnect = true;\n\n      // fall through\n      default:\n        // @ts-expect-error\n        room.simulateScenario(value);\n    }\n  };\n\n  const lp = room.localParticipant;\n\n  if (!isOpen) {\n    return <></>;\n  } else {\n    return (\n      <div className={styles.overlay}>\n        <section id=\"room-info\">\n          <h3>\n            Room Info {room.name}: {roomSid}\n          </h3>\n        </section>\n        <details open>\n          <summary>\n            <b>Local Participant: {lp.identity}</b>\n          </summary>\n          <details open className={styles.detailsSection}>\n            <summary>\n              <b>Published tracks</b>\n            </summary>\n            <div>\n              {Array.from(lp.trackPublications.values()).map((t) => (\n                <>\n                  <div>\n                    <i>\n                      {t.source.toString()}\n                      &nbsp;<span>{t.trackSid}</span>\n                    </i>\n                  </div>\n                  <table>\n                    <tbody>\n                      <tr>\n                        <td>Kind</td>\n                        <td>\n                          {t.kind}&nbsp;\n                          {t.kind === 'video' && (\n                            <span>\n                              {t.track?.dimensions?.width}x{t.track?.dimensions?.height}\n                            </span>\n                          )}\n                        </td>\n                      </tr>\n                      <tr>\n                        <td>Bitrate</td>\n                        <td>{Math.ceil(t.track!.currentBitrate / 1000)} kbps</td>\n                      </tr>\n                    </tbody>\n                  </table>\n                </>\n              ))}\n            </div>\n          </details>\n          <details open className={styles.detailsSection}>\n            <summary>\n              <b>Permissions</b>\n            </summary>\n            <div>\n              <table>\n                <tbody>\n                  {lp.permissions &&\n                    Object.entries(lp.permissions).map(([key, val]) => (\n                      <>\n                        <tr>\n                          <td>{key}</td>\n                          {key !== 'canPublishSources' ? (\n                            <td>{val.toString()}</td>\n                          ) : (\n                            <td> {val.join(', ')} </td>\n                          )}\n                        </tr>\n                      </>\n                    ))}\n                </tbody>\n              </table>\n            </div>\n          </details>\n        </details>\n\n        <details>\n          <summary>\n            <b>Remote Participants</b>\n          </summary>\n          {Array.from(room.remoteParticipants.values()).map((p) => (\n            <details key={p.sid} className={styles.detailsSection}>\n              <summary>\n                <b>\n                  {p.identity}\n                  <span></span>\n                </b>\n              </summary>\n              <div>\n                {Array.from(p.trackPublications.values()).map((t) => (\n                  <>\n                    <div>\n                      <i>\n                        {t.source.toString()}\n                        &nbsp;<span>{t.trackSid}</span>\n                      </i>\n                    </div>\n                    <table>\n                      <tbody>\n                        <tr>\n                          <td>Kind</td>\n                          <td>\n                            {t.kind}&nbsp;\n                            {t.kind === 'video' && (\n                              <span>\n                                {t.dimensions?.width}x{t.dimensions?.height}\n                              </span>\n                            )}\n                          </td>\n                        </tr>\n                        <tr>\n                          <td>Status</td>\n                          <td>{trackStatus(t)}</td>\n                        </tr>\n                        {t.track && (\n                          <tr>\n                            <td>Bitrate</td>\n                            <td>{Math.ceil(t.track.currentBitrate / 1000)} kbps</td>\n                          </tr>\n                        )}\n                      </tbody>\n                    </table>\n                  </>\n                ))}\n              </div>\n            </details>\n          ))}\n        </details>\n      </div>\n    );\n  }\n};\n\nfunction trackStatus(t: RemoteTrackPublication): string {\n  if (t.isSubscribed) {\n    return t.isEnabled ? 'enabled' : 'disabled';\n  } else {\n    return 'unsubscribed';\n  }\n}\n","'use client';\nimport * as React from 'react';\nimport { Track } from 'livekit-client';\nimport {\n  useMaybeLayoutContext,\n  MediaDeviceMenu,\n  TrackToggle,\n  useRoomContext,\n  useIsRecording,\n} from '@livekit/components-react';\nimport { useKrispNoiseFilter } from '@livekit/components-react/krisp';\nimport styles from '../styles/SettingsMenu.module.css';\n\n/**\n * @alpha\n */\nexport interface SettingsMenuProps extends React.HTMLAttributes<HTMLDivElement> {}\n\n/**\n * @alpha\n */\nexport function SettingsMenu(props: SettingsMenuProps) {\n  const layoutContext = useMaybeLayoutContext();\n  const room = useRoomContext();\n  const recordingEndpoint = process.env.NEXT_PUBLIC_LK_RECORD_ENDPOINT;\n\n  const settings = React.useMemo(() => {\n    return {\n      media: { camera: true, microphone: true, label: 'Media Devices', speaker: true },\n      effects: { label: 'Effects' },\n      recording: recordingEndpoint ? { label: 'Recording' } : undefined,\n    };\n  }, []);\n\n  const tabs = React.useMemo(\n    () => Object.keys(settings).filter((t) => t !== undefined) as Array<keyof typeof settings>,\n    [settings],\n  );\n  const [activeTab, setActiveTab] = React.useState(tabs[0]);\n\n  const { isNoiseFilterEnabled, setNoiseFilterEnabled, isNoiseFilterPending } =\n    useKrispNoiseFilter();\n\n  React.useEffect(() => {\n    // enable Krisp by default\n    setNoiseFilterEnabled(true);\n  }, []);\n\n  const isRecording = useIsRecording();\n  const [initialRecStatus, setInitialRecStatus] = React.useState(isRecording);\n  const [processingRecRequest, setProcessingRecRequest] = React.useState(false);\n\n  React.useEffect(() => {\n    if (initialRecStatus !== isRecording) {\n      setProcessingRecRequest(false);\n    }\n  }, [isRecording, initialRecStatus]);\n\n  const toggleRoomRecording = async () => {\n    if (!recordingEndpoint) {\n      throw TypeError('No recording endpoint specified');\n    }\n    if (room.isE2EEEnabled) {\n      throw Error('Recording of encrypted meetings is currently not supported');\n    }\n    setProcessingRecRequest(true);\n    setInitialRecStatus(isRecording);\n    let response: Response;\n    if (isRecording) {\n      response = await fetch(recordingEndpoint + `/stop?roomName=${room.name}`);\n    } else {\n      response = await fetch(recordingEndpoint + `/start?roomName=${room.name}`);\n    }\n    if (response.ok) {\n    } else {\n      console.error(\n        'Error handling recording request, check server logs:',\n        response.status,\n        response.statusText,\n      );\n      setProcessingRecRequest(false);\n    }\n  };\n\n  return (\n    <div className=\"settings-menu\" style={{ width: '100%' }} {...props}>\n      <div className={styles.tabs}>\n        {tabs.map(\n          (tab) =>\n            settings[tab] && (\n              <button\n                className={`${styles.tab} lk-button`}\n                key={tab}\n                onClick={() => setActiveTab(tab)}\n                aria-pressed={tab === activeTab}\n              >\n                {\n                  // @ts-ignore\n                  settings[tab].label\n                }\n              </button>\n            ),\n        )}\n      </div>\n      <div className=\"tab-content\">\n        {activeTab === 'media' && (\n          <>\n            {settings.media && settings.media.camera && (\n              <>\n                <h3>Camera</h3>\n                <section className=\"lk-button-group\">\n                  <TrackToggle source={Track.Source.Camera}>Camera</TrackToggle>\n                  <div className=\"lk-button-group-menu\">\n                    <MediaDeviceMenu kind=\"videoinput\" />\n                  </div>\n                </section>\n              </>\n            )}\n            {settings.media && settings.media.microphone && (\n              <>\n                <h3>Microphone</h3>\n                <section className=\"lk-button-group\">\n                  <TrackToggle source={Track.Source.Microphone}>Microphone</TrackToggle>\n                  <div className=\"lk-button-group-menu\">\n                    <MediaDeviceMenu kind=\"audioinput\" />\n                  </div>\n                </section>\n              </>\n            )}\n            {settings.media && settings.media.speaker && (\n              <>\n                <h3>Speaker & Headphones</h3>\n                <section className=\"lk-button-group\">\n                  <span className=\"lk-button\">Audio Output</span>\n                  <div className=\"lk-button-group-menu\">\n                    <MediaDeviceMenu kind=\"audiooutput\"></MediaDeviceMenu>\n                  </div>\n                </section>\n              </>\n            )}\n          </>\n        )}\n        {activeTab === 'effects' && (\n          <>\n            <h3>Audio</h3>\n            <section>\n              <label htmlFor=\"noise-filter\"> Enhanced Noise Cancellation</label>\n              <input\n                type=\"checkbox\"\n                id=\"noise-filter\"\n                onChange={(ev) => setNoiseFilterEnabled(ev.target.checked)}\n                checked={isNoiseFilterEnabled}\n                disabled={isNoiseFilterPending}\n              ></input>\n            </section>\n          </>\n        )}\n        {activeTab === 'recording' && (\n          <>\n            <h3>Record Meeting</h3>\n            <section>\n              <p>\n                {isRecording\n                  ? 'Meeting is currently being recorded'\n                  : 'No active recordings for this meeting'}\n              </p>\n              <button disabled={processingRecRequest} onClick={() => toggleRoomRecording()}>\n                {isRecording ? 'Stop' : 'Start'} Recording\n              </button>\n            </section>\n          </>\n        )}\n      </div>\n      <button\n        className={`lk-button ${styles.settingsCloseButton}`}\n        onClick={() => layoutContext?.widget.dispatch?.({ msg: 'toggle_settings' })}\n      >\n        Close\n      </button>\n    </div>\n  );\n}\n","export function encodePassphrase(passphrase: string) {\n  return encodeURIComponent(passphrase);\n}\n\nexport function decodePassphrase(base64String: string) {\n  return decodeURIComponent(base64String);\n}\n\nexport function generateRoomId(): string {\n  return `${randomString(4)}-${randomString(4)}`;\n}\n\nexport function randomString(length: number): string {\n  let result = '';\n  const characters = 'abcdefghijklmnopqrstuvwxyz0123456789';\n  const charactersLength = characters.length;\n  for (let i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n  return result;\n}\n","import { LocalAudioTrack, LocalVideoTrack, videoCodecs } from 'livekit-client';\nimport { VideoCodec } from 'livekit-client';\n\nexport interface SessionProps {\n  roomName: string;\n  identity: string;\n  audioTrack?: LocalAudioTrack;\n  videoTrack?: LocalVideoTrack;\n  region?: string;\n  turnServer?: RTCIceServer;\n  forceRelay?: boolean;\n}\n\nexport interface TokenResult {\n  identity: string;\n  accessToken: string;\n}\n\nexport function isVideoCodec(codec: string): codec is VideoCodec {\n  return videoCodecs.includes(codec as VideoCodec);\n}\n\nexport type ConnectionDetails = {\n  serverUrl: string;\n  roomName: string;\n  participantName: string;\n  participantToken: string;\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Debug_overlay__SZwFO\",\"detailsSection\":\"Debug_detailsSection__vJYFV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settingsCloseButton\":\"SettingsMenu_settingsCloseButton__mdSd2\",\"tabs\":\"SettingsMenu_tabs__uq0cC\",\"tab\":\"SettingsMenu_tab__Pfa2A\"};"],"names":["useDebugMode","logLevel","param","room","useRoomContext","React","setLogLevel","process","env","NEXT_PUBLIC_DATADOG_CLIENT_TOKEN","NEXT_PUBLIC_DATADOG_SITE","console","log","datadogLogs","init","clientToken","site","forwardErrorsToLogs","sessionSampleRate","setLogExtension","level","msg","context","LogLevel","debug","logger","info","warn","error","window","__lk_room","undefined","DebugMode","isOpen","setIsOpen","setRender","roomSid","setRoomSid","getSid","then","unsubscribe","tinykeys","open","interval","setInterval","clearInterval","lp","localParticipant","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsxs","div","className","styles","jsx","section","id","h3","name","details","summary","b","identity","Array","from","trackPublications","values","map","t","Fragment","i","source","toString","span","trackSid","table","tbody","tr","td","kind","track","dimensions","width","height","Math","ceil","currentBitrate","permissions","Object","entries","key","val","join","remoteParticipants","p","isSubscribed","isEnabled","sid","SettingsMenu","props","layoutContext","useMaybeLayoutContext","recordingEndpoint","NEXT_PUBLIC_LK_RECORD_ENDPOINT","settings","media","camera","microphone","label","speaker","effects","recording","tabs","keys","filter","activeTab","setActiveTab","isNoiseFilterEnabled","setNoiseFilterEnabled","isNoiseFilterPending","useKrispNoiseFilter","isRecording","useIsRecording","initialRecStatus","setInitialRecStatus","processingRecRequest","setProcessingRecRequest","toggleRoomRecording","response","TypeError","isE2EEEnabled","Error","fetch","concat","ok","status","statusText","style","tab","button","onClick","aria-pressed","TrackToggle","Track","Source","Camera","MediaDeviceMenu","Microphone","htmlFor","input","type","onChange","ev","target","checked","disabled","widget","dispatch","encodePassphrase","passphrase","encodeURIComponent","decodePassphrase","base64String","decodeURIComponent","generateRoomId","randomString","length","result","characters","charactersLength","charAt","floor","random","isVideoCodec","codec","videoCodecs","includes","module","exports"],"sourceRoot":""}