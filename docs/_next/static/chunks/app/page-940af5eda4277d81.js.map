{"version":3,"file":"static/chunks/app/page-940af5eda4277d81.js","mappings":"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","sources":["webpack://_N_E/","webpack://_N_E/./app/page.tsx","webpack://_N_E/./lib/client-utils.ts","webpack://_N_E/./node_modules/next/dist/api/navigation.js","webpack://_N_E/./styles/Home.module.css"],"sourcesContent":["import(/* webpackMode: \"eager\" */ \"/Users/timurgordon/code/github/livekit-examples/meet/app/page.tsx\");\n","'use client';\n\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport React, { Suspense, useState } from 'react';\nimport { encodePassphrase, generateRoomId, randomString } from '@/lib/client-utils';\nimport styles from '../styles/Home.module.css';\n\nfunction Tabs(props: React.PropsWithChildren<{}>) {\n  const searchParams = useSearchParams();\n  const tabIndex = searchParams?.get('tab') === 'custom' ? 1 : 0;\n\n  const router = useRouter();\n  function onTabSelected(index: number) {\n    const tab = index === 1 ? 'custom' : 'demo';\n    router.push(`/?tab=${tab}`);\n  }\n\n  let tabs = React.Children.map(props.children, (child, index) => {\n    return (\n      <button\n        className=\"lk-button\"\n        onClick={() => {\n          if (onTabSelected) {\n            onTabSelected(index);\n          }\n        }}\n        aria-pressed={tabIndex === index}\n      >\n        {/* @ts-ignore */}\n        {child?.props.label}\n      </button>\n    );\n  });\n\n  return (\n    <div className={styles.tabContainer}>\n      <div className={styles.tabSelect}>{tabs}</div>\n      {/* @ts-ignore */}\n      {props.children[tabIndex]}\n    </div>\n  );\n}\n\nfunction DemoMeetingTab(props: { label: string }) {\n  const router = useRouter();\n  const [e2ee, setE2ee] = useState(false);\n  const [sharedPassphrase, setSharedPassphrase] = useState(randomString(64));\n  const startMeeting = () => {\n    if (e2ee) {\n      const roomId = generateRoomId();\n      const encodedPassphrase = encodePassphrase(sharedPassphrase);\n      router.push(`/rooms/room?roomName=${roomId}#${encodedPassphrase}`);\n    } else {\n      const roomId = generateRoomId();\n      router.push(`/rooms/room?roomName=${roomId}`);\n    }\n  };\n  return (\n    <div className={styles.tabContent}>\n      <p style={{ margin: 0 }}>Try LiveKit Meet for free with our live demo project.</p>\n      <button style={{ marginTop: '1rem' }} className=\"lk-button\" onClick={startMeeting}>\n        Start Meeting\n      </button>\n      <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\n        <div style={{ display: 'flex', flexDirection: 'row', gap: '1rem' }}>\n          <input\n            id=\"use-e2ee\"\n            type=\"checkbox\"\n            checked={e2ee}\n            onChange={(ev) => setE2ee(ev.target.checked)}\n          ></input>\n          <label htmlFor=\"use-e2ee\">Enable end-to-end encryption</label>\n        </div>\n        {e2ee && (\n          <div style={{ display: 'flex', flexDirection: 'row', gap: '1rem' }}>\n            <label htmlFor=\"passphrase\">Passphrase</label>\n            <input\n              id=\"passphrase\"\n              type=\"password\"\n              value={sharedPassphrase}\n              onChange={(ev) => setSharedPassphrase(ev.target.value)}\n            />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction CustomConnectionTab(props: { label: string }) {\n  const router = useRouter();\n\n  const [e2ee, setE2ee] = useState(false);\n  const [sharedPassphrase, setSharedPassphrase] = useState(randomString(64));\n\n  const onSubmit: React.FormEventHandler<HTMLFormElement> = (event) => {\n    event.preventDefault();\n    const formData = new FormData(event.target as HTMLFormElement);\n    const serverUrl = formData.get('serverUrl');\n    const token = formData.get('token');\n    if (e2ee) {\n      router.push(\n        `/custom/?liveKitUrl=${serverUrl}&token=${token}#${encodePassphrase(sharedPassphrase)}`,\n      );\n    } else {\n      router.push(`/custom/?liveKitUrl=${serverUrl}&token=${token}`);\n    }\n  };\n  return (\n    <form className={styles.tabContent} onSubmit={onSubmit}>\n      <p style={{ marginTop: 0 }}>\n        Connect LiveKit Meet with a custom server using LiveKit Cloud or LiveKit Server.\n      </p>\n      <input\n        id=\"serverUrl\"\n        name=\"serverUrl\"\n        type=\"url\"\n        placeholder=\"LiveKit Server URL: wss://*.livekit.cloud\"\n        required\n      />\n      <textarea\n        id=\"token\"\n        name=\"token\"\n        placeholder=\"Token\"\n        required\n        rows={5}\n        style={{ padding: '1px 2px', fontSize: 'inherit', lineHeight: 'inherit' }}\n      />\n      <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\n        <div style={{ display: 'flex', flexDirection: 'row', gap: '1rem' }}>\n          <input\n            id=\"use-e2ee\"\n            type=\"checkbox\"\n            checked={e2ee}\n            onChange={(ev) => setE2ee(ev.target.checked)}\n          ></input>\n          <label htmlFor=\"use-e2ee\">Enable end-to-end encryption</label>\n        </div>\n        {e2ee && (\n          <div style={{ display: 'flex', flexDirection: 'row', gap: '1rem' }}>\n            <label htmlFor=\"passphrase\">Passphrase</label>\n            <input\n              id=\"passphrase\"\n              type=\"password\"\n              value={sharedPassphrase}\n              onChange={(ev) => setSharedPassphrase(ev.target.value)}\n            />\n          </div>\n        )}\n      </div>\n\n      <hr\n        style={{ width: '100%', borderColor: 'rgba(255, 255, 255, 0.15)', marginBlock: '1rem' }}\n      />\n      <button\n        style={{ paddingInline: '1.25rem', width: '100%' }}\n        className=\"lk-button\"\n        type=\"submit\"\n      >\n        Connect\n      </button>\n    </form>\n  );\n}\n\nexport default function Page() {\n  return (\n    <>\n      <main className={styles.main} data-lk-theme=\"default\">\n        <div className=\"header\">\n          <img src=\"/images/livekit-meet-home.svg\" alt=\"LiveKit Meet\" width=\"360\" height=\"45\" />\n          <h2>\n            Open source video conferencing app built on{' '}\n            <a href=\"https://github.com/livekit/components-js?ref=meet\" rel=\"noopener\">\n              LiveKit&nbsp;Components\n            </a>\n            ,{' '}\n            <a href=\"https://livekit.io/cloud?ref=meet\" rel=\"noopener\">\n              LiveKit&nbsp;Cloud\n            </a>{' '}\n            and Next.js.\n          </h2>\n        </div>\n        <Suspense fallback=\"Loading\">\n          <Tabs>\n            <DemoMeetingTab label=\"Demo\" />\n            <CustomConnectionTab label=\"Custom\" />\n          </Tabs>\n        </Suspense>\n      </main>\n      <footer data-lk-theme=\"default\">\n        Hosted on{' '}\n        <a href=\"https://livekit.io/cloud?ref=meet\" rel=\"noopener\">\n          LiveKit Cloud\n        </a>\n        . Source code on{' '}\n        <a href=\"https://github.com/livekit/meet?ref=meet\" rel=\"noopener\">\n          GitHub\n        </a>\n        .\n      </footer>\n    </>\n  );\n}\n","export function encodePassphrase(passphrase: string) {\n  return encodeURIComponent(passphrase);\n}\n\nexport function decodePassphrase(base64String: string) {\n  return decodeURIComponent(base64String);\n}\n\nexport function generateRoomId(): string {\n  return `${randomString(4)}-${randomString(4)}`;\n}\n\nexport function randomString(length: number): string {\n  let result = '';\n  const characters = 'abcdefghijklmnopqrstuvwxyz0123456789';\n  const charactersLength = characters.length;\n  for (let i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n  return result;\n}\n","export * from \"../client/components/navigation\";\n\n//# sourceMappingURL=navigation.js.map","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Home_main__VkIEL\",\"tabContainer\":\"Home_tabContainer__OWE3m\",\"tabSelect\":\"Home_tabSelect__Kosnu\",\"tabContent\":\"Home_tabContent__rLu5Q\"};"],"names":["Promise","resolve","then","__webpack_require__","bind","Tabs","props","searchParams","useSearchParams","tabIndex","get","router","useRouter","onTabSelected","index","push","concat","tabs","React","map","children","child","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsx","button","className","onClick","aria-pressed","label","jsxs","div","styles","DemoMeetingTab","e2ee","setE2ee","useState","sharedPassphrase","setSharedPassphrase","randomString","p","style","margin","marginTop","roomId","generateRoomId","encodedPassphrase","encodePassphrase","display","flexDirection","gap","input","id","type","checked","onChange","ev","target","htmlFor","value","CustomConnectionTab","form","onSubmit","event","preventDefault","formData","FormData","serverUrl","token","name","placeholder","required","textarea","rows","padding","fontSize","lineHeight","hr","width","borderColor","marginBlock","paddingInline","Page","Fragment","main","data-lk-theme","img","src","alt","height","h2","a","href","rel","Suspense","fallback","footer","passphrase","encodeURIComponent","decodePassphrase","base64String","decodeURIComponent","length","result","characters","charactersLength","i","charAt","Math","floor","random","module","exports"],"sourceRoot":""}