(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[793,892,596],{1364:function(e,t,n){"use strict";n.d(t,{fy:function(){return qr}});var r={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},o=console,i={};Object.keys(r).forEach((function(e){i[e]=o[e]}));var a="Datadog Browser SDK:",c={debug:i.debug.bind(o,a),log:i.log.bind(o,a),info:i.info.bind(o,a),warn:i.warn.bind(o,a),error:i.error.bind(o,a)},u="https://docs.datadoghq.com",s="".concat(u,"/real_user_monitoring/browser/troubleshooting"),l="More details:";function f(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return e.apply(void 0,n)}catch(o){c.error(t,o)}}}var d,p=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},v=!1;function h(e){v=e}function m(e,t,n){var r=n.value;n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(d?g(r):r).apply(this,e)}}function g(e){return function(){return b(e,this,arguments)}}function b(e,t,n){try{return e.apply(t,n)}catch(r){if(y(r),d)try{d(r)}catch(r){y(r)}}}function y(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];v&&c.error.apply(c,p(["[MONITOR]"],e,!1))}function w(e,t){return-1!==e.indexOf(t)}function E(e){if(Array.from)return Array.from(e);var t=[];if(e instanceof Set)e.forEach((function(e){return t.push(e)}));else for(var n=0;n<e.length;n++)t.push(e[n]);return t}function k(e){return Object.keys(e).map((function(t){return e[t]}))}function S(e,t){return e.slice(0,t.length)===t}function x(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach((function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})),e}function C(){if("object"===typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var e=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!==typeof e&&(e="object"===typeof self?self:"object"===typeof window?window:{}),e}var T=1024,R=1024*T,P=/[^\u0000-\u007F]/;function M(e){return P.test(e)?void 0!==window.TextEncoder?(new TextEncoder).encode(e).length:new Blob([e]).size:e.length}function A(e,t){var n,r=C();return r.Zone&&"function"===typeof r.Zone.__symbol__&&(n=e[r.Zone.__symbol__(t)]),n||(n=e[t]),n}function _(e,t){return A(C(),"setTimeout")(g(e),t)}function O(e){A(C(),"clearTimeout")(e)}function L(e,t){return A(C(),"setInterval")(g(e),t)}function N(e){A(C(),"clearInterval")(e)}function I(e,t,n){var r,o,i=!n||void 0===n.leading||n.leading,a=!n||void 0===n.trailing||n.trailing,c=!1;return{throttled:function(){for(var n=[],u=0;u<arguments.length;u++)n[u]=arguments[u];c?r=n:(i?e.apply(void 0,n):r=n,c=!0,o=_((function(){a&&r&&e.apply(void 0,r),c=!1,r=void 0}),t))},cancel:function(){O(o),c=!1,r=void 0}}}function D(){}function j(e,t,n){if("object"!==typeof e||null===e)return JSON.stringify(e);var r=U(Object.prototype),o=U(Array.prototype),i=U(Object.getPrototypeOf(e)),a=U(e);try{return JSON.stringify(e,t,n)}catch(pt){return"<error: unable to serialize object>"}finally{r(),o(),i(),a()}}function U(e){var t=e,n=t.toJSON;return n?(delete t.toJSON,function(){t.toJSON=n}):D}function Q(e,t){return Object.keys(e).some((function(n){return e[n]===t}))}function F(e){return 0===Object.keys(e).length}var V=3*T,B=16*T,z=200;function q(e){void 0===e&&(e=2);var t=new Map,n=!1;function r(r){if(void 0===r&&(r=0),!n&&0!==e){var o=2===e?V:B,i=r;t.forEach((function(e){i+=e.getBytesCount()})),i>o&&(!function(e){c.warn("Customer data exceeds the recommended ".concat(e/T,"KiB threshold. ").concat(l," ").concat(s,"/#customer-data-exceeds-the-recommended-threshold-warning"))}(o),n=!0)}}return{createDetachedTracker:function(){var e=$((function(){return r(e.getBytesCount())}));return e},getOrCreateTracker:function(e){return t.has(e)||t.set(e,$(r)),t.get(e)},setCompressionStatus:function(t){0===e&&(e=t,r())},getCompressionStatus:function(){return e},stop:function(){t.forEach((function(e){return e.stop()})),t.clear()}}}function $(e){var t=0,n=I((function(n){t=M(j(n)),e()}),z),r=n.throttled,o=n.cancel,i=function(){o(),t=0};return{updateCustomerData:function(e){F(e)?i():r(e)},resetCustomerData:i,getBytesCount:function(){return t},stop:function(){o()}}}function H(e){return null===e?"null":Array.isArray(e)?"array":typeof e}function W(e,t,n){if(void 0===n&&(n=function(){if("undefined"!==typeof WeakSet){var e=new WeakSet;return{hasAlreadyBeenSeen:function(t){var n=e.has(t);return n||e.add(t),n}}}var t=[];return{hasAlreadyBeenSeen:function(e){var n=t.indexOf(e)>=0;return n||t.push(e),n}}}()),void 0===t)return e;if("object"!==typeof t||null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){var r=t.flags||[t.global?"g":"",t.ignoreCase?"i":"",t.multiline?"m":"",t.sticky?"y":"",t.unicode?"u":""].join("");return new RegExp(t.source,r)}if(!n.hasAlreadyBeenSeen(t)){if(Array.isArray(t)){for(var o=Array.isArray(e)?e:[],i=0;i<t.length;++i)o[i]=W(o[i],t[i],n);return o}var a="object"===H(e)?e:{};for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(a[c]=W(a[c],t[c],n));return a}}function Z(e){return W(void 0,e)}function G(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0,o=t;r<o.length;r++){var i=o[r];void 0!==i&&null!==i&&(e=W(e,i))}return e}var J=220*T,K="$",Y=3;function X(e,t){void 0===t&&(t=J);var n=U(Object.prototype),r=U(Array.prototype),o=[],i=new WeakMap,a=ee(e,K,void 0,o,i),c=JSON.stringify(a),u=c?c.length:0;if(!(u>t)){for(;o.length>0&&u<t;){var s=o.shift(),l=0;if(Array.isArray(s.source))for(var f=0;f<s.source.length;f++){if(u+=void 0!==(d=ee(s.source[f],s.path,f,o,i))?JSON.stringify(d).length:4,u+=l,l=1,u>t){te(t,"truncated",e);break}s.target[f]=d}else for(var f in s.source)if(Object.prototype.hasOwnProperty.call(s.source,f)){var d;if(void 0!==(d=ee(s.source[f],s.path,f,o,i))&&(u+=JSON.stringify(d).length+l+f.length+Y,l=1),u>t){te(t,"truncated",e);break}s.target[f]=d}}return n(),r(),a}te(t,"discarded",e)}function ee(e,t,n,r,o){var i=function(e){var t=e;if(t&&"function"===typeof t.toJSON)try{return t.toJSON()}catch(pt){}return e}(e);if(!i||"object"!==typeof i)return function(e){if("bigint"===typeof e)return"[BigInt] ".concat(e.toString());if("function"===typeof e)return"[Function] ".concat(e.name||"unknown");if("symbol"===typeof e)return"[Symbol] ".concat(e.description||e.toString());return e}(i);var a=function(e){try{if(e instanceof Event)return{isTrusted:e.isTrusted};var t=Object.prototype.toString.call(e).match(/\[object (.*)\]/);if(t&&t[1])return"[".concat(t[1],"]")}catch(pt){}return"[Unserializable]"}(i);if("[Object]"!==a&&"[Array]"!==a&&"[Error]"!==a)return a;var c=e;if(o.has(c))return"[Reference seen at ".concat(o.get(c),"]");var u=void 0!==n?"".concat(t,".").concat(n):t,s=Array.isArray(i)?[]:{};return o.set(c,u),r.push({source:i,target:s,path:u}),s}function te(e,t,n){c.warn("The data provided has been ".concat(t," as it is over the limit of ").concat(e," characters:"),n)}var ne=function(){function e(e){this.onFirstSubscribe=e,this.observers=[]}return e.prototype.subscribe=function(e){var t=this;return this.observers.push(e),1===this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe(this)||void 0),{unsubscribe:function(){t.observers=t.observers.filter((function(t){return e!==t})),!t.observers.length&&t.onLastUnsubscribe&&t.onLastUnsubscribe()}}},e.prototype.notify=function(e){this.observers.forEach((function(t){return t(e)}))},e}();function re(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new ne((function(t){var n=e.map((function(e){return e.subscribe((function(e){return t.notify(e)}))}));return function(){return n.forEach((function(e){return e.unsubscribe()}))}}))}function oe(e){var t={},n=new ne,r={getContext:function(){return Z(t)},setContext:function(o){"object"===H(o)?(t=X(o),e&&e.updateCustomerData(t)):r.clearContext(),n.notify()},setContextProperty:function(r,o){t[r]=X(o),e&&e.updateCustomerData(t),n.notify()},removeContextProperty:function(r){delete t[r],e&&e.updateCustomerData(t),n.notify()},clearContext:function(){t={},e&&e.resetCustomerData(),n.notify()},changeObservable:n};return r}var ie={GRANTED:"granted",NOT_GRANTED:"not-granted"};function ae(e,t,n,r,o){return ce(e,t,[n],r,o)}function ce(e,t,n,r,o){var i=void 0===o?{}:o,a=i.once,c=i.capture,u=i.passive,s=g((function(t){(t.isTrusted||t.__ddIsTrusted||e.allowUntrustedEvents)&&(a&&d(),r(t))})),l=u?{capture:c,passive:u}:c,f=A(t,"addEventListener");function d(){var e=A(t,"removeEventListener");n.forEach((function(n){return e.call(t,n,s,l)}))}return n.forEach((function(e){return f.call(t,e,s,l)})),{stop:d}}var ue="_dd_c",se=[];function le(e,t,n,r){var o=function(e,t){return"".concat(ue,"_").concat(e,"_").concat(t)}(n,r);function i(){var e=localStorage.getItem(o);return null!==e?JSON.parse(e):{}}se.push(ae(e,window,"storage",(function(e){var n=e.key;o===n&&t.setContext(i())}))),t.changeObservable.subscribe((function(){localStorage.setItem(o,JSON.stringify(t.getContext()))})),t.setContext(G(i(),t.getContext()))}var fe="?";function de(e){var t=[],n=Ee(e,"stack"),r=String(e);return n&&S(n,r)&&(n=n.slice(r.length)),n&&n.split("\n").forEach((function(e){var n=function(e){var t=he.exec(e);if(!t)return;var n=t[2]&&0===t[2].indexOf("native"),r=t[2]&&0===t[2].indexOf("eval"),o=me.exec(t[2]);r&&o&&(t[2]=o[1],t[3]=o[2],t[4]=o[3]);return{args:n?[t[2]]:[],column:t[4]?+t[4]:void 0,func:t[1]||fe,line:t[3]?+t[3]:void 0,url:n?void 0:t[2]}}(e)||function(e){var t=ge.exec(e);if(!t)return;return{args:[],column:t[3]?+t[3]:void 0,func:fe,line:t[2]?+t[2]:void 0,url:t[1]}}(e)||function(e){var t=be.exec(e);if(!t)return;return{args:[],column:t[4]?+t[4]:void 0,func:t[1]||fe,line:+t[3],url:t[2]}}(e)||function(e){var t=ye.exec(e);if(!t)return;var n=t[3]&&t[3].indexOf(" > eval")>-1,r=we.exec(t[3]);n&&r&&(t[3]=r[1],t[4]=r[2],t[5]=void 0);return{args:t[2]?t[2].split(","):[],column:t[5]?+t[5]:void 0,func:t[1]||fe,line:t[4]?+t[4]:void 0,url:t[3]}}(e);n&&(!n.func&&n.line&&(n.func=fe),t.push(n))})),{message:Ee(e,"message"),name:Ee(e,"name"),stack:t}}var pe="((?:file|https?|blob|chrome-extension|native|eval|webpack|snippet|<anonymous>|\\w+\\.|\\/).*?)",ve="(?::(\\d+))",he=new RegExp("^\\s*at (.*?) ?\\(".concat(pe).concat(ve,"?").concat(ve,"?\\)?\\s*$"),"i"),me=new RegExp("\\((\\S*)".concat(ve).concat(ve,"\\)"));var ge=new RegExp("^\\s*at ?".concat(pe).concat(ve,"?").concat(ve,"??\\s*$"),"i");var be=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;var ye=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,we=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function Ee(e,t){if("object"===typeof e&&e&&t in e){var n=e[t];return"string"===typeof n?n:void 0}}function ke(e,t,n,r){var o=[{url:t,column:r,line:n}],i=function(e){var t,n,r;"[object String]"==={}.toString.call(e)&&(n=(t=Se.exec(e))[1],r=t[2]);return{name:n,message:r}}(e);return{name:i.name,message:i.message,stack:o}}var Se=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?([\s\S]*)$/;function xe(){var e,t=new Error;if(!t.stack)try{throw t}catch(n){}return b((function(){var n=de(t);n.stack=n.stack.slice(2),e=Ce(n)})),e}function Ce(e){var t=Te(e);return e.stack.forEach((function(e){var n="?"===e.func?"<anonymous>":e.func,r=e.args&&e.args.length>0?"(".concat(e.args.join(", "),")"):"",o=e.line?":".concat(e.line):"",i=e.line&&e.column?":".concat(e.column):"";t+="\n  at ".concat(n).concat(r," @ ").concat(e.url).concat(o).concat(i)})),t}function Te(e){return"".concat(e.name||"Error",": ").concat(e.message)}var Re,Pe="No stack, consider using an instance of Error";function Me(e){var t=e.stackTrace,n=e.originalError,r=e.handlingStack,o=e.startClocks,i=e.nonErrorPrefix,a=e.source,c=e.handling,u=n instanceof Error,s=function(e,t,n,r){return(null===e||void 0===e?void 0:e.message)&&(null===e||void 0===e?void 0:e.name)?e.message:t?"Empty message":"".concat(n," ").concat(j(X(r)))}(t,u,i,n),l=function(e,t){if(void 0===t)return!1;if(e)return!0;return t.stack.length>0&&(t.stack.length>1||void 0!==t.stack[0].url)}(u,t)?Ce(t):Pe,f=u?_e(n,a):void 0;return{startClocks:o,source:a,handling:c,handlingStack:r,originalError:n,type:t?t.name:void 0,message:s,stack:l,causes:f,fingerprint:Ae(n)}}function Ae(e){return e instanceof Error&&"dd_fingerprint"in e?String(e.dd_fingerprint):void 0}function _e(e,t){for(var n=e,r=[];(null===n||void 0===n?void 0:n.cause)instanceof Error&&r.length<10;){var o=de(n.cause);r.push({message:n.cause.message,source:t,type:null===o||void 0===o?void 0:o.name,stack:o&&Ce(o)}),n=n.cause}return r.length?r:void 0}!function(e){e.WRITABLE_RESOURCE_GRAPHQL="writable_resource_graphql",e.REMOTE_CONFIGURATION="remote_configuration",e.UPDATE_VIEW_NAME="update_view_name",e.LONG_ANIMATION_FRAME="long_animation_frame"}(Re||(Re={}));var Oe=new Set;function Le(e){Array.isArray(e)&&e.filter((function(e){return Q(Re,e)})).forEach((function(e){Oe.add(e)}))}function Ne(){return Oe}var Ie,De="datad0g.com",je="dd0g-gov.com",Ue="datadoghq.com",Qe="pci.browser-intake-datadoghq.com",Fe=1e3,Ve=60*Fe,Be=60*Ve;function ze(){return(new Date).getTime()}function qe(){return ze()}function $e(){return performance.now()}function He(){return{relative:$e(),timeStamp:qe()}}function We(e,t){return e+t}function Ze(e){return e-Ge()}function Ge(){return void 0===Ie&&(Ie=performance.timing.navigationStart),Ie}function Je(e,t){var n=window.__ddBrowserSdkExtensionCallback;n&&n({type:e,payload:t})}function Ke(e){return 0!==e&&100*Math.random()<=e}function Ye(){var e,t=window.navigator;return{status:t.onLine?"connected":"not_connected",interfaces:t.connection&&t.connection.type?[t.connection.type]:void 0,effective_type:null===(e=t.connection)||void 0===e?void 0:e.effectiveType}}function Xe(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}var et=500;function tt(){var e=[];return{add:function(t){e.push(t)>et&&e.splice(0,1)},remove:function(t){Xe(e,t)},drain:function(t){e.forEach((function(e){return e(t)})),e.length=0}}}var nt={log:"log",configuration:"configuration",usage:"usage"},rt=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","https://d3uc069fcn7uxw.cloudfront.net","https://d20xtzwzcl0ceb.cloudfront.net","http://localhost","<anonymous>"],ot=["ddog-gov.com"],it=tt(),at=function(e){it.add((function(){return at(e)}))};function ct(e,t){var n,r,o=new ne,i=new Set,a=!w(ot,t.site)&&Ke(t.telemetrySampleRate),c=((n={})[nt.log]=a,n[nt.configuration]=a&&Ke(t.telemetryConfigurationSampleRate),n[nt.usage]=a&&Ke(t.telemetryUsageSampleRate),n),u={is_local_file:"file:"===window.location.protocol,is_worker:"WorkerGlobalScope"in self};return at=function(n){var a=j(n);if(c[n.type]&&i.size<t.maxTelemetryEventsPerPage&&!i.has(a)){var s=function(e,t,n){return G({type:"telemetry",date:qe(),service:e,version:"5.28.1",source:"browser",_dd:{format_version:2},telemetry:G(t,{runtime_env:n,connectivity:Ye(),sdk_setup:"npm"}),experimental_features:E(Ne())},void 0!==r?r():{})}(e,n,u);o.notify(s),Je("telemetry",s),i.add(a)}},d=st,{setContextProvider:function(e){r=e},observable:o,enabled:a}}function ut(e,t){y(r.debug,e,t),at(x({type:nt.log,message:e,status:"debug"},t))}function st(e,t){at(x({type:nt.log,status:"error"},function(e){if(e instanceof Error){var t=de(e);return{error:{kind:t.name,stack:Ce(lt(t))},message:t.message}}return{error:{stack:Pe},message:"".concat("Uncaught"," ").concat(j(e))}}(e),t))}function lt(e){return e.stack=e.stack.filter((function(e){return!e.url||rt.some((function(t){return S(e.url,t)}))})),e}function ft(e){var t=x({},e);return["id","name","email"].forEach((function(e){e in t&&(t[e]=String(t[e]))})),t}function dt(e,t){t.silentMultipleInit||c.error("".concat(e," is already initialized."))}var pt,vt={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",LOGGER:"logger",NETWORK:"network",SOURCE:"source",REPORT:"report"};function ht(e,t,n){var r=n.getHandler(),o=Array.isArray(r)?r:[r];return gt[e]>=gt[n.getLevel()]&&w(o,t)}var mt={ok:"ok",debug:"debug",info:"info",notice:"notice",warn:"warn",error:"error",critical:"critical",alert:"alert",emerg:"emerg"},gt=((pt={})[mt.ok]=0,pt[mt.debug]=1,pt[mt.info]=2,pt[mt.notice]=4,pt[mt.warn]=5,pt[mt.error]=6,pt[mt.critical]=7,pt[mt.alert]=8,pt[mt.emerg]=9,pt);function bt(e,t){var n=(void 0===t?{}:t).includeMessage,r=void 0!==n&&n;return{stack:e.stack,kind:e.type,message:r?e.message:void 0,causes:e.causes,fingerprint:e.fingerprint,handling:e.handling}}var yt=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},wt={console:"console",http:"http",silent:"silent"},Et=Object.keys(mt),kt=function(){function e(e,t,n,r,o,i){void 0===r&&(r=wt.http),void 0===o&&(o=mt.debug),void 0===i&&(i={}),this.handleLogStrategy=e,this.handlerType=r,this.level=o,this.contextManager=oe(t),this.contextManager.setContext(i),n&&this.contextManager.setContextProperty("logger",{name:n})}return e.prototype.logImplementation=function(e,t,n,r,o){void 0===n&&(n=mt.info);var i,a=X(t);void 0!==r&&null!==r?i=G({error:bt(Me({stackTrace:r instanceof Error?de(r):void 0,originalError:r,nonErrorPrefix:"Provided",source:vt.LOGGER,handling:"handled",startClocks:He()}),{includeMessage:!0})},a):i=a;this.handleLogStrategy({message:X(e),context:i,status:n},this,o)},e.prototype.log=function(e,t,n,r){var o;void 0===n&&(n=mt.info),ht(n,wt.http,this)&&(o=xe()),this.logImplementation(e,t,n,r,o)},e.prototype.setContext=function(e){this.contextManager.setContext(e)},e.prototype.getContext=function(){return this.contextManager.getContext()},e.prototype.setContextProperty=function(e,t){this.contextManager.setContextProperty(e,t)},e.prototype.removeContextProperty=function(e){this.contextManager.removeContextProperty(e)},e.prototype.clearContext=function(){this.contextManager.clearContext()},e.prototype.setHandler=function(e){this.handlerType=e},e.prototype.getHandler=function(){return this.handlerType},e.prototype.setLevel=function(e){this.level=e},e.prototype.getLevel=function(){return this.level},yt([m],e.prototype,"logImplementation",null),e}();function St(e){return function(t,n,r){var o;ht(e,wt.http,this)&&(o=xe()),this.logImplementation(t,n,e,r,o)}}function xt(){var e=C().DatadogEventBridge;if(e)return{getCapabilities:function(){var t;return JSON.parse((null===(t=e.getCapabilities)||void 0===t?void 0:t.call(e))||"[]")},getPrivacyLevel:function(){var t;return null===(t=e.getPrivacyLevel)||void 0===t?void 0:t.call(e)},getAllowedWebViewHosts:function(){return JSON.parse(e.getAllowedWebViewHosts())},send:function(t,n,r){var o=r?{id:r}:void 0;e.send(JSON.stringify({eventType:t,event:n,view:o}))}}}function Ct(e){var t;void 0===e&&(e=null===(t=C().location)||void 0===t?void 0:t.hostname);var n=xt();return!!n&&n.getAllowedWebViewHosts().some((function(t){return e===t||(n=e,r=".".concat(t),n.slice(-r.length)===r);var n,r}))}function Tt(e,t,n,r){var o=(void 0===r?{}:r).computeHandlingStack,i=e[t];if("function"!==typeof i){if(!(t in e)||!S(t,"on"))return{stop:D};i=D}var a=!1,c=function(){if(a)return i.apply(this,arguments);var e,t=E(arguments);b(n,null,[{target:this,parameters:t,onPostCall:function(t){e=t},handlingStack:o?xe():void 0}]);var r=i.apply(this,t);return e&&b(e,null,[r]),r};return e[t]=c,{stop:function(){a=!0,e[t]===c&&(e[t]=i)}}}function Rt(e){return Pt(e,location.href).href}function Pt(e,t){var n=function(){if(void 0===Mt)try{var e=new _t("http://test/path");Mt="http://test/path"===e.href}catch(pt){Mt=!1}return Mt?_t:void 0}();if(n)try{return void 0!==t?new n(e,t):new n(e)}catch(a){throw new Error("Failed to construct URL: ".concat(String(a)," ").concat(j({url:e,base:t})))}if(void 0===t&&!/:/.test(e))throw new Error("Invalid URL: '".concat(e,"'"));var r=document,o=r.createElement("a");if(void 0!==t){var i=(r=document.implementation.createHTMLDocument("")).createElement("base");i.href=t,r.head.appendChild(i),r.body.appendChild(o)}return o.href=e,o}kt.prototype.ok=St(mt.ok),kt.prototype.debug=St(mt.debug),kt.prototype.info=St(mt.info),kt.prototype.notice=St(mt.notice),kt.prototype.warn=St(mt.warn),kt.prototype.error=St(mt.error),kt.prototype.critical=St(mt.critical),kt.prototype.alert=St(mt.alert),kt.prototype.emerg=St(mt.emerg);var Mt,At,_t=URL;function Ot(){return At||(At=new ne((function(e){if(window.fetch){var t=Tt(window,"fetch",(function(t){return function(e,t){var n=e.parameters,r=e.onPostCall,o=e.handlingStack,i=n[0],a=n[1],c=a&&a.method;void 0===c&&i instanceof Request&&(c=i.method);var u=void 0!==c?String(c).toUpperCase():"GET",s=i instanceof Request?i.url:Rt(String(i)),l=He(),f={state:"start",init:a,input:i,method:u,startClocks:l,url:s,handlingStack:o};t.notify(f),n[0]=f.input,n[1]=f.init,r((function(e){return function(e,t,n){var r=n;function o(t){r.state="resolve",x(r,t),e.notify(r)}t.then(g((function(e){o({response:e,responseType:e.type,status:e.status,isAborted:!1})})),g((function(e){var t,n;o({status:0,isAborted:(null===(n=null===(t=r.init)||void 0===t?void 0:t.signal)||void 0===n?void 0:n.aborted)||e instanceof DOMException&&e.code===DOMException.ABORT_ERR,error:e})})))}(t,e,f)}))}(t,e)}),{computeHandlingStack:!0}).stop;return t}}))),At}function Lt(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,Lt)}var Nt,It,Dt,jt=/([\w-]+)\s*=\s*([^;]+)/g;function Ut(e,t,n){void 0===n&&(n="");var r=e.charCodeAt(t-1),o=r>=55296&&r<=56319?t+1:t;return e.length<=o?e:"".concat(e.slice(0,o)).concat(n)}function Qt(){return null!==Nt&&void 0!==Nt?Nt:Nt=function(e){var t;void 0===e&&(e=window);var n=e.navigator.userAgent;if(e.chrome||/HeadlessChrome/.test(n))return 1;if(0===(null===(t=e.navigator.vendor)||void 0===t?void 0:t.indexOf("Apple"))||/safari/i.test(n)&&!/chrome|android/i.test(n))return 2;if(e.document.documentMode)return 0;return 3}()}function Ft(e,t,n,r){var o=new Date;o.setTime(o.getTime()+n);var i="expires=".concat(o.toUTCString()),a=r&&r.crossSite?"none":"strict",c=r&&r.domain?";domain=".concat(r.domain):"",u=r&&r.secure?";secure":"",s=r&&r.partitioned?";partitioned":"";document.cookie="".concat(e,"=").concat(t,";").concat(i,";path=/;samesite=").concat(a).concat(c).concat(u).concat(s)}function Vt(e){return function(e,t){for(jt.lastIndex=0;;){var n=jt.exec(e);if(!n)break;if(n[1]===t)return n[2]}}(document.cookie,e)}function Bt(e){return It||(It=function(e){var t=new Map;for(jt.lastIndex=0;;){var n=jt.exec(e);if(!n)break;t.set(n[1],n[2])}return t}(document.cookie)),It.get(e)}function zt(e,t){Ft(e,"",0,t)}var qt="_dd_s",$t=4*Be,Ht=15*Ve,Wt=/^([a-zA-Z]+)=([a-z0-9-]+)$/,Zt="&",Gt="1";function Jt(){return{isExpired:Gt}}function Kt(e){return F(e)}function Yt(e){return!Kt(e)}function Xt(e){return void 0!==e.isExpired||!((void 0===(t=e).created||ze()-Number(t.created)<$t)&&(void 0===t.expire||ze()<Number(t.expire)));var t}function en(e){e.expire=String(ze()+Ht)}function tn(e){return(t=e,Object.keys(t).map((function(e){return[e,t[e]]}))).map((function(e){var t=e[0],n=e[1];return"".concat(t,"=").concat(n)})).join(Zt);var t}function nn(e){var t={};return function(e){return!!e&&(-1!==e.indexOf(Zt)||Wt.test(e))}(e)&&e.split(Zt).forEach((function(e){var n=Wt.exec(e);if(null!==n){var r=n[1],o=n[2];t[r]=o}})),t}var rn="_dd",on="_dd_r",an="_dd_l",cn="rum",un="logs";function sn(e){var t=function(e){var t={};t.secure=!!e.useSecureSessionCookie||!!e.usePartitionedCrossSiteSessionCookie||!!e.useCrossSiteSessionCookie,t.crossSite=!!e.usePartitionedCrossSiteSessionCookie||!!e.useCrossSiteSessionCookie,t.partitioned=!!e.usePartitionedCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(t.domain=function(){if(void 0===Dt){for(var e="dd_site_test_".concat(Lt()),t=window.location.hostname.split("."),n=t.pop();t.length&&!Vt(e);)n="".concat(t.pop(),".").concat(n),Ft(e,"test",Fe,{domain:n});zt(e,{domain:n}),Dt=n}return Dt}());return t}(e);return function(e){if(void 0===document.cookie||null===document.cookie)return!1;try{var t="dd_cookie_test_".concat(Lt()),n="test";Ft(t,n,Ve,e);var r=Vt(t)===n;return zt(t,e),r}catch(o){return c.error(o),!1}}(t)?{type:"Cookie",cookieOptions:t}:void 0}function ln(e){var t,n={isLockEnabled:1===Qt(),persistSession:(t=e,function(e){Ft(qt,tn(e),Ht,t)}),retrieveSession:fn,expireSession:function(){return function(e){Ft(qt,tn(Jt()),$t,e)}(e)}};return function(e){if(!Bt(qt)){var t=Bt(rn),n=Bt(on),r=Bt(an),o={};t&&(o.id=t),r&&/^[01]$/.test(r)&&(o[un]=r),n&&/^[012]$/.test(n)&&(o[cn]=n),Yt(o)&&(en(o),e.persistSession(o))}}(n),n}function fn(){return nn(Vt(qt))}var dn="_dd_test_";function pn(e){localStorage.setItem(qt,tn(e))}function vn(){return nn(localStorage.getItem(qt))}function hn(){pn(Jt())}var mn,gn=10,bn=100,yn=[];function wn(e,t,n){var r;void 0===n&&(n=0);var o=t.isLockEnabled,i=t.persistSession,a=t.expireSession,c=function(e){return i(x({},e,{lock:s}))},u=function(){var e=t.retrieveSession(),n=e.lock;return e.lock&&delete e.lock,{session:e,lock:n}};if(mn||(mn=e),e===mn)if(o&&n>=bn)kn(t);else{var s,l=u();if(o){if(l.lock)return void En(e,t,n);if(s=Lt(),c(l.session),(l=u()).lock!==s)return void En(e,t,n)}var f=e.process(l.session);if(o&&(l=u()).lock!==s)En(e,t,n);else{if(f&&(Xt(f)?a():(en(f),o?c(f):i(f))),o&&(!f||!Xt(f))){if((l=u()).lock!==s)return void En(e,t,n);i(l.session),f=l.session}null===(r=e.after)||void 0===r||r.call(e,f||l.session),kn(t)}}else yn.push(e)}function En(e,t,n){_((function(){wn(e,t,n+1)}),gn)}function kn(e){mn=void 0;var t=yn.shift();t&&wn(t,e)}var Sn=Fe;function xn(e){var t=sn(e);return!t&&e.allowFallbackToLocalStorage&&(t=function(){try{var e=Lt(),t="".concat(dn).concat(e);localStorage.setItem(t,e);var n=localStorage.getItem(t);return localStorage.removeItem(t),e===n?{type:"LocalStorage"}:void 0}catch(r){return}}()),t}function Cn(e,t,n){var r,o=new ne,i=new ne,a=new ne,c="Cookie"===e.type?ln(e.cookieOptions):{isLockEnabled:!1,persistSession:pn,retrieveSession:vn,expireSession:hn},u=c.expireSession,s=L((function(){wn({process:function(e){return Xt(e)?Jt():void 0},after:p},c)}),Sn);v();var l=I((function(){wn({process:function(e){if(!Kt(e)){var r=p(e);return function(e){if(Kt(e))return!1;var r=n(e[t]),o=r.trackingType,i=r.isTracked;e[t]=o,delete e.isExpired,i&&!e.id&&(e.id=Lt(),e.created=String(ze()))}(r),r}},after:function(e){Yt(e)&&!h()&&function(e){r=e,o.notify()}(e),r=e}},c)}),Sn),f=l.throttled,d=l.cancel;function p(e){return Xt(e)&&(e=Jt()),h()&&(!function(e){return r.id!==e.id||r[t]!==e[t]}(e)?(a.notify({previousState:r,newState:e}),r=e):(r=Jt(),i.notify())),e}function v(){wn({process:function(e){if(Kt(e))return Jt()},after:function(e){r=e}},c)}function h(){return void 0!==r[t]}return{expandOrRenewSession:f,expandSession:function(){wn({process:function(e){return h()?p(e):void 0}},c)},getSession:function(){return r},renewObservable:o,expireObservable:i,sessionStateUpdateObservable:a,restartSession:v,expire:function(){d(),u(),p(Jt())},stop:function(){N(s)},updateSessionState:function(e){wn({process:function(t){return x({},t,e)},after:p},c)}}}function Tn(e,t,n){var r=function(e,t){var n="/api/v2/".concat(t),r=e.proxy;if("string"===typeof r){var o=Rt(r);return function(e){return"".concat(o,"?ddforward=").concat(encodeURIComponent("".concat(n,"?").concat(e)))}}if("function"===typeof r)return function(e){return r({path:n,parameters:e})};var i=function(e,t){var n=t.site,r=void 0===n?Ue:n,o=t.internalAnalyticsSubdomain;if("logs"===e&&t.usePciIntake&&r===Ue)return Qe;if(o&&r===Ue)return"".concat(o,".").concat(Ue);if(r===je)return"http-intake.logs.".concat(r);var i=r.split("."),a=i.pop();return"browser-intake-".concat(i.join("-"),".").concat(a)}(t,e);return function(e){return"https://".concat(i).concat(n,"?").concat(e)}}(e,t);return{build:function(o,i){var a=function(e,t,n,r,o){var i=e.clientToken,a=e.internalAnalyticsSubdomain,c=o.retry,u=o.encoding,s=["sdk_version:".concat("5.28.1"),"api:".concat(r)].concat(n);c&&s.push("retry_count:".concat(c.count),"retry_after:".concat(c.lastFailureStatus));var l=["ddsource=browser","ddtags=".concat(encodeURIComponent(s.join(","))),"dd-api-key=".concat(i),"dd-evp-origin-version=".concat(encodeURIComponent("5.28.1")),"dd-evp-origin=browser","dd-request-id=".concat(Lt())];u&&l.push("dd-evp-encoding=".concat(u));"rum"===t&&l.push("batch_time=".concat(qe()));a&&l.reverse();return l.join("&")}(e,t,n,o,i);return r(a)},urlPrefix:r(""),trackType:t}}var Rn=200;function Pn(e,t){var n=Rn-e.length-1;(t.length>n||function(e){if(!function(){try{return new RegExp("[\\p{Ll}]","u"),!0}catch(pt){return!1}}())return!1;return new RegExp("[^\\p{Ll}\\p{Lo}0-9_:./-]","u").test(e)}(t))&&c.warn("".concat(e," value doesn't meet tag requirements and will be sanitized. ").concat(l," ").concat(u,"/getting_started/tagging/#defining-tags"));var r=t.replace(/,/g,"_");return"".concat(e,":").concat(r)}function Mn(e){var t=e.site||Ue,n=function(e){var t=e.env,n=e.service,r=e.version,o=e.datacenter,i=[];return t&&i.push(Pn("env",t)),n&&i.push(Pn("service",n)),r&&i.push(Pn("version",r)),o&&i.push(Pn("datacenter",o)),i}(e),r=function(e,t){return{logsEndpointBuilder:Tn(e,"logs",t),rumEndpointBuilder:Tn(e,"rum",t),sessionReplayEndpointBuilder:Tn(e,"replay",t)}}(e,n),o=function(e,t){var n=k(e).map((function(e){return e.urlPrefix}));t===Ue&&n.push("https://".concat(Qe,"/"));return n}(r,t),i=function(e,t,n){if(!e.replica)return;var r=x({},e,{site:Ue,clientToken:e.replica.clientToken}),o={logsEndpointBuilder:Tn(r,"logs",n),rumEndpointBuilder:Tn(r,"rum",n)};return t.push.apply(t,k(o).map((function(e){return e.urlPrefix}))),x({applicationId:e.replica.applicationId},o)}(e,o,n);return x({isIntakeUrl:function(e){return o.some((function(t){return 0===e.indexOf(t)}))},replica:i,site:t},r)}function An(e,t){return void 0===e||null===e||"string"===typeof e||(c.error("".concat(t," must be defined as a string")),!1)}function _n(e,t){return!!(void 0===e||(n=e,function(e){return"number"===typeof e}(n)&&n>=0&&n<=100))||(c.error("".concat(t," Sample Rate should be a number between 0 and 100")),!1);var n}function On(e){var t,n,r,o,i;if(e&&e.clientToken){if((!(a=e.site)||"string"!==typeof a||/(datadog|ddog|datad0g|dd0g)/.test(a)||(c.error("Site should be a valid Datadog site. ".concat(l," ").concat(u,"/getting_started/site/.")),0))&&_n(e.sessionSampleRate,"Session")&&_n(e.telemetrySampleRate,"Telemetry")&&_n(e.telemetryConfigurationSampleRate,"Telemetry Configuration")&&_n(e.telemetryUsageSampleRate,"Telemetry Usage")&&An(e.version,"Version")&&An(e.env,"Env")&&An(e.service,"Service")){var a;if(void 0===e.trackingConsent||Q(ie,e.trackingConsent))return x({beforeSend:e.beforeSend&&f(e.beforeSend,"beforeSend threw an error:"),sessionStoreStrategyType:xn(e),sessionSampleRate:null!==(t=e.sessionSampleRate)&&void 0!==t?t:100,telemetrySampleRate:null!==(n=e.telemetrySampleRate)&&void 0!==n?n:20,telemetryConfigurationSampleRate:null!==(r=e.telemetryConfigurationSampleRate)&&void 0!==r?r:5,telemetryUsageSampleRate:null!==(o=e.telemetryUsageSampleRate)&&void 0!==o?o:5,service:e.service||void 0,silentMultipleInit:!!e.silentMultipleInit,allowUntrustedEvents:!!e.allowUntrustedEvents,trackingConsent:null!==(i=e.trackingConsent)&&void 0!==i?i:ie.GRANTED,storeContextsAcrossPages:!!e.storeContextsAcrossPages,batchBytesLimit:16*T,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:30*Fe,batchMessagesLimit:50,messageBytesLimit:256*T},Mn(e));c.error('Tracking Consent should be either "granted" or "not-granted"')}}else c.error("Client Token is not configured, we will not send any data.")}var Ln={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function Nn(e,t){var n=[];w(t,Ln.cspViolation)&&n.push(function(e){return new ne((function(t){return ae(e,document,"securitypolicyviolation",(function(e){t.notify(function(e){var t="'".concat(e.blockedURI,"' blocked by '").concat(e.effectiveDirective,"' directive");return In({type:e.effectiveDirective,message:"".concat(Ln.cspViolation,": ").concat(t),originalError:e,csp:{disposition:e.disposition},stack:Dn(e.effectiveDirective,e.originalPolicy?"".concat(t,' of the policy "').concat(Ut(e.originalPolicy,100,"..."),'"'):"no policy",e.sourceFile,e.lineNumber,e.columnNumber)})}(e))})).stop}))}(e));var r=t.filter((function(e){return e!==Ln.cspViolation}));return r.length&&n.push(function(e){return new ne((function(t){if(window.ReportingObserver){var n=g((function(e,n){return e.forEach((function(e){return t.notify(function(e){var t=e.type,n=e.body;return In({type:n.id,message:"".concat(t,": ").concat(n.message),originalError:e,stack:Dn(n.id,n.message,n.sourceFile,n.lineNumber,n.columnNumber)})}(e))}))})),r=new window.ReportingObserver(n,{types:e,buffered:!0});return r.observe(),function(){r.disconnect()}}}))}(r)),re.apply(void 0,n)}function In(e){return x({startClocks:He(),source:vt.REPORT,handling:"unhandled"},e)}function Dn(e,t,n,r,o){return n?Ce({name:e,message:t,stack:[{func:"?",url:n,line:null!==r&&void 0!==r?r:void 0,column:null!==o&&void 0!==o?o:void 0}]}):void 0}var jn=32*T;function Un(e,t,n){return void 0===e?[]:"all"===e||Array.isArray(e)&&e.every((function(e){return w(t,e)}))?"all"===e?t:function(e){var t=new Set;return e.forEach((function(e){return t.add(e)})),E(t)}(e):void c.error("".concat(n,' should be "all" or an array with allowed values "').concat(t.join('", "'),'"'))}function Qn(e,t,n){var o,i,a=tt(),u=t.observable.subscribe(s);function s(){if(i&&o&&t.isGranted()){u.unsubscribe();var e=n(o,i);a.drain(e)}}return{init:function(e){if(e)if(Le(e.enableExperimentalFeatures),Ct()&&(e=function(e){return x({},e,{clientToken:"empty"})}(e)),o=e,i)dt("DD_LOGS",e);else{var n=function(e){!0===e.usePciIntake&&e.site&&"datadoghq.com"!==e.site&&c.warn("PCI compliance for Logs is only available for Datadog organizations in the US1 site. Default intake will be used.");var t=On(e),n=Un(e.forwardConsoleLogs,k(r),"Forward Console Logs"),o=Un(e.forwardReports,k(Ln),"Forward Reports");if(t&&n&&o)return e.forwardErrorsToLogs&&!w(n,r.error)&&n.push(r.error),x({forwardErrorsToLogs:!1!==e.forwardErrorsToLogs,forwardConsoleLogs:n,forwardReports:o,requestErrorResponseLengthLimit:jn,sendLogsAfterSessionExpiration:!!e.sendLogsAfterSessionExpiration},t)}(e);n&&(i=n,Ot().subscribe(D),t.tryToInit(n.trackingConsent),s())}else c.error("Missing configuration")},get initConfiguration(){return o},getInternalContext:D,handleLog:function(t,n,r,o,i){void 0===o&&(o=e()),void 0===i&&(i=qe()),a.add((function(e){return e.handleLog(t,n,r,o,i)}))}}}var Fn="logs";var Vn={HIDDEN:"visibility_hidden",UNLOADING:"before_unload",PAGEHIDE:"page_hide",FROZEN:"page_frozen"};var Bn="datadog-synthetics-public-id",zn="datadog-synthetics-result-id",qn="datadog-synthetics-injects-rum";function $n(){return Boolean(window._DATADOG_SYNTHETICS_INJECTS_RUM||Bt(qn))}function Hn(){var e=window._DATADOG_SYNTHETICS_PUBLIC_ID||Bt(Bn);return"string"===typeof e?e:void 0}function Wn(){var e=window._DATADOG_SYNTHETICS_RESULT_ID||Bt(zn);return"string"===typeof e?e:void 0}var Zn=1/0,Gn=Ve;function Jn(e){var t=e.expireDelay,n=e.maxEntries,r=[],o=L((function(){return function(){var e=$e()-t;for(;r.length>0&&r[r.length-1].endTime<e;)r.pop()}()}),Gn);return{add:function(e,t){var o={value:e,startTime:t,endTime:Zn,remove:function(){Xe(r,o)},close:function(e){o.endTime=e}};return n&&r.length>=n&&r.pop(),r.unshift(o),o},find:function(e,t){void 0===e&&(e=Zn),void 0===t&&(t={returnInactive:!1});for(var n=0,o=r;n<o.length;n++){var i=o[n];if(i.startTime<=e){if(t.returnInactive||e<=i.endTime)return i.value;break}}},closeActive:function(e){var t=r[0];t&&t.endTime===Zn&&t.close(e)},findAll:function(e,t){void 0===e&&(e=Zn),void 0===t&&(t=0);var n=We(e,t);return r.filter((function(t){return t.startTime<=n&&e<=t.endTime})).map((function(e){return e.value}))},reset:function(){r=[]},stop:function(){N(o)}}}var Kn=Ve,Yn=$t,Xn=[];function er(e,t,n,r){var o=new ne,i=new ne,a=Cn(e.sessionStoreStrategyType,t,n);Xn.push((function(){return a.stop()}));var c=Jn({expireDelay:Yn});function u(){return{id:a.getSession().id,trackingType:a.getSession()[t],isReplayForced:!!a.getSession().forcedReplay}}return Xn.push((function(){return c.stop()})),a.renewObservable.subscribe((function(){c.add(u(),$e()),o.notify()})),a.expireObservable.subscribe((function(){i.notify(),c.closeActive($e())})),a.expandOrRenewSession(),c.add(u(),[0,Ge()][0]),r.observable.subscribe((function(){r.isGranted()?a.expandOrRenewSession():a.expire()})),function(e,t){var n=ce(e,window,["click","touchstart","keydown","scroll"],t,{capture:!0,passive:!0}).stop;Xn.push(n)}(e,(function(){r.isGranted()&&a.expandOrRenewSession()})),function(e,t){var n=function(){"visible"===document.visibilityState&&t()},r=ae(e,document,"visibilitychange",n).stop;Xn.push(r);var o=L(n,Kn);Xn.push((function(){N(o)}))}(e,(function(){return a.expandSession()})),function(e,t){var n=ae(e,window,"resume",t,{capture:!0}).stop;Xn.push(n)}(e,(function(){return a.restartSession()})),{findSession:function(e,t){return c.find(e,t)},renewObservable:o,expireObservable:i,sessionStateUpdateObservable:a.sessionStateUpdateObservable,expire:a.expire,updateSessionState:a.updateSessionState}}var tr="logs";function nr(e,t){var n=er(e,tr,(function(t){return function(e,t){var n=function(e){return"0"===e||"1"===e}(t)?t:rr(e);return{trackingType:n,isTracked:"1"===n}}(e,t)}),t);return{findTrackedSession:function(e,t){void 0===t&&(t={returnInactive:!1});var r=n.findSession(e,t);return r&&"1"===r.trackingType?{id:r.id}:void 0},expireObservable:n.expireObservable}}function rr(e){return Ke(e.sessionSampleRate)?"1":"0"}var or=!1;function ir(e){var t=window;if($n()){var n=r(t.DD_RUM_SYNTHETICS);return n||or||(or=!0,ut("Logs sent before RUM is injected by the synthetics worker",{testId:Hn(),resultId:Wn()})),n}return r(t.DD_RUM);function r(t){if(t&&t.getInternalContext)return t.getInternalContext(e)}}function ar(e,t,n,r,o){var i=Et.concat(["custom"]),a={};i.forEach((function(e){a[e]=function(e,t,n){var r=0,o=!1;return{isLimitReached:function(){if(0===r&&_((function(){r=0}),Ve),(r+=1)<=t||o)return o=!1,!1;if(r===t+1){o=!0;try{n({message:"Reached max number of ".concat(e,"s by minute: ").concat(t),source:vt.AGENT,startClocks:He()})}finally{o=!1}}return!0}}}(e,t.eventRateLimiterThreshold,o)})),n.subscribe(0,(function(o){var i,c,u=o.rawLogsEvent,s=o.messageContext,l=void 0===s?void 0:s,f=o.savedCommonContext,d=void 0===f?void 0:f,p=o.domainContext,v=Ze(u.date),h=e.findTrackedSession(v);if(h||t.sendLogsAfterSessionExpiration&&e.findTrackedSession(v,{returnInactive:!0})){var m=d||r(),g=G({service:t.service,session_id:h?h.id:void 0,usr:F(m.user)?void 0:m.user,view:m.view},m.context,ir(v),u,l);!1===(null===(i=t.beforeSend)||void 0===i?void 0:i.call(t,g,p))||g.origin!==vt.AGENT&&(null!==(c=a[g.status])&&void 0!==c?c:a.custom).isLimitReached()||n.notify(1,g)}}))}var cr,ur={};function sr(e){var t=e.map((function(e){return ur[e]||(ur[e]=function(e){return new ne((function(t){var n=o[e];return o[e]=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];n.apply(console,o);var a=xe();b((function(){t.notify(function(e,t,n){var o,i=e.map((function(e){return function(e){if("string"===typeof e)return X(e);if(e instanceof Error)return Te(de(e));return j(X(e),void 0,2)}(e)})).join(" ");if(t===r.error){var a=function(e,t){for(var n=0;n<e.length;n+=1){var r=e[n];if(t(r,n))return r}}(e,(function(e){return e instanceof Error}));o={stack:a?Ce(de(a)):void 0,fingerprint:Ae(a),causes:a?_e(a,"console"):void 0,startClocks:He(),message:i,source:vt.CONSOLE,handling:"handled",handlingStack:n}}return{api:t,message:i,error:o,handlingStack:n}}(o,e,a))}))},function(){o[e]=n}}))}(e)),ur[e]}));return re.apply(void 0,t)}var lr,fr=((cr={})[r.log]=mt.info,cr[r.debug]=mt.debug,cr[r.info]=mt.info,cr[r.warn]=mt.warn,cr[r.error]=mt.error,cr);var dr=new WeakMap;function pr(e){return lr||(lr=function(e){return new ne((function(t){var n=Tt(XMLHttpRequest.prototype,"open",vr).stop,r=Tt(XMLHttpRequest.prototype,"send",(function(n){!function(e,t,n){var r=e.target,o=e.handlingStack,i=dr.get(r);if(!i)return;var a=i;a.state="start",a.startClocks=He(),a.isAborted=!1,a.xhr=r,a.handlingStack=o;var c=!1,u=Tt(r,"onreadystatechange",(function(){r.readyState===XMLHttpRequest.DONE&&s()})).stop,s=function(){if(l(),u(),!c){c=!0;var e,t=i;t.state="complete",t.duration=(e=a.startClocks.timeStamp,qe()-e),t.status=r.status,n.notify(x({},t))}},l=ae(t,r,"loadend",s).stop;n.notify(a)}(n,e,t)}),{computeHandlingStack:!0}).stop,o=Tt(XMLHttpRequest.prototype,"abort",hr).stop;return function(){n(),r(),o()}}))}(e)),lr}function vr(e){var t=e.target,n=e.parameters,r=n[0],o=n[1];dr.set(t,{state:"open",method:String(r).toUpperCase(),url:Rt(String(o))})}function hr(e){var t=e.target,n=dr.get(t);n&&(n.isAborted=!0)}function mr(e){return e>=500}function gr(e,t){if(!e.forwardErrorsToLogs)return{stop:D};var n=pr(e).subscribe((function(e){"complete"===e.state&&o("xhr",e)})),r=Ot().subscribe((function(e){"resolve"===e.state&&o("fetch",e)}));function o(n,r){function o(e){var o={isAborted:r.isAborted,handlingStack:r.handlingStack};t.notify(0,{rawLogsEvent:{message:"".concat(yr(n)," error ").concat(r.method," ").concat(r.url),date:r.startClocks.timeStamp,error:{stack:e||"Failed to load",handling:void 0},http:{method:r.method,status_code:r.status,url:r.url},status:mt.error,origin:vt.NETWORK},domainContext:o})}e.isIntakeUrl(r.url)||!function(e){return 0===e.status&&"opaque"!==e.responseType}(r)&&!mr(r.status)||("xhr"in r?function(e,t,n){"string"===typeof e.response?n(br(e.response,t)):n(e.response)}(r.xhr,e,o):r.response?function(e,t,n){var r=function(e){try{return e.clone()}catch(t){return}}(e);r&&r.body?window.TextDecoder?function(e,t,n){!function(e,t,n){var r=e.getReader(),o=[],i=0;function a(){var e,a;if(r.cancel().catch(D),n.collectStreamBody){var c;if(1===o.length)c=o[0];else{c=new Uint8Array(i);var u=0;o.forEach((function(e){c.set(e,u),u+=e.length}))}e=c.slice(0,n.bytesLimit),a=c.length>n.bytesLimit}t(void 0,e,a)}!function e(){r.read().then(g((function(t){t.done?a():(n.collectStreamBody&&o.push(t.value),(i+=t.value.length)>n.bytesLimit?a():e())})),g((function(e){return t(e)})))}()}(e,(function(e,t,r){if(e)n(e);else{var o=(new TextDecoder).decode(t);r&&(o+="..."),n(void 0,o)}}),{bytesLimit:t,collectStreamBody:!0})}(r.body,t.requestErrorResponseLengthLimit,(function(e,t){n(e?"Unable to retrieve response: ".concat(e):t)})):r.text().then(g((function(e){return n(br(e,t))})),g((function(e){return n("Unable to retrieve response: ".concat(e))}))):n()}(r.response,e,o):r.error&&function(e,t,n){n(br(Ce(de(e)),t))}(r.error,e,o))}return{stop:function(){n.unsubscribe(),r.unsubscribe()}}}function br(e,t){return e.length>t.requestErrorResponseLengthLimit?"".concat(e.substring(0,t.requestErrorResponseLengthLimit),"..."):e}function yr(e){return"xhr"===e?"XHR":"Fetch"}function wr(e){var t,n=function(t,n){var r=Me({stackTrace:t,originalError:n,startClocks:He(),nonErrorPrefix:"Uncaught",source:vt.SOURCE,handling:"unhandled"});e.notify(r)},r=(t=n,Tt(window,"onerror",(function(e){var n,r=e.parameters,o=r[0],i=r[1],a=r[2],c=r[3],u=r[4];n=u instanceof Error?de(u):ke(o,i,a,c),t(n,null!==u&&void 0!==u?u:o)}))).stop,o=function(e){return Tt(window,"onunhandledrejection",(function(t){var n=t.parameters[0].reason||"Empty reason",r=de(n);e(r,n)}))}(n).stop;return{stop:function(){r(),o()}}}var Er,kr=function(){function e(){this.callbacks={}}return e.prototype.notify=function(e,t){var n=this.callbacks[e];n&&n.forEach((function(e){return e(t)}))},e.prototype.subscribe=function(e,t){var n=this;return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),{unsubscribe:function(){n.callbacks[e]=n.callbacks[e].filter((function(e){return t!==e}))}}},e}();function Sr(e){return{handleLog:function(t,n,r,a,c){var u=G(n.getContext(),t.context);if(ht(t.status,wt.console,n)&&function(e,t){var n=e.status,r=e.message;i[xr[n]].call(o,r,t)}(t,u),ht(t.status,wt.http,n)){var s={rawLogsEvent:{date:c||qe(),message:t.message,status:t.status,origin:vt.LOGGER},messageContext:u,savedCommonContext:a};r&&(s.domainContext={handlingStack:r}),e.notify(0,s)}}}}var xr=((Er={})[mt.ok]=r.debug,Er[mt.debug]=r.debug,Er[mt.info]=r.info,Er[mt.notice]=r.info,Er[mt.warn]=r.warn,Er[mt.error]=r.error,Er[mt.critical]=r.error,Er[mt.alert]=r.error,Er[mt.emerg]=r.error,Er);function Cr(e){var t=e.encoder,n=e.request,r=e.flushController,o=e.messageBytesLimit,i={},a=r.flushObservable.subscribe((function(e){return function(e){var r=k(i).join("\n");i={};var o=(c=e.reason,w(k(Vn),c)),a=o?n.sendOnExit:n.send;var c;if(o&&t.isAsync){var u=t.finishSync();u.outputBytesCount&&a(Tr(u));var s=[u.pendingData,r].filter(Boolean).join("\n");s&&a({data:s,bytesCount:M(s)})}else r&&t.write(t.isEmpty?r:"\n".concat(r)),t.finish((function(e){a(Tr(e))}))}(e)}));function u(e,n){var a=j(e),u=t.estimateEncodedBytesCount(a);u>=o?c.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(o,"KB. ").concat(l," ").concat(s,"/#technical-limitations")):(function(e){return void 0!==e&&void 0!==i[e]}(n)&&function(e){var n=i[e];delete i[e];var o=t.estimateEncodedBytesCount(n);r.notifyAfterRemoveMessage(o)}(n),function(e,n,o){r.notifyBeforeAddMessage(n),void 0!==o?(i[o]=e,r.notifyAfterAddMessage()):t.write(t.isEmpty?e:"\n".concat(e),(function(e){r.notifyAfterAddMessage(e-n)}))}(a,u,n))}return{flushController:r,add:u,upsert:u,stop:a.unsubscribe}}function Tr(e){return{data:"string"===typeof e.output?e.output:new Blob([e.output],{type:"text/plain"}),bytesCount:e.outputBytesCount,encoding:e.encoding}}var Rr=80*T,Pr=32,Mr=3*R,Ar=Ve,_r=Fe;function Or(e,t,n,r,o){0===t.transportStatus&&0===t.queuedPayloads.size()&&t.bandwidthMonitor.canHandle(e)?Nr(e,t,n,{onSuccess:function(){return Ir(0,t,n,r,o)},onFailure:function(){t.queuedPayloads.enqueue(e),Lr(t,n,r,o)}}):t.queuedPayloads.enqueue(e)}function Lr(e,t,n,r){2===e.transportStatus&&_((function(){Nr(e.queuedPayloads.first(),e,t,{onSuccess:function(){e.queuedPayloads.dequeue(),e.currentBackoffTime=_r,Ir(1,e,t,n,r)},onFailure:function(){e.currentBackoffTime=Math.min(Ar,2*e.currentBackoffTime),Lr(e,t,n,r)}})}),e.currentBackoffTime)}function Nr(e,t,n,r){var o=r.onSuccess,i=r.onFailure;t.bandwidthMonitor.add(e),n(e,(function(n){t.bandwidthMonitor.remove(e),!function(e){return"opaque"!==e.type&&(0===e.status&&!navigator.onLine||408===e.status||429===e.status||mr(e.status))}(n)?(t.transportStatus=0,o()):(t.transportStatus=t.bandwidthMonitor.ongoingRequestCount>0?1:2,e.retry={count:e.retry?e.retry.count+1:1,lastFailureStatus:n.status},i())}))}function Ir(e,t,n,r,o){0===e&&t.queuedPayloads.isFull()&&!t.queueFullReported&&(o({message:"Reached max ".concat(r," events size queued for upload: ").concat(Mr/R,"MiB"),source:vt.AGENT,startClocks:He()}),t.queueFullReported=!0);var i=t.queuedPayloads;for(t.queuedPayloads=Dr();i.size()>0;)Or(i.dequeue(),t,n,r,o)}function Dr(){var e=[];return{bytesCount:0,enqueue:function(t){this.isFull()||(e.push(t),this.bytesCount+=t.bytesCount)},first:function(){return e[0]},dequeue:function(){var t=e.shift();return t&&(this.bytesCount-=t.bytesCount),t},size:function(){return e.length},isFull:function(){return this.bytesCount>=Mr}}}function jr(e,t,n,r){var o={transportStatus:0,currentBackoffTime:_r,bandwidthMonitor:{ongoingRequestCount:0,ongoingByteCount:0,canHandle:function(e){return 0===this.ongoingRequestCount||this.ongoingByteCount+e.bytesCount<=Rr&&this.ongoingRequestCount<Pr},add:function(e){this.ongoingRequestCount+=1,this.ongoingByteCount+=e.bytesCount},remove:function(e){this.ongoingRequestCount-=1,this.ongoingByteCount-=e.bytesCount}},queuedPayloads:Dr(),queueFullReported:!1},i=function(r,o){return function(e,t,n,r,o){var i=function(){try{return window.Request&&"keepalive"in new Request("http://a")}catch(pt){return!1}}()&&r.bytesCount<n;if(i){var a=t.build("fetch",r);fetch(a,{method:"POST",body:r.data,keepalive:!0,mode:"cors"}).then(g((function(e){return null===o||void 0===o?void 0:o({status:e.status,type:e.type})})),g((function(){var n=t.build("xhr",r);Qr(e,n,r.data,o)})))}else{var c=t.build("xhr",r);Qr(e,c,r.data,o)}}(e,t,n,r,o)};return{send:function(e){Or(e,o,i,t.trackType,r)},sendOnExit:function(r){!function(e,t,n,r){var o=!!navigator.sendBeacon&&r.bytesCount<n;if(o)try{var i=t.build("beacon",r);if(navigator.sendBeacon(i,r.data))return}catch(c){!function(e){Ur||(Ur=!0,st(e))}(c)}var a=t.build("xhr",r);Qr(e,a,r.data)}(e,t,n,r)}}}var Ur=!1;function Qr(e,t,n,r){var o=new XMLHttpRequest;o.open("POST",t,!0),n instanceof Blob&&o.setRequestHeader("Content-Type",n.type),ae(e,o,"loadend",(function(){null===r||void 0===r||r({status:o.status})}),{once:!0}),o.send(n)}function Fr(e){var t,n=e.messagesLimit,r=e.bytesLimit,o=e.durationLimit,i=e.pageExitObservable,a=e.sessionExpireObservable,c=i.subscribe((function(e){return d(e.reason)})),u=a.subscribe((function(){return d("session_expire")})),s=new ne((function(){return function(){c.unsubscribe(),u.unsubscribe()}})),l=0,f=0;function d(e){if(0!==f){var t=f,n=l;f=0,l=0,p(),s.notify({reason:e,messagesCount:t,bytesCount:n})}}function p(){O(t),t=void 0}return{flushObservable:s,get messagesCount(){return f},notifyBeforeAddMessage:function(e){l+e>=r&&d("bytes_limit"),f+=1,l+=e,void 0===t&&(t=_((function(){d("duration_limit")}),o))},notifyAfterAddMessage:function(e){void 0===e&&(e=0),l+=e,f>=n?d("messages_limit"):l>=r&&d("bytes_limit")},notifyAfterRemoveMessage:function(e){l-=e,0===(f-=1)&&p()}}}function Vr(e,t,n,r,o,i,a){void 0===a&&(a=Cr);var c=s(e,t),u=n&&s(e,n);function s(e,t){var n=t.endpoint,c=t.encoder;return a({encoder:c,request:jr(e,n,e.batchBytesLimit,r),flushController:Fr({messagesLimit:e.batchMessagesLimit,bytesLimit:e.batchBytesLimit,durationLimit:e.flushTimeout,pageExitObservable:o,sessionExpireObservable:i}),messageBytesLimit:e.messageBytesLimit})}return{flushObservable:c.flushController.flushObservable,add:function(e,t){void 0===t&&(t=!0),c.add(e),u&&t&&u.add(n.transformMessage?n.transformMessage(e):e)},upsert:function(e,t){c.upsert(e,t),u&&u.upsert(n.transformMessage?n.transformMessage(e):e,t)},stop:function(){c.stop(),u&&u.stop()}}}function Br(){var e="",t=0;return{isAsync:!1,get isEmpty(){return!e},write:function(n,r){var o=M(n);t+=o,e+=n,r&&r(o)},finish:function(e){e(this.finishSync())},finishSync:function(){var n={output:e,outputBytesCount:t,rawBytesCount:t,pendingData:""};return e="",t=0,n},estimateEncodedBytesCount:function(e){return e.length}}}function zr(e,t,n,r,o){var i=ct("browser-logs-sdk",t);i.setContextProvider((function(){var e,t,n,r,i,a;return{application:{id:null===(e=ir())||void 0===e?void 0:e.application_id},session:{id:null===(t=o.findTrackedSession())||void 0===t?void 0:t.id},view:{id:null===(r=null===(n=ir())||void 0===n?void 0:n.view)||void 0===r?void 0:r.id},action:{id:null===(a=null===(i=ir())||void 0===i?void 0:i.user_action)||void 0===a?void 0:a.id}}}));var a=[];if(Ct()){var c=xt(),u=i.observable.subscribe((function(e){return c.send("internal_telemetry",e)}));a.push((function(){return u.unsubscribe()}))}else{var s=Vr(t,{endpoint:t.rumEndpointBuilder,encoder:Br()},t.replica&&{endpoint:t.replica.rumEndpointBuilder,encoder:Br()},n,r,o.expireObservable);a.push((function(){return s.stop()}));var l=i.observable.subscribe((function(e){return s.add(e,function(e){return e.site===De}(t))}));a.push((function(){return l.unsubscribe()}))}return it.drain(),function(e){at({type:nt.configuration,configuration:e})}(function(e){var t,n={session_sample_rate:(t=e).sessionSampleRate,telemetry_sample_rate:t.telemetrySampleRate,telemetry_configuration_sample_rate:t.telemetryConfigurationSampleRate,telemetry_usage_sample_rate:t.telemetryUsageSampleRate,use_before_send:!!t.beforeSend,use_cross_site_session_cookie:t.useCrossSiteSessionCookie,use_partitioned_cross_site_session_cookie:t.usePartitionedCrossSiteSessionCookie,use_secure_session_cookie:t.useSecureSessionCookie,use_proxy:!!t.proxy,silent_multiple_init:t.silentMultipleInit,track_session_across_subdomains:t.trackSessionAcrossSubdomains,allow_fallback_to_local_storage:!!t.allowFallbackToLocalStorage,store_contexts_across_pages:!!t.storeContextsAcrossPages,allow_untrusted_events:!!t.allowUntrustedEvents,tracking_consent:t.trackingConsent};return x({forward_errors_to_logs:e.forwardErrorsToLogs,forward_console_logs:e.forwardConsoleLogs,forward_reports:e.forwardReports,use_pci_intake:e.usePciIntake,send_logs_after_session_expiration:e.sendLogsAfterSessionExpiration},n)}(e)),{telemetry:i,stop:function(){a.forEach((function(e){return e()}))}}}var qr=function(e){var t=q(),n=oe(t.getOrCreateTracker(2)),r=oe(t.getOrCreateTracker(1)),o=function(e){var t=new ne;return{tryToInit:function(t){e||(e=t)},update:function(n){e=n,t.notify()},isGranted:function(){return e===ie.GRANTED},observable:t}}();function i(){return function(e,t){return{view:{referrer:document.referrer,url:window.location.href},context:e.getContext(),user:t.getContext()}}(n,r)}var a=Qn(i,o,(function(t,c){t.storeContextsAcrossPages&&(le(c,n,Fn,2),le(c,r,Fn,1));var u=e(t,c,i,o);return a=function(e,t){return x({init:function(e){dt("DD_LOGS",e)},initConfiguration:e},t)}(t,u),u})),u={},s=new kt((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.handleLog.apply(a,e)}),t.createDetachedTracker());return function(e){var t=x({version:"5.28.1",onReady:function(e){e()}},e);return Object.defineProperty(t,"_setDebug",{get:function(){return h},enumerable:!1}),t}({logger:s,init:g((function(e){return a.init(e)})),setTrackingConsent:g((function(e){var t;o.update(e),t={feature:"set-tracking-consent",tracking_consent:e},at({type:nt.usage,usage:t})})),getGlobalContext:g((function(){return n.getContext()})),setGlobalContext:g((function(e){return n.setContext(e)})),setGlobalContextProperty:g((function(e,t){return n.setContextProperty(e,t)})),removeGlobalContextProperty:g((function(e){return n.removeContextProperty(e)})),clearGlobalContext:g((function(){return n.clearContext()})),createLogger:g((function(e,n){return void 0===n&&(n={}),u[e]=new kt((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.handleLog.apply(a,e)}),t.createDetachedTracker(),X(e),n.handler,n.level,X(n.context)),u[e]})),getLogger:g((function(e){return u[e]})),getInitConfiguration:g((function(){return Z(a.initConfiguration)})),getInternalContext:g((function(e){return a.getInternalContext(e)})),setUser:g((function(e){(function(e){var t="object"===H(e);return t||c.error("Unsupported user:",e),t})(e)&&r.setContext(ft(e))})),getUser:g((function(){return r.getContext()})),setUserProperty:g((function(e,t){var n,o=ft((n={},n[e]=t,n))[e];r.setContextProperty(e,o)})),removeUserProperty:g((function(e){return r.removeContextProperty(e)})),clearUser:g((function(){return r.clearContext()}))})}((function(e,t,n,r){var o=new kr,i=[];o.subscribe(1,(function(e){return Je("logs",e)}));var a=function(e){return function(t){e.notify(0,{rawLogsEvent:{message:t.message,date:t.startClocks.timeStamp,origin:vt.AGENT,status:mt.error}}),ut("Error reported to customer",{"error.message":t.message})}}(o),c=function(e){return new ne((function(t){var n=ce(e,window,["visibilitychange","freeze"],(function(e){"visibilitychange"===e.type&&"hidden"===document.visibilityState?t.notify({reason:Vn.HIDDEN}):"freeze"===e.type&&t.notify({reason:Vn.FROZEN})}),{capture:!0}).stop,r=ae(e,window,"beforeunload",(function(){t.notify({reason:Vn.UNLOADING})})).stop;return function(){n(),r()}}))}(t),u=!t.sessionStoreStrategyType||Ct()||$n()?function(e){var t="1"===rr(e)?{}:void 0;return{findTrackedSession:function(){return t},expireObservable:new ne}}(t):nr(t,r),s=zr(e,t,a,c,u).stop;i.push((function(){return s()})),gr(t,o),function(e,t){if(!e.forwardErrorsToLogs)return{stop:D};var n=new ne,r=wr(n).stop,o=n.subscribe((function(e){t.notify(0,{rawLogsEvent:{message:e.message,date:e.startClocks.timeStamp,error:bt(e),origin:vt.SOURCE,status:mt.error}})}))}(t,o),function(e,t){var n=sr(e.forwardConsoleLogs).subscribe((function(e){var n={rawLogsEvent:{date:qe(),message:e.message,origin:vt.CONSOLE,error:e.error&&bt(e.error),status:fr[e.api]},domainContext:{handlingStack:e.handlingStack}};t.notify(0,n)}))}(t,o),function(e,t){var n=Nn(e,e.forwardReports).subscribe((function(e){var n,r=e.message,o="deprecation"===e.originalError.type?mt.warn:mt.error;o===mt.error?n=bt(e):e.stack&&(r+=" Found in ".concat(function(e){var t;return null===(t=/@ (.+)/.exec(e))||void 0===t?void 0:t[1]}(e.stack))),t.notify(0,{rawLogsEvent:{date:qe(),message:r,origin:vt.REPORT,error:n,status:o}})}))}(t,o);var l,f=Sr(o).handleLog;if(ar(u,t,o,n,a),Ct())!function(e){var t=xt();e.subscribe(1,(function(e){t.send("log",e)}))}(o);else{var d=function(e,t,n,r,o){var i=Vr(e,{endpoint:e.logsEndpointBuilder,encoder:Br()},e.replica&&{endpoint:e.replica.logsEndpointBuilder,encoder:Br()},n,r,o.expireObservable);return t.subscribe(1,(function(e){i.add(e)})),i}(t,o,a,c,u).stop;i.push((function(){return d()}))}return{handleLog:f,getInternalContext:(l=u,{get:function(e){var t=l.findTrackedSession(e);if(t)return{session_id:t.id}}}).get,stop:function(){i.forEach((function(e){return e()}))}}}));!function(e,t,n){var r=e[t];r&&!r.q&&r.version&&c.warn("SDK is loaded more than once. This is unsupported and might have unexpected behavior."),e[t]=n,r&&r.q&&r.q.forEach((function(e){return f(e,"onReady callback threw an error:")()}))}(C(),"DD_LOGS",qr)},5538:function(e,t,n){"use strict";var r=n(1301);n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}}),n.o(r,"useSearchParams")&&n.d(t,{useSearchParams:function(){return r.useSearchParams}})},8596:function(e,t,n){"use strict";var r,o;e.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"===typeof(null==(o=n.g.process)?void 0:o.env)?n.g.process:n(1949)},1949:function(e){!function(){var t={229:function(e){var t,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"===typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var c,u=[],s=!1,l=-1;function f(){s&&c&&(s=!1,c.length?u=c.concat(u):l=-1,u.length&&d())}function d(){if(!s){var e=a(f);s=!0;for(var t=u.length;t;){for(c=u,u=[];++l<t;)c&&c[l].run();l=-1,t=u.length}c=null,s=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||s||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=v,r.addListener=v,r.once=v,r.off=v,r.removeListener=v,r.removeAllListeners=v,r.emit=v,r.prependListener=v,r.prependOnceListener=v,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}},a=!0;try{t[e](i,i.exports,r),a=!1}finally{a&&delete n[e]}return i.exports}r.ab="//";var o=r(229);e.exports=o}()},1009:function(e,t,n){"use strict";n.d(t,{Fj:function(){return d}});var r=["Shift","Meta","Alt","Control"],o="object"==typeof navigator?navigator.platform:"",i=/Mac|iPod|iPhone|iPad/.test(o),a=i?"Meta":"Control",c="Win32"===o?["Control","Alt"]:i?["Alt"]:[];function u(e,t){return"function"==typeof e.getModifierState&&(e.getModifierState(t)||c.includes(t)&&e.getModifierState("AltGraph"))}function s(e){return e.trim().split(" ").map((function(e){var t=e.split(/\b\+/),n=t.pop(),r=n.match(/^\((.+)\)$/);return r&&(n=new RegExp("^"+r[1]+"$")),[t=t.map((function(e){return"$mod"===e?a:e})),n]}))}function l(e,t){var n=t[0],o=t[1];return!((o instanceof RegExp?!o.test(e.key)&&!o.test(e.code):o.toUpperCase()!==e.key.toUpperCase()&&o!==e.code)||n.find((function(t){return!u(e,t)}))||r.find((function(t){return!n.includes(t)&&o!==t&&u(e,t)})))}function f(e,t){var n;void 0===t&&(t={});var r=null!=(n=t.timeout)?n:1e3,o=Object.keys(e).map((function(t){return[s(t),e[t]]})),i=new Map,a=null;return function(e){e instanceof KeyboardEvent&&(o.forEach((function(t){var n=t[0],r=t[1],o=i.get(n)||n;l(e,o[0])?o.length>1?i.set(n,o.slice(1)):(i.delete(n),r(e)):u(e,e.key)||i.delete(n)})),a&&clearTimeout(a),a=setTimeout(i.clear.bind(i),r))}}function d(e,t,n){var r=void 0===n?{}:n,o=r.event,i=void 0===o?"keydown":o,a=r.capture,c=f(t,{timeout:r.timeout});return e.addEventListener(i,c,a),function(){e.removeEventListener(i,c,a)}}},8842:function(e,t,n){"use strict";n.d(t,{C:function(){return s},D:function(){return l},F:function(){return ve},G:function(){return ye},L:function(){return Te},M:function(){return I},P:function(){return pe},R:function(){return Re},S:function(){return p},T:function(){return U},a:function(){return Ae},b:function(){return B},c:function(){return L},d:function(){return v},e:function(){return g},f:function(){return b},g:function(){return D},h:function(){return Ce},i:function(){return he},j:function(){return Me},m:function(){return O},o:function(){return _e},w:function(){return N}});var r=n(7894),o=n(9691),i=n(3342),a=n(694),c=n(1270),u=n(8596);const s=r.forwardRef((function(e,t){const{mergedProps:n}=(0,o.b)({props:e});return r.createElement("button",{ref:t,...n},e.children)})),l=r.forwardRef((function(e,t){const{buttonProps:n}=(0,o.c)(e);return r.createElement("button",{ref:t,...n},e.children)})),f=e=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",...e},r.createElement("path",{d:"M1.354.646a.5.5 0 1 0-.708.708l14 14a.5.5 0 0 0 .708-.708L11 10.293V4.5A1.5 1.5 0 0 0 9.5 3H3.707zM0 4.5a1.5 1.5 0 0 1 .943-1.393l9.532 9.533c-.262.224-.603.36-.975.36h-8A1.5 1.5 0 0 1 0 11.5z"}),r.createElement("path",{d:"m15.2 3.6-2.8 2.1a1 1 0 0 0-.4.8v3a1 1 0 0 0 .4.8l2.8 2.1a.5.5 0 0 0 .8-.4V4a.5.5 0 0 0-.8-.4z"})),d=e=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",...e},r.createElement("path",{d:"M0 4.5A1.5 1.5 0 0 1 1.5 3h8A1.5 1.5 0 0 1 11 4.5v7A1.5 1.5 0 0 1 9.5 13h-8A1.5 1.5 0 0 1 0 11.5zM15.2 3.6l-2.8 2.1a1 1 0 0 0-.4.8v3a1 1 0 0 0 .4.8l2.8 2.1a.5.5 0 0 0 .8-.4V4a.5.5 0 0 0-.8-.4z"})),p=e=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"#FFF",d:"M4.99 3.99a1 1 0 0 0-.697 1.717L10.586 12l-6.293 6.293a1 1 0 1 0 1.414 1.414L12 13.414l6.293 6.293a1 1 0 1 0 1.414-1.414L13.414 12l6.293-6.293a1 1 0 0 0-.727-1.717 1 1 0 0 0-.687.303L12 10.586 5.707 4.293a1 1 0 0 0-.717-.303z"})),v=e=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:18,fill:"none",...e},r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M0 2.75A2.75 2.75 0 0 1 2.75 0h10.5A2.75 2.75 0 0 1 16 2.75v13.594a.75.75 0 0 1-1.234.572l-3.691-3.12a1.25 1.25 0 0 0-.807-.296H2.75A2.75 2.75 0 0 1 0 10.75v-8ZM2.75 1.5c-.69 0-1.25.56-1.25 1.25v8c0 .69.56 1.25 1.25 1.25h7.518c.65 0 1.279.23 1.775.65l2.457 2.077V2.75c0-.69-.56-1.25-1.25-1.25H2.75Z",clipRule:"evenodd"}),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M3 4.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Z",clipRule:"evenodd"})),h=e=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",...e},r.createElement("path",{fill:"currentcolor",fillRule:"evenodd",d:"M5.293 2.293a1 1 0 0 1 1.414 0l4.823 4.823a1.25 1.25 0 0 1 0 1.768l-4.823 4.823a1 1 0 0 1-1.414-1.414L9.586 8 5.293 3.707a1 1 0 0 1 0-1.414z",clipRule:"evenodd"})),m=e=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",...e},r.createElement("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5},r.createElement("path",{d:"M10 1.75h4.25m0 0V6m0-4.25L9 7M6 14.25H1.75m0 0V10m0 4.25L7 9"}))),g=e=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",...e},r.createElement("path",{fill:"currentcolor",fillRule:"evenodd",d:"M8.961.894C8.875-.298 7.125-.298 7.04.894c-.066.912-1.246 1.228-1.76.472-.67-.99-2.186-.115-1.664.96.399.824-.465 1.688-1.288 1.289-1.076-.522-1.95.994-.961 1.665.756.513.44 1.693-.472 1.759-1.192.086-1.192 1.836 0 1.922.912.066 1.228 1.246.472 1.76-.99.67-.115 2.186.96 1.664.824-.399 1.688.465 1.289 1.288-.522 1.076.994 1.95 1.665.961.513-.756 1.693-.44 1.759.472.086 1.192 1.836 1.192 1.922 0 .066-.912 1.246-1.228 1.76-.472.67.99 2.186.115 1.664-.96-.399-.824.465-1.688 1.288-1.289 1.076.522 1.95-.994.961-1.665-.756-.513-.44-1.693.472-1.759 1.192-.086 1.192-1.836 0-1.922-.912-.066-1.228-1.246-.472-1.76.99-.67.115-2.186-.96-1.664-.824.399-1.688-.465-1.289-1.288.522-1.076-.994-1.95-1.665-.961-.513.756-1.693.44-1.759-.472ZM8 13A5 5 0 1 0 8 3a5 5 0 0 0 0 10Z",clipRule:"evenodd"})),b=e=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",...e},r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M2 2.75A2.75 2.75 0 0 1 4.75 0h6.5A2.75 2.75 0 0 1 14 2.75v10.5A2.75 2.75 0 0 1 11.25 16h-6.5A2.75 2.75 0 0 1 2 13.25v-.5a.75.75 0 0 1 1.5 0v.5c0 .69.56 1.25 1.25 1.25h6.5c.69 0 1.25-.56 1.25-1.25V2.75c0-.69-.56-1.25-1.25-1.25h-6.5c-.69 0-1.25.56-1.25 1.25v.5a.75.75 0 0 1-1.5 0v-.5Z",clipRule:"evenodd"}),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.78 7.47a.75.75 0 0 1 0 1.06l-2.25 2.25a.75.75 0 1 1-1.06-1.06l.97-.97H1.75a.75.75 0 0 1 0-1.5h4.69l-.97-.97a.75.75 0 0 1 1.06-1.06l2.25 2.25Z",clipRule:"evenodd"})),y=e=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",...e},r.createElement("path",{fill:"currentcolor",fillRule:"evenodd",d:"M4 6.104V4a4 4 0 1 1 8 0v2.104c1.154.326 2 1.387 2 2.646v4.5A2.75 2.75 0 0 1 11.25 16h-6.5A2.75 2.75 0 0 1 2 13.25v-4.5c0-1.259.846-2.32 2-2.646ZM5.5 4a2.5 2.5 0 0 1 5 0v2h-5V4Z",clipRule:"evenodd"})),w=e=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",...e},r.createElement("path",{d:"M12.227 11.52a5.477 5.477 0 0 0 1.246-2.97.5.5 0 0 0-.995-.1 4.478 4.478 0 0 1-.962 2.359l-1.07-1.07C10.794 9.247 11 8.647 11 8V3a3 3 0 0 0-6 0v1.293L1.354.646a.5.5 0 1 0-.708.708l14 14a.5.5 0 0 0 .708-.708zM8 12.5c.683 0 1.33-.152 1.911-.425l.743.743c-.649.359-1.378.59-2.154.66V15h2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h2v-1.522a5.502 5.502 0 0 1-4.973-4.929.5.5 0 0 1 .995-.098A4.5 4.5 0 0 0 8 12.5z"}),r.createElement("path",{d:"M8.743 10.907 5 7.164V8a3 3 0 0 0 3.743 2.907z"})),E=e=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",...e},r.createElement("path",{fillRule:"evenodd",d:"M2.975 8.002a.5.5 0 0 1 .547.449 4.5 4.5 0 0 0 8.956 0 .5.5 0 1 1 .995.098A5.502 5.502 0 0 1 8.5 13.478V15h2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h2v-1.522a5.502 5.502 0 0 1-4.973-4.929.5.5 0 0 1 .448-.547z",clipRule:"evenodd"}),r.createElement("path",{d:"M5 3a3 3 0 1 1 6 0v5a3 3 0 0 1-6 0z"})),k=e=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentcolor",...e},r.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),r.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"})),S=e=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentcolor",...e},r.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),r.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),r.createElement("g",{opacity:.25},r.createElement("path",{d:"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),r.createElement("path",{d:"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}))),x=e=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentcolor",...e},r.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),r.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),r.createElement("g",{opacity:.25},r.createElement("path",{d:"M6 6.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),r.createElement("path",{d:"M6 6.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),r.createElement("path",{d:"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}))),C=e=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",...e},r.createElement("g",{opacity:.25},r.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-4Zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-9Zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V.5Z"}),r.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-4Zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-9Zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V.5Z"}))),T=e=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:16,fill:"none",...e},r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M0 2.75A2.75 2.75 0 0 1 2.75 0h14.5A2.75 2.75 0 0 1 20 2.75v10.5A2.75 2.75 0 0 1 17.25 16H2.75A2.75 2.75 0 0 1 0 13.25V2.75ZM2.75 1.5c-.69 0-1.25.56-1.25 1.25v10.5c0 .69.56 1.25 1.25 1.25h14.5c.69 0 1.25-.56 1.25-1.25V2.75c0-.69-.56-1.25-1.25-1.25H2.75Z",clipRule:"evenodd"}),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.47 4.22a.75.75 0 0 1 1.06 0l2.25 2.25a.75.75 0 0 1-1.06 1.06l-.97-.97v4.69a.75.75 0 0 1-1.5 0V6.56l-.97.97a.75.75 0 0 1-1.06-1.06l2.25-2.25Z",clipRule:"evenodd"})),R=e=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:16,fill:"none",...e},r.createElement("g",{fill:"currentColor"},r.createElement("path",{d:"M7.28 4.22a.75.75 0 0 0-1.06 1.06L8.94 8l-2.72 2.72a.75.75 0 1 0 1.06 1.06L10 9.06l2.72 2.72a.75.75 0 1 0 1.06-1.06L11.06 8l2.72-2.72a.75.75 0 0 0-1.06-1.06L10 6.94z"}),r.createElement("path",{fillRule:"evenodd",d:"M2.75 0A2.75 2.75 0 0 0 0 2.75v10.5A2.75 2.75 0 0 0 2.75 16h14.5A2.75 2.75 0 0 0 20 13.25V2.75A2.75 2.75 0 0 0 17.25 0zM1.5 2.75c0-.69.56-1.25 1.25-1.25h14.5c.69 0 1.25.56 1.25 1.25v10.5c0 .69-.56 1.25-1.25 1.25H2.75c-.69 0-1.25-.56-1.25-1.25z",clipRule:"evenodd"}))),P=e=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",...e},r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 0a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0V.75A.75.75 0 0 1 8 0Z",clipRule:"evenodd"}),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 12a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0v-2.5A.75.75 0 0 1 8 12Z",clipRule:"evenodd",opacity:.7}),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 1.072a.75.75 0 0 1 .274 1.024l-1.25 2.165a.75.75 0 0 1-1.299-.75l1.25-2.165A.75.75 0 0 1 12 1.072Z",clipRule:"evenodd"}),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M6 11.464a.75.75 0 0 1 .274 1.025l-1.25 2.165a.75.75 0 0 1-1.299-.75l1.25-2.165A.75.75 0 0 1 6 11.464Z",clipRule:"evenodd",opacity:.6}),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.928 4a.75.75 0 0 1-.274 1.025l-2.165 1.25a.75.75 0 1 1-.75-1.3l2.165-1.25A.75.75 0 0 1 14.928 4Z",clipRule:"evenodd"}),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.536 10a.75.75 0 0 1-.275 1.024l-2.165 1.25a.75.75 0 0 1-.75-1.298l2.165-1.25A.75.75 0 0 1 4.536 10Z",clipRule:"evenodd",opacity:.5}),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M16 8a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 16 8Z",clipRule:"evenodd"}),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 8a.75.75 0 0 1-.75.75H.75a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 4 8Z",clipRule:"evenodd",opacity:.4}),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.928 12a.75.75 0 0 1-1.024.274l-2.165-1.25a.75.75 0 0 1 .75-1.299l2.165 1.25A.75.75 0 0 1 14.928 12Z",clipRule:"evenodd",opacity:.9}),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.536 6a.75.75 0 0 1-1.025.275l-2.165-1.25a.75.75 0 1 1 .75-1.3l2.165 1.25A.75.75 0 0 1 4.536 6Z",clipRule:"evenodd",opacity:.3}),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 14.928a.75.75 0 0 1-1.024-.274l-1.25-2.165a.75.75 0 0 1 1.298-.75l1.25 2.165A.75.75 0 0 1 12 14.928Z",clipRule:"evenodd",opacity:.8}),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M6 4.536a.75.75 0 0 1-1.024-.275l-1.25-2.165a.75.75 0 1 1 1.299-.75l1.25 2.165A.75.75 0 0 1 6 4.536Z",clipRule:"evenodd",opacity:.2})),M=e=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",...e},r.createElement("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5},r.createElement("path",{d:"M13.25 7H9m0 0V2.75M9 7l5.25-5.25M2.75 9H7m0 0v4.25M7 9l-5.25 5.25"}))),A=r.forwardRef((function({trackRef:e,...t},n){const i=(0,a.a9)(),{mergedProps:c,inFocus:u}=(0,o.d)({trackRef:e??i,props:t});return r.createElement(a.aa.Consumer,null,(e=>void 0!==e&&r.createElement("button",{ref:n,...c},t.children?t.children:u?r.createElement(M,null):r.createElement(m,null))))}));function _(e){return void 0!==e}function O(...e){return(0,c.m)(...e.filter(_))}function L(e,t,n){return r.Children.map(e,(o=>r.isValidElement(o)&&r.Children.only(e)?(o.props.class&&(t??(t={}),t.class=(0,c.c)(o.props.class,t.class),t.style={...o.props.style,...t.style}),r.cloneElement(o,{...t,key:n})):o))}function N(e){var t,n;if(typeof window<"u"&&typeof u<"u"&&("dev"===(null==(t=null==u?void 0:u.env)?void 0:t.NODE_ENV)||"development"===(null==(n=null==u?void 0:u.env)?void 0:n.NODE_ENV))){const e=document.querySelector(".lk-room-container");e&&!getComputedStyle(e).getPropertyValue("--lk-has-imported-styles")&&a.l.warn("It looks like you're not using the `@livekit/components-styles package`. To render the UI with the default styling, please import it in your layout or page.")}}const I=r.forwardRef((function({kind:e,initialSelection:t,onActiveDeviceChange:n,onDeviceListChange:c,onDeviceSelectError:u,exactMatch:s,track:l,requestPermissions:f,onError:d,...p},v){const h=(0,a.w)(),m=r.useCallback((e=>{h&&h.emit(i.TQ.MediaDevicesError,e),null==d||d(e)}),[h,d]),{devices:g,activeDeviceId:b,setActiveMediaDevice:y,className:w}=(0,o.e)({kind:e,room:h,track:l,requestPermissions:f,onError:m});r.useEffect((()=>{void 0!==t&&y(t)}),[y]),r.useEffect((()=>{"function"==typeof c&&c(g)}),[c,g]),r.useEffect((()=>{b&&""!==b&&(null==n||n(b))}),[b]);const E=r.useMemo((()=>O(p,{className:w},{className:"lk-list"})),[w,p]);function k(e,t,n){return e===t||0===n&&"default"===t}return r.createElement("ul",{ref:v,...E},g.map(((e,t)=>r.createElement("li",{key:e.deviceId,id:e.deviceId,"data-lk-active":k(e.deviceId,b,t),"aria-selected":k(e.deviceId,b,t),role:"option"},r.createElement("button",{className:"lk-button",onClick:()=>(async e=>{try{await y(e,{exact:s})}catch(t){if(!(t instanceof Error))throw t;null==u||u(t)}})(e.deviceId)},e.label)))))})),D=r.forwardRef((function({label:e,...t},n){const i=(0,a.f)(),{mergedProps:c,canPlayAudio:u}=(0,o.f)({room:i,props:t}),{mergedProps:s,canPlayVideo:l}=(0,o.g)({room:i,props:c}),{style:f,...d}=s;return f.display=u&&l?"none":"block",r.createElement("button",{ref:n,style:f,...d},e??"Start "+(u?"Video":"Audio"))}));function j(e,t){switch(e){case i.fQ.Source.Microphone:return t?r.createElement(E,null):r.createElement(w,null);case i.fQ.Source.Camera:return t?r.createElement(d,null):r.createElement(f,null);case i.fQ.Source.ScreenShare:return t?r.createElement(R,null):r.createElement(T,null);default:return}}const U=r.forwardRef((function({showIcon:e,...t},n){const{buttonProps:i,enabled:a}=(0,o.h)(t);return r.createElement("button",{ref:n,...i},(e??!0)&&j(t.source,a),t.children)})),Q=r.forwardRef((function(e,t){const{className:n,quality:a}=(0,o.i)(e),c=r.useMemo((()=>({...O(e,{className:n}),"data-lk-quality":a})),[a,e,n]);return r.createElement("div",{ref:t,...c},e.children??function(e){switch(e){case i.ZV.Excellent:return r.createElement(k,null);case i.ZV.Good:return r.createElement(S,null);case i.ZV.Poor:return r.createElement(x,null);default:return r.createElement(C,null)}}(a))})),F=r.forwardRef((function({participant:e,...t},n){const i=(0,a.c)(e),{className:c,infoObserver:u}=r.useMemo((()=>(0,a.ab)(i)),[i]),{identity:s,name:l}=(0,o.j)(u,{name:i.name,identity:i.identity,metadata:i.metadata}),f=r.useMemo((()=>O(t,{className:c,"data-lk-participant-name":l})),[t,c,l]);return r.createElement("span",{ref:n,...f},""!==l?l:s,t.children)})),V=r.forwardRef((function({trackRef:e,show:t="always",...n},i){const{className:a,isMuted:c}=(0,o.k)(e),u="always"===t||"muted"===t&&c||"unmuted"===t&&!c,s=r.useMemo((()=>O(n,{className:a})),[a,n]);return u?r.createElement("div",{ref:i,...s,"data-lk-muted":c},n.children??j(e.source,!c)):null})),B=e=>r.createElement("svg",{width:320,height:320,viewBox:"0 0 320 320",preserveAspectRatio:"xMidYMid meet",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},r.createElement("path",{d:"M160 180C204.182 180 240 144.183 240 100C240 55.8172 204.182 20 160 20C115.817 20 79.9997 55.8172 79.9997 100C79.9997 144.183 115.817 180 160 180Z",fill:"white",fillOpacity:.25}),r.createElement("path",{d:"M97.6542 194.614C103.267 191.818 109.841 192.481 115.519 195.141C129.025 201.466 144.1 205 159.999 205C175.899 205 190.973 201.466 204.48 195.141C210.158 192.481 216.732 191.818 222.345 194.614C262.703 214.719 291.985 253.736 298.591 300.062C300.15 310.997 291.045 320 280 320H39.9997C28.954 320 19.8495 310.997 21.4087 300.062C28.014 253.736 57.2966 214.72 97.6542 194.614Z",fill:"white",fillOpacity:.25}));function z(e,t={}){const[n,o]=r.useState((0,a.X)(e)),[i,c]=r.useState(null==n?void 0:n.isMuted),[u,s]=r.useState(null==n?void 0:n.isSubscribed),[l,f]=r.useState(null==n?void 0:n.track),[d,p]=r.useState("landscape"),v=r.useRef(),{className:h,trackObserver:m}=r.useMemo((()=>(0,a.Y)(e)),[e.participant.sid??e.participant.identity,e.source,(0,a.a1)(e)&&e.publication.trackSid]);return r.useEffect((()=>{const e=m.subscribe((e=>{a.l.debug("update track",e),o(e),c(null==e?void 0:e.isMuted),s(null==e?void 0:e.isSubscribed),f(null==e?void 0:e.track)}));return()=>null==e?void 0:e.unsubscribe()}),[m]),r.useEffect((()=>{var n,r;return l&&(v.current&&l.detach(v.current),null!=(n=t.element)&&n.current&&!((0,a.ac)(e.participant)&&"audio"===(null==l?void 0:l.kind))&&l.attach(t.element.current)),v.current=null==(r=t.element)?void 0:r.current,()=>{v.current&&(null==l||l.detach(v.current))}}),[l,t.element]),r.useEffect((()=>{var e,t;if("number"==typeof(null==(e=null==n?void 0:n.dimensions)?void 0:e.width)&&"number"==typeof(null==(t=null==n?void 0:n.dimensions)?void 0:t.height)){const e=n.dimensions.width>n.dimensions.height?"landscape":"portrait";p(e)}}),[n]),{publication:n,isMuted:i,isSubscribed:u,track:l,elementProps:O(t.props,{className:h,"data-lk-local-participant":e.participant.isLocal,"data-lk-source":null==n?void 0:n.source,..."video"===(null==n?void 0:n.kind)&&{"data-lk-orientation":d}})}}var q=NaN,$="[object Symbol]",H=/^\s+|\s+$/g,W=/^[-+]0x[0-9a-f]+$/i,Z=/^0b[01]+$/i,G=/^0o[0-7]+$/i,J=parseInt,K="object"==typeof a.ad&&a.ad&&a.ad.Object===Object&&a.ad,Y="object"==typeof self&&self&&self.Object===Object&&self,X=K||Y||Function("return this")(),ee=Object.prototype.toString,te=Math.max,ne=Math.min,re=function(){return X.Date.now()};function oe(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ie(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&ee.call(e)==$}(e))return q;if(oe(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=oe(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(H,"");var n=Z.test(e);return n||G.test(e)?J(e.slice(2),n?2:8):W.test(e)?q:+e}var ae=function(e,t,n){var r,o,i,a,c,u,s=0,l=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,i=o;return r=o=void 0,s=t,a=e.apply(i,n)}function v(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-s>=i}function h(){var e=re();if(v(e))return m(e);c=setTimeout(h,function(e){var n=t-(e-u);return f?ne(n,i-(e-s)):n}(e))}function m(e){return c=void 0,d&&r?p(e):(r=o=void 0,a)}function g(){var e=re(),n=v(e);if(r=arguments,o=this,u=e,n){if(void 0===c)return function(e){return s=e,c=setTimeout(h,t),l?p(e):a}(u);if(f)return c=setTimeout(h,t),p(u)}return void 0===c&&(c=setTimeout(h,t)),a}return t=ie(t)||0,oe(n)&&(l=!!n.leading,i=(f="maxWait"in n)?te(ie(n.maxWait)||0,t):i,d="trailing"in n?!!n.trailing:d),g.cancel=function(){void 0!==c&&clearTimeout(c),s=0,r=u=o=c=void 0},g.flush=function(){return void 0===c?a:m(re())},g};const ce=(0,a.ae)(ae);function ue(e,t=500,n){const o=(0,r.useRef)();!function(e){const t=(0,r.useRef)(e);t.current=e,(0,r.useEffect)((()=>()=>{t.current()}),[])}((()=>{o.current&&o.current.cancel()}));const i=(0,r.useMemo)((()=>{const r=ce(e,t,n),i=(...e)=>r(...e);return i.cancel=()=>{r.cancel()},i.isPending=()=>!!o.current,i.flush=()=>r.flush(),i}),[e,t,n]);return(0,r.useEffect)((()=>{o.current=ce(e,t,n)}),[e,t,n]),i}const se=r.forwardRef((function({onTrackClick:e,onClick:t,onSubscriptionStatusChanged:n,trackRef:o,manageSubscription:c,...u},s){const l=(0,a.i)(o),f=r.useRef(null);r.useImperativeHandle(s,(()=>f.current));const d=function({threshold:e=0,root:t=null,rootMargin:n="0%",freezeOnceVisible:o=!1,initialIsIntersecting:i=!1,onChange:a}={}){var c;const[u,s]=(0,r.useState)(null),[l,f]=(0,r.useState)((()=>({isIntersecting:i,entry:void 0}))),d=(0,r.useRef)();d.current=a;const p=(null==(c=l.entry)?void 0:c.isIntersecting)&&o;(0,r.useEffect)((()=>{if(!u||!("IntersectionObserver"in window)||p)return;let r;const i=new IntersectionObserver((e=>{const t=Array.isArray(i.thresholds)?i.thresholds:[i.thresholds];e.forEach((e=>{const n=e.isIntersecting&&t.some((t=>e.intersectionRatio>=t));f({isIntersecting:n,entry:e}),d.current&&d.current(n,e),n&&o&&r&&(r(),r=void 0)}))}),{threshold:e,root:t,rootMargin:n});return i.observe(u),()=>{i.disconnect()}}),[u,JSON.stringify(e),t,n,p,o]);const v=(0,r.useRef)(null);(0,r.useEffect)((()=>{var e;!u&&null!=(e=l.entry)&&e.target&&!o&&!p&&v.current!==l.entry.target&&(v.current=l.entry.target,f({isIntersecting:i,entry:void 0}))}),[u,l.entry,o,p,i]);const h=[s,!!l.isIntersecting,l.entry];return h.ref=h[0],h.isIntersecting=h[1],h.entry=h[2],h}({root:f.current}),[p]=function(e,t,n){const o=e instanceof Function?e():e,[i,a]=(0,r.useState)(o),c=(0,r.useRef)(o),u=ue(a,t,n);return c.current===o||(u(o),c.current=o),[i,u]}(d,3e3);r.useEffect((()=>{c&&l.publication instanceof i.E8&&!1===(null==p?void 0:p.isIntersecting)&&!1===(null==d?void 0:d.isIntersecting)&&l.publication.setSubscribed(!1)}),[p,l,c]),r.useEffect((()=>{c&&l.publication instanceof i.E8&&!0===(null==d?void 0:d.isIntersecting)&&l.publication.setSubscribed(!0)}),[d,l,c]);const{elementProps:v,publication:h,isSubscribed:m}=z(l,{element:f,props:u});r.useEffect((()=>{null==n||n(!!m)}),[m,n]);return r.createElement("video",{ref:f,...v,muted:!0,onClick:n=>{null==t||t(n),null==e||e({participant:null==l?void 0:l.participant,track:h})}})})),le=r.forwardRef((function({trackRef:e,onSubscriptionStatusChanged:t,volume:n,muted:o,...c},u){const s=(0,a.i)(e),l=r.useRef(null);r.useImperativeHandle(u,(()=>l.current));const{elementProps:f,isSubscribed:d,track:p,publication:v}=z(s,{element:l,props:c});return r.useEffect((()=>{null==t||t(!!d)}),[d,t]),r.useEffect((()=>{void 0===p||void 0===n||(p instanceof i.rl?p.setVolume(n):a.l.warn("Volume can only be set on remote audio tracks."))}),[n,p]),r.useEffect((()=>{void 0===v||void 0===o||(v instanceof i.E8?v.setEnabled(!o):a.l.warn("Can only call setEnabled on remote track publications."))}),[o,v,p]),r.createElement("audio",{ref:l,...f})}));function fe(e){const t=!!(0,a.B)();return e.participant&&!t?r.createElement(a.af.Provider,{value:e.participant},e.children):r.createElement(r.Fragment,null,e.children)}function de(e){const t=!!(0,a.a9)();return e.trackRef&&!t?r.createElement(a.ag.Provider,{value:e.trackRef},e.children):r.createElement(r.Fragment,null,e.children)}const pe=r.forwardRef((function({trackRef:e,children:t,onParticipantClick:n,disableSpeakingIndicator:c,...u},s){var l,f;const d=(0,a.i)(e),{elementProps:p}=(0,o.l)({htmlProps:u,disableSpeakingIndicator:c,onParticipantClick:n,trackRef:d}),v=(0,o.m)(d.participant),h=(0,a.j)(),m=null==(l=(0,a.ah)())?void 0:l.autoSubscription,g=r.useCallback((e=>{d.source&&!e&&h&&h.pin.dispatch&&(0,a.m)(d,h.pin.state)&&h.pin.dispatch({msg:"clear_pin"})}),[d,h]);return r.createElement("div",{ref:s,style:{position:"relative"},...p},r.createElement(de,{trackRef:d},r.createElement(fe,{participant:d.participant},t??r.createElement(r.Fragment,null,!(0,a.a1)(d)||"video"!==(null==(f=d.publication)?void 0:f.kind)&&d.source!==i.fQ.Source.Camera&&d.source!==i.fQ.Source.ScreenShare?(0,a.a1)(d)&&r.createElement(le,{trackRef:d,onSubscriptionStatusChanged:g}):r.createElement(se,{trackRef:d,onSubscriptionStatusChanged:g,manageSubscription:m}),r.createElement("div",{className:"lk-participant-placeholder"},r.createElement(B,null)),r.createElement("div",{className:"lk-participant-metadata"},r.createElement("div",{className:"lk-participant-metadata-item"},d.source===i.fQ.Source.Camera?r.createElement(r.Fragment,null,v&&r.createElement(y,{style:{marginRight:"0.25rem"}}),r.createElement(V,{trackRef:{participant:d.participant,source:i.fQ.Source.Microphone},show:"muted"}),r.createElement(F,null)):r.createElement(r.Fragment,null,r.createElement(T,{style:{marginRight:"0.25rem"}}),r.createElement(F,null,"'s screen"))),r.createElement(Q,{className:"lk-participant-metadata-item"}))),r.createElement(A,{trackRef:d}))))}));function ve(e){const t=O(e,{className:"lk-focus-layout"});return r.createElement("div",{...t},e.children)}function he({trackRef:e,...t}){return r.createElement(pe,{trackRef:e,...t})}function me({tracks:e,...t}){return r.createElement(r.Fragment,null,e.map((e=>r.createElement(a.ag.Provider,{value:e,key:(0,a.p)(e)},L(t.children)))))}function ge({totalPageCount:e,nextPage:t,prevPage:n,currentPage:o,pagesContainer:i}){const[c,u]=r.useState(!1);return r.useEffect((()=>{let e;return i&&(e=(0,a.ai)(i.current,2e3).subscribe(u)),()=>{e&&e.unsubscribe()}}),[i]),r.createElement("div",{className:"lk-pagination-control","data-lk-user-interaction":c},r.createElement("button",{className:"lk-button",onClick:n},r.createElement(h,null)),r.createElement("span",{className:"lk-pagination-count"},`${o} of ${e}`),r.createElement("button",{className:"lk-button",onClick:t},r.createElement(h,null)))}const be=r.forwardRef((function({totalPageCount:e,currentPage:t},n){const o=new Array(e).fill("").map(((e,n)=>n+1===t?r.createElement("span",{"data-lk-active":!0,key:n}):r.createElement("span",{key:n})));return r.createElement("div",{ref:n,className:"lk-pagination-indicator"},o)}));function ye({tracks:e,...t}){const n=r.createRef(),i=r.useMemo((()=>O(t,{className:"lk-grid-layout"})),[t]),{layout:a}=(0,o.n)(n,e.length),c=(0,o.o)(a.maxTiles,e);return(0,o.p)(n,{onLeftSwipe:c.nextPage,onRightSwipe:c.prevPage}),r.createElement("div",{ref:n,"data-lk-pagination":c.totalPageCount>1,...i},r.createElement(me,{tracks:c.tracks},t.children),e.length>a.maxTiles&&r.createElement(r.Fragment,null,r.createElement(be,{totalPageCount:c.totalPageCount,currentPage:c.currentPage}),r.createElement(ge,{pagesContainer:n,...c})))}const we=130,Ee=140,ke=1,Se=1.6,xe=-1*(1-Se);function Ce({tracks:e,orientation:t,...n}){const i=r.useRef(null),[c,u]=r.useState(0),{width:s,height:l}=(0,o.q)(i),f=t||(l>=s?"vertical":"horizontal"),d="vertical"===f?Math.max(s*xe,we):Math.max(l*Se,Ee),p=(0,a.aj)(),v=Math.max("vertical"===f?(l-p)/d:(s-p)/d,ke);let h=Math.round(v);Math.abs(v-c)<.5?h=Math.round(c):c!==v&&u(v);const m=(0,o.r)(e,h);return r.useLayoutEffect((()=>{i.current&&(i.current.dataset.lkOrientation=f,i.current.style.setProperty("--lk-max-visible-tiles",h.toString()))}),[h,f]),r.createElement("aside",{key:f,className:"lk-carousel",ref:i,...n},r.createElement(me,{tracks:m},n.children))}function Te({value:e,onPinChange:t,onWidgetChange:n,children:o}){const i=(0,a.ak)(e);return r.useEffect((()=>{a.l.debug("PinState Updated",{state:i.pin.state}),t&&i.pin.state&&t(i.pin.state)}),[i.pin.state,t]),r.useEffect((()=>{a.l.debug("Widget Updated",{widgetState:i.widget.state}),n&&i.widget.state&&n(i.widget.state)}),[n,i.widget.state]),r.createElement(a.aa.Provider,{value:i},o)}function Re({volume:e,muted:t}){const n=(0,o.t)([i.fQ.Source.Microphone,i.fQ.Source.ScreenShareAudio,i.fQ.Source.Unknown],{updateOnlyOn:[],onlySubscribed:!0}).filter((e=>!(0,a.ac)(e.participant)&&e.publication.kind===i.fQ.Kind.Audio));return r.createElement("div",{style:{display:"none"}},n.map((n=>r.createElement(le,{key:(0,a.p)(n),trackRef:n,volume:e,muted:t}))))}function Pe(e){const t=r.useMemo((()=>O(e,{className:"lk-toast"})),[e]);return r.createElement("div",{...t},e.children)}function Me(e){const[t,n]=r.useState(void 0),a=(0,o.a)(e.room);return r.useEffect((()=>{switch(a){case i.em.Reconnecting:n(r.createElement(r.Fragment,null,r.createElement(P,{className:"lk-spinner"})," Reconnecting"));break;case i.em.Connecting:n(r.createElement(r.Fragment,null,r.createElement(P,{className:"lk-spinner"})," Connecting"));break;case i.em.Disconnected:n(r.createElement(r.Fragment,null,"Disconnected"));break;default:n(void 0)}}),[a]),t?r.createElement(Pe,{className:"lk-toast-connection-state"},t):r.createElement(r.Fragment,null)}const Ae=r.forwardRef((function({entry:e,hideName:t=!1,hideTimestamp:n=!1,messageFormatter:o,...i},a){var c,u,s;const l=r.useMemo((()=>o?o(e.message):e.message),[e.message,o]),f=!!e.editTimestamp,d=new Date(e.timestamp),p=navigator?navigator.language:"en-US";return r.createElement("li",{ref:a,className:"lk-chat-entry",title:d.toLocaleTimeString(p,{timeStyle:"full"}),"data-lk-message-origin":null!=(c=e.from)&&c.isLocal?"local":"remote",...i},(!n||!t||f)&&r.createElement("span",{className:"lk-meta-data"},!t&&r.createElement("strong",{className:"lk-participant-name"},(null==(u=e.from)?void 0:u.name)??(null==(s=e.from)?void 0:s.identity)),(!n||f)&&r.createElement("span",{className:"lk-timestamp"},f&&"edited ",d.toLocaleTimeString(p,{timeStyle:"short"}))),r.createElement("span",{className:"lk-message-body"},l))}));function _e(e){return(0,a.al)(e,(0,a.am)()).map(((e,t)=>{if("string"==typeof e)return e;{const n=e.content.toString(),o="url"===e.type?/^http(s?):\/\//.test(n)?n:`https://${n}`:`mailto:${n}`;return r.createElement("a",{className:"lk-chat-link",key:t,href:o,target:"_blank",rel:"noreferrer"},n)}}))}},694:function(e,t,n){"use strict";n.d(t,{$:function(){return Dr},A:function(){return Vn},B:function(){return Jr},D:function(){return vr},F:function(){return Br},G:function(){return xn},L:function(){return no},N:function(){return xr},O:function(){return Cr},P:function(){return Tr},Q:function(){return dr},R:function(){return Yr},S:function(){return cr},T:function(){return ur},U:function(){return Mn},V:function(){return Ar},W:function(){return An},X:function(){return qn},Y:function(){return zn},Z:function(){return Sr},_:function(){return jr},a:function(){return Vr},a0:function(){return Yn},a1:function(){return cn},a8:function(){return Xn},a9:function(){return Wr},aa:function(){return Fr},ab:function(){return pr},ac:function(){return dn},ad:function(){return se},ae:function(){return le},af:function(){return Gr},ag:function(){return Hr},ah:function(){return ro},ai:function(){return _r},aj:function(){return pn},ak:function(){return qr},al:function(){return En},am:function(){return wn},an:function(){return bn},ao:function(){return yn},ap:function(){return Lr},aq:function(){return Tn},ar:function(){return zr},as:function(){return ln},at:function(){return vn},c:function(){return Kr},d:function(){return fr},e:function(){return Wn},f:function(){return Xr},h:function(){return lr},i:function(){return Zr},j:function(){return $r},k:function(){return Rr},l:function(){return Sn},m:function(){return fn},n:function(){return Cn},o:function(){return or},p:function(){return sn},q:function(){return ir},s:function(){return Pr},t:function(){return tr},u:function(){return to},v:function(){return ar},w:function(){return eo},x:function(){return Zn},y:function(){return sr},z:function(){return In}});var r=n(3342),o=n(7894);const i=Math.min,a=Math.max,c=Math.round,u=e=>({x:e,y:e}),s={left:"right",right:"left",bottom:"top",top:"bottom"},l={start:"end",end:"start"};function f(e,t,n){return a(e,i(t,n))}function d(e,t){return"function"==typeof e?e(t):e}function p(e){return e.split("-")[0]}function v(e){return e.split("-")[1]}function h(e){return"x"===e?"y":"x"}function m(e){return"y"===e?"height":"width"}function g(e){return["top","bottom"].includes(p(e))?"y":"x"}function b(e){return h(g(e))}function y(e){return e.replace(/start|end/g,(e=>l[e]))}function w(e){return e.replace(/left|right|bottom|top/g,(e=>s[e]))}function E(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function k(e,t,n){let{reference:r,floating:o}=e;const i=g(t),a=b(t),c=m(a),u=p(t),s="y"===i,l=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,d=r[c]/2-o[c]/2;let h;switch(u){case"top":h={x:l,y:r.y-o.height};break;case"bottom":h={x:l,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-o.width,y:f};break;default:h={x:r.x,y:r.y}}switch(v(t)){case"start":h[a]-=d*(n&&s?-1:1);break;case"end":h[a]+=d*(n&&s?-1:1)}return h}async function S(e,t){var n;void 0===t&&(t={});const{x:r,y:o,platform:i,rects:a,elements:c,strategy:u}=e,{boundary:s="clippingAncestors",rootBoundary:l="viewport",elementContext:f="floating",altBoundary:p=!1,padding:v=0}=d(t,e),h=function(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}(v),m=c[p?"floating"===f?"reference":"floating":f],g=E(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(m)))||n?m:m.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(c.floating)),boundary:s,rootBoundary:l,strategy:u})),b="floating"===f?{...a.floating,x:r,y:o}:a.reference,y=await(null==i.getOffsetParent?void 0:i.getOffsetParent(c.floating)),w=await(null==i.isElement?void 0:i.isElement(y))&&await(null==i.getScale?void 0:i.getScale(y))||{x:1,y:1},k=E(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:b,offsetParent:y,strategy:u}):b);return{top:(g.top-k.top+h.top)/w.y,bottom:(k.bottom-g.bottom+h.bottom)/w.y,left:(g.left-k.left+h.left)/w.x,right:(k.right-g.right+h.right)/w.x}}function x(){return typeof window<"u"}function C(e){return P(e)?(e.nodeName||"").toLowerCase():"#document"}function T(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function R(e){var t;return null==(t=(P(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function P(e){return!!x()&&(e instanceof Node||e instanceof T(e).Node)}function M(e){return!!x()&&(e instanceof Element||e instanceof T(e).Element)}function A(e){return!!x()&&(e instanceof HTMLElement||e instanceof T(e).HTMLElement)}function _(e){return!(!x()||typeof ShadowRoot>"u")&&(e instanceof ShadowRoot||e instanceof T(e).ShadowRoot)}function O(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=U(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function L(e){return["table","td","th"].includes(C(e))}function N(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch{return!1}}))}function I(e){const t=D(),n=M(e)?U(e):e;return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function D(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function j(e){return["html","body","#document"].includes(C(e))}function U(e){return T(e).getComputedStyle(e)}function Q(e){return M(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function F(e){if("html"===C(e))return e;const t=e.assignedSlot||e.parentNode||_(e)&&e.host||R(e);return _(t)?t.host:t}function V(e){const t=F(e);return j(t)?e.ownerDocument?e.ownerDocument.body:e.body:A(t)&&O(t)?t:V(t)}function B(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const o=V(e),i=o===(null==(r=e.ownerDocument)?void 0:r.body),a=T(o);if(i){const e=z(a);return t.concat(a,a.visualViewport||[],O(o)?o:[],e&&n?B(e):[])}return t.concat(o,B(o,[],n))}function z(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function q(e){const t=U(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=A(e),i=o?e.offsetWidth:n,a=o?e.offsetHeight:r,u=c(n)!==i||c(r)!==a;return u&&(n=i,r=a),{width:n,height:r,$:u}}function $(e){return M(e)?e:e.contextElement}function H(e){const t=$(e);if(!A(t))return u(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=q(t);let a=(i?c(n.width):n.width)/r,s=(i?c(n.height):n.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const W=u(0);function Z(e){const t=T(e);return D()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:W}function G(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const o=e.getBoundingClientRect(),i=$(e);let a=u(1);t&&(r?M(r)&&(a=H(r)):a=H(e));const c=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==T(e))&&t}(i,n,r)?Z(i):u(0);let s=(o.left+c.x)/a.x,l=(o.top+c.y)/a.y,f=o.width/a.x,d=o.height/a.y;if(i){const e=T(i),t=r&&M(r)?T(r):r;let n=e,o=z(n);for(;o&&r&&t!==n;){const e=H(o),t=o.getBoundingClientRect(),r=U(o),i=t.left+(o.clientLeft+parseFloat(r.paddingLeft))*e.x,a=t.top+(o.clientTop+parseFloat(r.paddingTop))*e.y;s*=e.x,l*=e.y,f*=e.x,d*=e.y,s+=i,l+=a,n=T(o),o=z(n)}}return E({width:f,height:d,x:s,y:l})}function J(e,t){const n=Q(e).scrollLeft;return t?t.left+n:G(R(e)).left+n}function K(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=T(e),r=R(e),o=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,c=0,u=0;if(o){i=o.width,a=o.height;const e=D();(!e||e&&"fixed"===t)&&(c=o.offsetLeft,u=o.offsetTop)}return{width:i,height:a,x:c,y:u}}(e,n);else if("document"===t)r=function(e){const t=R(e),n=Q(e),r=e.ownerDocument.body,o=a(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=a(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+J(e);const u=-n.scrollTop;return"rtl"===U(r).direction&&(c+=a(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:c,y:u}}(R(e));else if(M(t))r=function(e,t){const n=G(e,!0,"fixed"===t),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=A(e)?H(e):u(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:o*i.x,y:r*i.y}}(t,n);else{const n=Z(e);r={...t,x:t.x-n.x,y:t.y-n.y}}return E(r)}function Y(e,t){const n=F(e);return!(n===t||!M(n)||j(n))&&("fixed"===U(n).position||Y(n,t))}function X(e,t){const n=t.get(e);if(n)return n;let r=B(e,[],!1).filter((e=>M(e)&&"body"!==C(e))),o=null;const i="fixed"===U(e).position;let a=i?F(e):e;for(;M(a)&&!j(a);){const t=U(a),n=I(a);!n&&"fixed"===t.position&&(o=null),(i?!n&&!o:!n&&"static"===t.position&&o&&["absolute","fixed"].includes(o.position)||O(a)&&!n&&Y(e,a))?r=r.filter((e=>e!==a)):o=t,a=F(a)}return t.set(e,r),r}function ee(e,t,n){const r=A(t),o=R(t),i="fixed"===n,a=G(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const s=u(0);if(r||!r&&!i)if(("body"!==C(t)||O(o))&&(c=Q(t)),r){const e=G(t,!0,i,t);s.x=e.x+t.clientLeft,s.y=e.y+t.clientTop}else o&&(s.x=J(o));let l=0,f=0;if(o&&!r&&!i){const e=o.getBoundingClientRect();f=e.top+c.scrollTop,l=e.left+c.scrollLeft-J(o,e)}return{x:a.left+c.scrollLeft-s.x-l,y:a.top+c.scrollTop-s.y-f,width:a.width,height:a.height}}function te(e){return"static"===U(e).position}function ne(e,t){if(!A(e)||"fixed"===U(e).position)return null;if(t)return t(e);let n=e.offsetParent;return R(e)===n&&(n=n.ownerDocument.body),n}function re(e,t){const n=T(e);if(N(e))return n;if(!A(e)){let t=F(e);for(;t&&!j(t);){if(M(t)&&!te(t))return t;t=F(t)}return n}let r=ne(e,t);for(;r&&L(r)&&te(r);)r=ne(r,t);return r&&j(r)&&te(r)&&!I(r)?n:r||function(e){let t=F(e);for(;A(t)&&!j(t);){if(I(t))return t;if(N(t))return null;t=F(t)}return null}(e)||n}const oe={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i="fixed"===o,a=R(r),c=!!t&&N(t.floating);if(r===a||c&&i)return n;let s={scrollLeft:0,scrollTop:0},l=u(1);const f=u(0),d=A(r);if((d||!d&&!i)&&(("body"!==C(r)||O(a))&&(s=Q(r)),A(r))){const e=G(r);l=H(r),f.x=e.x+r.clientLeft,f.y=e.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-s.scrollLeft*l.x+f.x,y:n.y*l.y-s.scrollTop*l.y+f.y}},getDocumentElement:R,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const c=[..."clippingAncestors"===n?N(t)?[]:X(t,this._c):[].concat(n),r],u=c[0],s=c.reduce(((e,n)=>{const r=K(t,n,o);return e.top=a(r.top,e.top),e.right=i(r.right,e.right),e.bottom=i(r.bottom,e.bottom),e.left=a(r.left,e.left),e}),K(t,u,o));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:re,getElementRects:async function(e){const t=this.getOffsetParent||re,n=this.getDimensions,r=await n(e.floating);return{reference:ee(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=q(e);return{width:t,height:n}},getScale:H,isElement:M,isRTL:function(e){return"rtl"===U(e).direction}},ie=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:a,middlewareData:c}=t,u=await async function(e,t){const{placement:n,platform:r,elements:o}=e,i=await(null==r.isRTL?void 0:r.isRTL(o.floating)),a=p(n),c=v(n),u="y"===g(n),s=["left","top"].includes(a)?-1:1,l=i&&u?-1:1,f=d(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:b}="number"==typeof f?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return c&&"number"==typeof b&&(m="end"===c?-1*b:b),u?{x:m*l,y:h*s}:{x:h*s,y:m*l}}(t,e);return a===(null==(n=c.offset)?void 0:n.placement)&&null!=(r=c.arrow)&&r.alignmentOffset?{}:{x:o+u.x,y:i+u.y,data:{...u,placement:a}}}}},ae=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:c={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...u}=d(e,t),s={x:n,y:r},l=await S(t,u),v=g(p(o)),m=h(v);let b=s[m],y=s[v];if(i){const e="y"===m?"bottom":"right";b=f(b+l["y"===m?"top":"left"],b,b-l[e])}if(a){const e="y"===v?"bottom":"right";y=f(y+l["y"===v?"top":"left"],y,y-l[e])}const w=c.fn({...t,[m]:b,[v]:y});return{...w,data:{x:w.x-n,y:w.y-r}}}}},ce=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:a,initialPlacement:c,platform:u,elements:s}=t,{mainAxis:l=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:k=!0,...x}=d(e,t);if(null!=(n=i.arrow)&&n.alignmentOffset)return{};const C=p(o),T=p(c)===c,R=await(null==u.isRTL?void 0:u.isRTL(s.floating)),P=h||(T||!k?[w(c)]:function(e){const t=w(e);return[y(e),t,y(t)]}(c));!h&&"none"!==E&&P.push(...function(e,t,n,r){const o=v(e);let i=function(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:a;default:return[]}}(p(e),"start"===n,r);return o&&(i=i.map((e=>e+"-"+o)),t&&(i=i.concat(i.map(y)))),i}(c,k,E,R));const M=[c,...P],A=await S(t,x),_=[];let O=(null==(r=i.flip)?void 0:r.overflows)||[];if(l&&_.push(A[C]),f){const e=function(e,t,n){void 0===n&&(n=!1);const r=v(e),o=b(e),i=m(o);let a="x"===o?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=w(a)),[a,w(a)]}(o,a,R);_.push(A[e[0]],A[e[1]])}if(O=[...O,{placement:o,overflows:_}],!_.every((e=>e<=0))){var L,N;const e=((null==(L=i.flip)?void 0:L.index)||0)+1,t=M[e];if(t)return{data:{index:e,overflows:O},reset:{placement:t}};let n=null==(N=O.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:N.placement;if(!n)switch(g){case"bestFit":{var I;const e=null==(I=O.map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:I[0];e&&(n=e);break}case"initialPlacement":n=c}if(o!==n)return{reset:{placement:n}}}return{}}}},ue=(e,t,n)=>{const r=new Map,o={platform:oe,...n},i={...o.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=n,c=i.filter(Boolean),u=await(null==a.isRTL?void 0:a.isRTL(t));let s=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:l,y:f}=k(s,r,u),d=r,p={},v=0;for(let h=0;h<c.length;h++){const{name:n,fn:i}=c[h],{x:m,y:g,data:b,reset:y}=await i({x:l,y:f,initialPlacement:r,placement:d,strategy:o,middlewareData:p,rects:s,platform:a,elements:{reference:e,floating:t}});l=m??l,f=g??f,p={...p,[n]:{...p[n],...b}},y&&v<=50&&(v++,"object"==typeof y&&(y.placement&&(d=y.placement),y.rects&&(s=!0===y.rects?await a.getElementRects({reference:e,floating:t,strategy:o}):y.rects),({x:l,y:f}=k(s,d,u))),h=-1)}return{x:l,y:f,placement:d,strategy:o,middlewareData:p}})(e,t,{...o,platform:i})};var se=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function le(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fe={exports:{}};!function(e){var t,n;t=se,n=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"],o={},i=null;function a(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch{return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function c(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function u(){for(var n=this.getLevel(),o=0;o<r.length;o++){var i=r[o];this[i]=o<n?e:this.methodFactory(i,n,this.name)}if(this.log=this.debug,typeof console===t&&n<this.levels.SILENT)return"No console available for logging"}function s(e){return function(){typeof console!==t&&(u.call(this),this[e].apply(this,arguments))}}function l(r,o,i){return function(r){return"debug"===r&&(r="log"),typeof console!==t&&("trace"===r&&n?c:void 0!==console[r]?a(console,r):void 0!==console.log?a(console,"log"):e)}(r)||s.apply(this,arguments)}function f(e,n){var a,c,s,f=this,d="loglevel";function p(){var e;if(typeof window!==t&&d){try{e=window.localStorage[d]}catch{}if(typeof e===t)try{var n=window.document.cookie,r=encodeURIComponent(d),o=n.indexOf(r+"=");-1!==o&&(e=/^([^;]+)/.exec(n.slice(o+r.length+1))[1])}catch{}return void 0===f.levels[e]&&(e=void 0),e}}function v(e){var t=e;if("string"==typeof t&&void 0!==f.levels[t.toUpperCase()]&&(t=f.levels[t.toUpperCase()]),"number"==typeof t&&t>=0&&t<=f.levels.SILENT)return t;throw new TypeError("log.setLevel() called with invalid level: "+e)}"string"==typeof e?d+=":"+e:"symbol"==typeof e&&(d=void 0),f.name=e,f.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},f.methodFactory=n||l,f.getLevel=function(){return s??c??a},f.setLevel=function(e,n){return s=v(e),!1!==n&&function(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&d){try{return void(window.localStorage[d]=n)}catch{}try{window.document.cookie=encodeURIComponent(d)+"="+n+";"}catch{}}}(s),u.call(f)},f.setDefaultLevel=function(e){c=v(e),p()||f.setLevel(e,!1)},f.resetLevel=function(){s=null,function(){if(typeof window!==t&&d){try{window.localStorage.removeItem(d)}catch{}try{window.document.cookie=encodeURIComponent(d)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}(),u.call(f)},f.enableAll=function(e){f.setLevel(f.levels.TRACE,e)},f.disableAll=function(e){f.setLevel(f.levels.SILENT,e)},f.rebuild=function(){if(i!==f&&(a=v(i.getLevel())),u.call(f),i===f)for(var e in o)o[e].rebuild()},a=v(i?i.getLevel():"WARN");var h=p();null!=h&&(s=v(h)),u.call(f)}(i=new f).getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=o[e];return t||(t=o[e]=new f(e,i.methodFactory)),t};var d=typeof window!==t?window.log:void 0;return i.noConflict=function(){return typeof window!==t&&window.log===i&&(window.log=d),i},i.getLoggers=function(){return o},i.default=i,i},e.exports?e.exports=n():t.log=n()}(fe);const de=le(fe.exports);var pe=function(e,t){return(pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function ve(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}pe(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function he(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function c(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,c)}u((r=r.apply(e,t||[])).next())}))}function me(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(u){c=[6,u],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}function ge(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function be(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function ye(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)(r||!(o in t))&&(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function we(e){return this instanceof we?(this.v=e,this):new we(e)}function Ee(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",(function(e){return function(t){return Promise.resolve(t).then(e,s)}})),r[Symbol.asyncIterator]=function(){return this},r;function a(e,t){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||c(e,t)}))},t&&(r[e]=t(r[e])))}function c(e,t){try{!function(e){e.value instanceof we?Promise.resolve(e.value.v).then(u,s):l(i[0][2],e)}(o[e](t))}catch(n){l(i[0][3],n)}}function u(e){c("next",e)}function s(e){c("throw",e)}function l(e,t){e(t),i.shift(),i.length&&c(i[0][0],i[0][1])}}function ke(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=ge(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function Se(e){return"function"==typeof e}function xe(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Ce=xe((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function Te(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Re=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,r,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var a=ge(i),c=a.next();!c.done;c=a.next()){c.value.remove(this)}}catch(p){e={error:p}}finally{try{c&&!c.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else i.remove(this);var u=this.initialTeardown;if(Se(u))try{u()}catch(p){o=p instanceof Ce?p.errors:[p]}var s=this._finalizers;if(s){this._finalizers=null;try{for(var l=ge(s),f=l.next();!f.done;f=l.next()){var d=f.value;try{Ae(d)}catch(p){o=o??[],p instanceof Ce?o=ye(ye([],be(o)),be(p.errors)):o.push(p)}}}catch(p){n={error:p}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}if(o)throw new Ce(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Ae(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Te(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&Te(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Pe=Re.EMPTY;function Me(e){return e instanceof Re||e&&"closed"in e&&Se(e.remove)&&Se(e.add)&&Se(e.unsubscribe)}function Ae(e){Se(e)?e():e.unsubscribe()}var _e=void 0,Oe=!1,Le={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,ye([e,t],be(n)))},clearTimeout:function(e){var t=Le.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Ne(e){Le.setTimeout((function(){throw e}))}function Ie(){}function De(e){e()}var je=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,Me(t)&&t.add(n)):n.destination=ze,n}return ve(t,e),t.create=function(e,t,n){return new Ve(e,t,n)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Re),Ue=Function.prototype.bind;function Qe(e,t){return Ue.call(e,t)}var Fe=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(n){Be(n)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(n){Be(n)}else Be(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){Be(t)}},e}(),Ve=function(e){function t(t,n,r){var o,i,a=e.call(this)||this;Se(t)||!t?o={next:t??void 0,error:n??void 0,complete:r??void 0}:a&&Oe?((i=Object.create(t)).unsubscribe=function(){return a.unsubscribe()},o={next:t.next&&Qe(t.next,i),error:t.error&&Qe(t.error,i),complete:t.complete&&Qe(t.complete,i)}):o=t;return a.destination=new Fe(o),a}return ve(t,e),t}(je);function Be(e){Ne(e)}var ze={closed:!0,next:Ie,error:function(e){throw e},complete:Ie},qe="function"==typeof Symbol&&Symbol.observable||"@@observable";function $e(e){return e}var He=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this,o=function(e){return e&&e instanceof je||function(e){return e&&Se(e.next)&&Se(e.error)&&Se(e.complete)}(e)&&Me(e)}(e)?e:new Ve(e,t,n);return De((function(){var e=r,t=e.operator,n=e.source;o.add(t?t.call(o,n):n?r._subscribe(o):r._trySubscribe(o))})),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=We(t))((function(t,r){var o=new Ve({next:function(t){try{e(t)}catch(n){r(n),o.unsubscribe()}},error:r,complete:t});n.subscribe(o)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[qe]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(e){return 0===e.length?$e:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=We(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function We(e){var t;return null!==(t=e??_e)&&void 0!==t?t:Promise}function Ze(e){return function(t){if(function(e){return Se(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(n){this.error(n)}}));throw new TypeError("Unable to lift unknown Observable type")}}function Ge(e,t,n,r,o){return new Je(e,t,n,r,o)}var Je=function(e){function t(t,n,r,o,i,a){var c=e.call(this,t)||this;return c.onFinalize=i,c.shouldUnsubscribe=a,c._next=n?function(e){try{n(e)}catch(r){t.error(r)}}:e.prototype._next,c._error=o?function(e){try{o(e)}catch(n){t.error(n)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,c}return ve(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(je),Ke=xe((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),Ye=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return ve(t,e),t.prototype.lift=function(e){var t=new Xe(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new Ke},t.prototype.next=function(e){var t=this;De((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var o=ge(t.currentObservers),i=o.next();!i.done;i=o.next()){i.value.next(e)}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;De((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;De((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,o=n.isStopped,i=n.observers;return r||o?Pe:(this.currentObservers=null,i.push(e),new Re((function(){t.currentObservers=null,Te(i,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,o=t.isStopped;n?e.error(r):o&&e.complete()},t.prototype.asObservable=function(){var e=new He;return e.source=this,e},t.create=function(e,t){return new Xe(e,t)},t}(He),Xe=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return ve(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:Pe},t}(Ye),et=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return ve(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,r=e._value;if(t)throw n;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(Ye),tt=function(){return Date.now()},nt=function(e){function t(t,n){return e.call(this)||this}return ve(t,e),t.prototype.schedule=function(e,t){return this},t}(Re),rt=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setInterval.apply(void 0,ye([e,t],be(n)))},ot=function(e){return clearInterval(e)},it=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return ve(t,e),t.prototype.schedule=function(e,t){var n;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(o,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),rt(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&ot(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(o){r=!0,n=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Te(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(nt),at=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=tt,e}(),ct=new(function(e){function t(t,n){void 0===n&&(n=at.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r}return ve(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(at))(it),ut=new He((function(e){return e.complete()}));function st(e){return e[e.length-1]}function lt(e){return function(e){return e&&Se(e.schedule)}(st(e))?e.pop():void 0}var ft=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function dt(e){return Se(null==e?void 0:e.then)}function pt(e){return Se(e[qe])}function vt(e){return Symbol.asyncIterator&&Se(null==e?void 0:e[Symbol.asyncIterator])}function ht(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var mt="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function gt(e){return Se(null==e?void 0:e[mt])}function bt(e){return Ee(this,arguments,(function(){var t,n,r;return me(this,(function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,we(t.read())];case 3:return n=o.sent(),r=n.value,n.done?[4,we(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,we(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function yt(e){return Se(null==e?void 0:e.getReader)}function wt(e){if(e instanceof He)return e;if(null!=e){if(pt(e))return function(e){return new He((function(t){var n=e[qe]();if(Se(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}(e);if(ft(e))return function(e){return new He((function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()}))}(e);if(dt(e))return function(e){return new He((function(t){e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,Ne)}))}(e);if(vt(e))return Et(e);if(gt(e))return function(e){return new He((function(t){var n,r;try{for(var o=ge(e),i=o.next();!i.done;i=o.next()){var a=i.value;if(t.next(a),t.closed)return}}catch(c){n={error:c}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()}))}(e);if(yt(e))return function(e){return Et(bt(e))}(e)}throw ht(e)}function Et(e){return new He((function(t){(function(e,t){var n,r,o,i;return he(this,void 0,void 0,(function(){var a,c;return me(this,(function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=ke(e),u.label=1;case 1:return[4,n.next()];case 2:if((r=u.sent()).done)return[3,4];if(a=r.value,t.next(a),t.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=u.sent(),o={error:c},[3,11];case 6:return u.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function kt(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var i=t.schedule((function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(i),!o)return i}function St(e,t){return void 0===t&&(t=0),Ze((function(n,r){n.subscribe(Ge(r,(function(n){return kt(r,e,(function(){return r.next(n)}),t)}),(function(){return kt(r,e,(function(){return r.complete()}),t)}),(function(n){return kt(r,e,(function(){return r.error(n)}),t)})))}))}function xt(e,t){return void 0===t&&(t=0),Ze((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}function Ct(e,t){if(!e)throw new Error("Iterable cannot be null");return new He((function(n){kt(n,t,(function(){var r=e[Symbol.asyncIterator]();kt(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function Tt(e,t){if(null!=e){if(pt(e))return function(e,t){return wt(e).pipe(xt(t),St(t))}(e,t);if(ft(e))return function(e,t){return new He((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if(dt(e))return function(e,t){return wt(e).pipe(xt(t),St(t))}(e,t);if(vt(e))return Ct(e,t);if(gt(e))return function(e,t){return new He((function(n){var r;return kt(n,t,(function(){r=e[mt](),kt(n,t,(function(){var e,t,o;try{t=(e=r.next()).value,o=e.done}catch(i){return void n.error(i)}o?n.complete():n.next(t)}),0,!0)})),function(){return Se(null==r?void 0:r.return)&&r.return()}}))}(e,t);if(yt(e))return function(e,t){return Ct(bt(e),t)}(e,t)}throw ht(e)}function Rt(e,t){return t?Tt(e,t):wt(e)}function Pt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Rt(e,lt(e))}var Mt=xe((function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}}));function At(e,t){var n=function(e){return e instanceof Date&&!isNaN(e)}(e)?{first:e}:"number"==typeof e?{each:e}:e,r=n.first,o=n.each,i=n.with,a=void 0===i?_t:i,c=n.scheduler,u=void 0===c?ct:c,s=n.meta,l=void 0===s?null:s;if(null==r&&null==o)throw new TypeError("No timeout provided.");return Ze((function(e,t){var n,i,c=null,s=0,f=function(e){i=kt(t,u,(function(){try{n.unsubscribe(),wt(a({meta:l,lastValue:c,seen:s})).subscribe(t)}catch(e){t.error(e)}}),e)};n=e.subscribe(Ge(t,(function(e){null==i||i.unsubscribe(),s++,t.next(c=e),o>0&&f(o)}),void 0,void 0,(function(){null!=i&&i.closed||null==i||i.unsubscribe(),c=null}))),!s&&f(null!=r?"number"==typeof r?r:+r-u.now():o)}))}function _t(e){throw new Mt(e)}function Ot(e,t){return Ze((function(n,r){var o=0;n.subscribe(Ge(r,(function(n){r.next(e.call(t,n,o++))})))}))}var Lt=Array.isArray;function Nt(e){return Ot((function(t){return function(e,t){return Lt(t)?e.apply(void 0,ye([],be(t))):e(t)}(e,t)}))}function It(e,t,n){return void 0===n&&(n=1/0),Se(t)?It((function(n,r){return Ot((function(e,o){return t(n,e,r,o)}))(wt(e(n,r)))}),n):("number"==typeof t&&(n=t),Ze((function(t,r){return function(e,t,n,r,o,i,a,c){var u=[],s=0,l=0,f=!1,d=function(){f&&!u.length&&!s&&t.complete()},p=function(e){s++;var o=!1;wt(n(e,l++)).subscribe(Ge(t,(function(e){t.next(e)}),(function(){o=!0}),void 0,(function(){if(o)try{s--;for(var e=function(){var e=u.shift();a||p(e)};u.length&&s<r;)e();d()}catch(n){t.error(n)}})))};return e.subscribe(Ge(t,(function(e){return s<r?p(e):u.push(e)}),(function(){f=!0,d()}))),function(){}}(t,r,e,n)})))}function Dt(e){return void 0===e&&(e=1/0),It($e,e)}function jt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Dt(1)(Rt(e,lt(e)))}var Ut=["addListener","removeListener"],Qt=["addEventListener","removeEventListener"],Ft=["on","off"];function Vt(e,t,n,r){if(Se(n)&&(r=n,n=void 0),r)return Vt(e,t,n).pipe(Nt(r));var o=be(function(e){return Se(e.addEventListener)&&Se(e.removeEventListener)}(e)?Qt.map((function(r){return function(o){return e[r](t,o,n)}})):function(e){return Se(e.addListener)&&Se(e.removeListener)}(e)?Ut.map(Bt(e,t)):function(e){return Se(e.on)&&Se(e.off)}(e)?Ft.map(Bt(e,t)):[],2),i=o[0],a=o[1];if(!i&&ft(e))return It((function(e){return Vt(e,t,n)}))(wt(e));if(!i)throw new TypeError("Invalid event target");return new He((function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return i(t),function(){return a(t)}}))}function Bt(e,t){return function(n){return function(r){return e[n](t,r)}}}function zt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=lt(e),r=function(e,t){return"number"==typeof st(e)?e.pop():t}(e,1/0),o=e;return o.length?1===o.length?wt(o[0]):Dt(r)(Rt(o,n)):ut}function qt(e,t){return Ze((function(n,r){var o=0;n.subscribe(Ge(r,(function(n){return e.call(t,n,o++)&&r.next(n)})))}))}function $t(e,t){return e===t}function Ht(e,t){return Ze(function(e,t,n,r,o){return function(r,i){var a=n,c=t,u=0;r.subscribe(Ge(i,(function(t){var n=u++;c=a?e(c,t,n):(a=!0,t),i.next(c)}),o))}}(e,t,arguments.length>=2))}function Wt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=lt(e);return Ze((function(t,r){(n?jt(e,t,n):jt(e,t)).subscribe(r)}))}function Zt(e){return Ze((function(t,n){wt(e).subscribe(Ge(n,(function(){return n.complete()}),Ie)),!n.closed&&t.subscribe(n)}))}var Gt=Object.defineProperty,Jt=Object.defineProperties,Kt=Object.getOwnPropertyDescriptors,Yt=Object.getOwnPropertySymbols,Xt=Object.prototype.hasOwnProperty,en=Object.prototype.propertyIsEnumerable,tn=(e,t,n)=>t in e?Gt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nn=(e,t)=>{for(var n in t||(t={}))Xt.call(t,n)&&tn(e,n,t[n]);if(Yt)for(var n of Yt(t))en.call(t,n)&&tn(e,n,t[n]);return e},rn=(e,t)=>Jt(e,Kt(t)),on=(e,t,n)=>new Promise(((r,o)=>{var i=e=>{try{c(n.next(e))}catch(t){o(t)}},a=e=>{try{c(n.throw(e))}catch(t){o(t)}},c=e=>e.done?r(e.value):Promise.resolve(e.value).then(i,a);c((n=n.apply(e,t)).next())})),an="lk";function cn(e){return!(typeof e>"u")&&(function(e){var t;return!!e&&(e.hasOwnProperty("participant")&&e.hasOwnProperty("source")&&e.hasOwnProperty("track")&&typeof(null==(t=e.publication)?void 0:t.track)<"u")}(e)||function(e){return!!e&&(e.hasOwnProperty("participant")&&e.hasOwnProperty("source")&&e.hasOwnProperty("publication")&&typeof e.publication<"u")}(e))}function un(e){return!!e&&(e.hasOwnProperty("participant")&&e.hasOwnProperty("source")&&typeof e.publication>"u")}function sn(e){if("string"==typeof e||"number"==typeof e)return`${e}`;if(un(e))return`${e.participant.identity}_${e.source}_placeholder`;if(cn(e))return`${e.participant.identity}_${e.publication.source}_${e.publication.trackSid}`;throw new Error(`Can't generate a id for the given track reference: ${e}`)}function ln(e,t){return void 0!==e&&void 0!==t&&(cn(e)&&cn(t)?e.publication.trackSid===t.publication.trackSid:sn(e)===sn(t))}function fn(e,t){return!(typeof t>"u")&&(cn(e)?t.some((t=>t.participant.identity===e.participant.identity&&cn(t)&&t.publication.trackSid===e.publication.trackSid)):!!un(e)&&t.some((t=>t.participant.identity===e.participant.identity&&un(t)&&t.source===e.source)))}function dn(e){return e instanceof r.Ix}function pn(){const e=document.createElement("p");e.style.width="100%",e.style.height="200px";const t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);const n=e.offsetWidth;t.style.overflow="scroll";let r=e.offsetWidth;return n===r&&(r=t.clientWidth),document.body.removeChild(t),n-r}function vn(){return typeof document<"u"}function hn(e){e=nn({},e);const t=`(?:(?:(?:[a-z]+:)?//)?|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|${new RegExp("(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}","g").source}|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#][^\\s"]*)?`;return e.exact?new RegExp(`(?:^${t}$)`,"i"):new RegExp(t,"ig")}var mn="[^\\.\\s@:](?:[^\\s@:]*[^\\s@:\\.])?@[^\\.\\s@]+(?:\\.[^\\.\\s@]+)*";function gn({exact:e}={}){return e?new RegExp(`^${mn}$`):new RegExp(mn,"g")}function bn(e,t){return on(this,null,(function*(){const{x:n,y:r}=yield ue(e,t,{placement:"top",middleware:[ie(6),ce(),ae({padding:5})]});return{x:n,y:r}}))}function yn(e,t){return!e.contains(t.target)}var wn=()=>({email:gn(),url:hn({})});function En(e,t){const n=Object.entries(t).map((([t,n],r)=>Array.from(e.matchAll(n)).map((({index:e,0:n})=>({type:t,weight:r,content:n,index:e??0}))))).flat().sort(((e,t)=>{const n=e.index-t.index;return 0!==n?n:e.weight-t.weight})).filter((({index:e},t,n)=>{if(0===t)return!0;const r=n[t-1];return r.index+r.content.length<=e})),r=[];let o=0;for(const{type:i,content:a,index:c}of n)c>o&&r.push(e.substring(o,c)),r.push({type:i,content:a}),o=c+a.length;return e.length>o&&r.push(e.substring(o)),r}var kn=[...[r.TQ.ConnectionStateChanged,r.TQ.RoomMetadataChanged,r.TQ.ActiveSpeakersChanged,r.TQ.ConnectionQualityChanged,r.TQ.ParticipantConnected,r.TQ.ParticipantDisconnected,r.TQ.ParticipantPermissionsChanged,r.TQ.ParticipantMetadataChanged,r.TQ.ParticipantNameChanged,r.TQ.ParticipantAttributesChanged,r.TQ.TrackMuted,r.TQ.TrackUnmuted,r.TQ.TrackPublished,r.TQ.TrackUnpublished,r.TQ.TrackStreamStateChanged,r.TQ.TrackSubscriptionFailed,r.TQ.TrackSubscriptionPermissionChanged,r.TQ.TrackSubscriptionStatusChanged],r.TQ.LocalTrackPublished,r.TQ.LocalTrackUnpublished],Sn=(r.dd.TrackPublished,r.dd.TrackUnpublished,r.dd.TrackMuted,r.dd.TrackUnmuted,r.dd.TrackStreamStateChanged,r.dd.TrackSubscribed,r.dd.TrackUnsubscribed,r.dd.TrackSubscriptionPermissionChanged,r.dd.TrackSubscriptionFailed,r.dd.LocalTrackPublished,r.dd.LocalTrackUnpublished,r.dd.ConnectionQualityChanged,r.dd.IsSpeakingChanged,r.dd.ParticipantMetadataChanged,r.dd.ParticipantPermissionsChanged,r.dd.TrackMuted,r.dd.TrackUnmuted,r.dd.TrackPublished,r.dd.TrackUnpublished,r.dd.TrackStreamStateChanged,r.dd.TrackSubscriptionFailed,r.dd.TrackSubscriptionPermissionChanged,r.dd.TrackSubscriptionStatusChanged,r.dd.LocalTrackPublished,r.dd.LocalTrackUnpublished,de.getLogger("lk-components-js"));Sn.setDefaultLevel("WARN");var xn=[{columns:1,rows:1},{columns:1,rows:2,orientation:"portrait"},{columns:2,rows:1,orientation:"landscape"},{columns:2,rows:2,minWidth:560},{columns:3,rows:3,minWidth:700},{columns:4,rows:4,minWidth:960},{columns:5,rows:5,minWidth:1100}];function Cn(e,t,n,r){if(e.length<1)throw new Error("At least one grid layout definition must be provided.");const o=function(e){return[...e].map((e=>{var t,n;return{name:`${e.columns}x${e.rows}`,columns:e.columns,rows:e.rows,maxTiles:e.columns*e.rows,minWidth:null!=(t=e.minWidth)?t:0,minHeight:null!=(n=e.minHeight)?n:0,orientation:e.orientation}})).sort(((e,t)=>e.maxTiles!==t.maxTiles?e.maxTiles-t.maxTiles:0!==e.minWidth||0!==t.minWidth?e.minWidth-t.minWidth:0!==e.minHeight||0!==t.minHeight?e.minHeight-t.minHeight:0))}(e);if(n<=0||r<=0)return o[0];let i=0;const a=n/r>1?"landscape":"portrait";let c=o.find(((e,n,r)=>{i=n;const o=-1!==r.findIndex(((t,r)=>{const o=!t.orientation||t.orientation===a,i=r>n,c=t.maxTiles===e.maxTiles;return i&&c&&o}));return e.maxTiles>=t&&!o}));if(void 0===c){if(c=o[o.length-1],!c)throw new Error("No layout or fallback layout found.");Sn.warn(`No layout found for: participantCount: ${t}, width/height: ${n}/${r} fallback to biggest available layout (${c}).`)}if((n<c.minWidth||r<c.minHeight)&&i>0){const e=o[i-1];c=Cn(o.slice(0,i),e.maxTiles,n,r)}return c}function Tn(){return typeof navigator<"u"&&navigator.mediaDevices&&!!navigator.mediaDevices.getDisplayMedia}var Rn=[],Pn={showChat:!1,unreadMessages:0,showSettings:!1};function Mn(e){return"object"==typeof e}function An(e){return Array.isArray(e)&&e.filter(Mn).length>0}function _n(e,t){return t.audioLevel-e.audioLevel}function On(e,t){return e.isSpeaking===t.isSpeaking?0:e.isSpeaking?-1:1}function Ln(e,t){var n,r,o,i;return void 0!==e.lastSpokeAt||void 0!==t.lastSpokeAt?(null!=(r=null==(n=t.lastSpokeAt)?void 0:n.getTime())?r:0)-(null!=(i=null==(o=e.lastSpokeAt)?void 0:o.getTime())?i:0):0}function Nn(e,t){var n,r,o,i;return(null!=(r=null==(n=e.joinedAt)?void 0:n.getTime())?r:0)-(null!=(i=null==(o=t.joinedAt)?void 0:o.getTime())?i:0)}function In(e){const t=[],n=[],o=[],i=[];e.forEach((e=>{e.participant.isLocal&&e.source===r.fQ.Source.Camera?t.push(e):e.source===r.fQ.Source.ScreenShare?n.push(e):e.source===r.fQ.Source.Camera?o.push(e):i.push(e)}));const a=function(e){const t=[],n=[];return e.forEach((e=>{e.participant.isLocal?t.push(e):n.push(e)})),t.sort(((e,t)=>Nn(e.participant,t.participant))),n.sort(((e,t)=>Nn(e.participant,t.participant))),[...n,...t]}(n),c=function(e){const t=[],n=[];return e.forEach((e=>{e.participant.isLocal?t.push(e):n.push(e)})),n.sort(((e,t)=>e.participant.isSpeaking&&t.participant.isSpeaking?_n(e.participant,t.participant):e.participant.isSpeaking!==t.participant.isSpeaking?On(e.participant,t.participant):e.participant.lastSpokeAt!==t.participant.lastSpokeAt?Ln(e.participant,t.participant):cn(e)!==cn(t)?function(e,t){return cn(e)?cn(t)?0:-1:cn(t)?1:0}(e,t):e.participant.isCameraEnabled!==t.participant.isCameraEnabled?function(e,t){const n=e.participant.isCameraEnabled;return n!==t.participant.isCameraEnabled?n?-1:1:0}(e,t):Nn(e.participant,t.participant))),[...t,...n]}(o);return[...t,...a,...c,...i]}function Dn(e,t){const n=Math.max(e.length,t.length);return new Array(n).fill([]).map(((n,r)=>[e[r],t[r]]))}function jn(e,t,n){return e.filter((e=>!t.map((e=>n(e))).includes(n(e))))}function Un(e){return e.map((e=>"string"==typeof e||"number"==typeof e?`${e}`:sn(e)))}function Qn(e,t){const n=t.findIndex((t=>sn(t)===sn(e)));if(-1===n)throw new Error(`Element not part of the array: ${sn(e)} not in ${Un(t)}`);return n}function Fn(e,t){return function(e,t){return e.reduce(((e,n,r)=>r%t===0?[...e,[n]]:[...e.slice(0,-1),[...e.slice(-1)[0],n]]),[])}(e,t)}function Vn(e,t,n){let r=function(e,t){return e.map((e=>{const n=t.find((t=>sn(e)===sn(t)||"number"!=typeof e&&un(e)&&cn(t)&&function(e,t){return un(e)&&cn(t)&&t.participant.identity===e.participant.identity&&t.source===e.source}(e,t)));return n??e}))}(e,t);if(r.length<t.length){const e=jn(t,r,sn);r=[...r,...e]}if(Dn(Fn(r,n),Fn(t,n)).forEach((([e,t],o)=>{if(e&&t){const i=function(e,t){return{dropped:jn(e,t,sn),added:jn(t,e,sn)}}(Fn(r,n)[o],t);(function(e){return 0!==e.added.length||0!==e.dropped.length})(i)&&(Sn.debug(`Detected visual changes on page: ${o}, current: ${Un(e)}, next: ${Un(t)}`,{changes:i}),i.added.length===i.dropped.length&&Dn(i.added,i.dropped).forEach((([e,t])=>{if(!e||!t)throw new Error(`For a swap action we need a addition and a removal one is missing: ${e}, ${t}`);r=function(e,t,n){const r=Qn(e,n),o=Qn(t,n);return n.splice(r,1,t),n.splice(o,1,e),n}(e,t,r)})),0===i.added.length&&i.dropped.length>0&&i.dropped.forEach((e=>{r=function(e,t){const n=Qn(e,t);return t.splice(n,1),t}(e,r)})),i.added.length>0&&0===i.dropped.length&&i.added.forEach((e=>{r=function(e,t){return[...t,e]}(e,r)})))}})),r.length>t.length){const e=jn(r,t,sn);r=r.filter((t=>!e.map(sn).includes(sn(t))))}return r}function Bn(e){return`${an}-${e}`}function zn(e){const t=qn(e),n=tr(e.participant).pipe(Ot((()=>qn(e))),Wt(t));return{className:Bn(e.source===r.fQ.Source.Camera||e.source===r.fQ.Source.ScreenShare?"participant-media-video":"participant-media-audio"),trackObserver:n}}function qn(e){if(cn(e))return e.publication;{const{source:t,name:n,participant:r}=e;if(t&&n)return r.getTrackPublications().find((e=>e.source===t&&e.trackName===n));if(n)return r.getTrackPublicationByName(n);if(t)return r.getTrackPublication(t);throw new Error("At least one of source and name needs to be defined")}}function $n(e,...t){return new He((n=>{const r=()=>{n.next(e)};return t.forEach((t=>{e.on(t,r)})),()=>{t.forEach((t=>{e.off(t,r)}))}})).pipe(Wt(e))}function Hn(e,t){return new He((n=>{const r=(...e)=>{n.next(e)};return e.on(t,r),()=>{e.off(t,r)}}))}function Wn(e){return Hn(e,r.TQ.ConnectionStateChanged).pipe(Ot((([e])=>e)),Wt(e.state))}function Zn(e,t,n=!0){var o;const i=()=>on(this,null,(function*(){try{const t=yield r.du.getLocalDevices(e,n);a.next(t)}catch(o){null==t||t(o)}})),a=new Ye,c=a.pipe(function(e){return Ze((function(t,n){try{t.subscribe(n)}finally{n.add(e)}}))}((()=>{var e;null==(e=null==navigator?void 0:navigator.mediaDevices)||e.removeEventListener("devicechange",i)})));if(typeof window<"u"){if(!window.isSecureContext)throw new Error("Accessing media devices is available only in secure contexts (HTTPS and localhost), in some or all supporting browsers. See: https://developer.mozilla.org/en-US/docs/Web/API/Navigator/mediaDevices");null==(o=null==navigator?void 0:navigator.mediaDevices)||o.addEventListener("devicechange",i)}return jt(r.du.getLocalDevices(e,n).catch((e=>(null==t||t(e),[]))),c)}function Gn(e){return Hn(e,r.TQ.ChatMessage)}function Jn(e){return $n(e,r.TQ.AudioPlaybackStatusChanged).pipe(Ot((e=>({canPlayAudio:e.canPlaybackAudio}))))}function Kn(e){return $n(e,r.TQ.VideoPlaybackStatusChanged).pipe(Ot((e=>({canPlayVideo:e.canPlaybackVideo}))))}function Yn(e,t){return Hn(e,r.TQ.ParticipantEncryptionStatusChanged).pipe(qt((([,n])=>(null==t?void 0:t.identity)===(null==n?void 0:n.identity)||!n&&(null==t?void 0:t.identity)===e.localParticipant.identity)),Ot((([e])=>e)),Wt(t instanceof r.Ix?t.isE2EEEnabled:!(null==t||!t.isEncrypted)))}function Xn(e){return Hn(e,r.TQ.RecordingStatusChanged).pipe(Ot((([e])=>e)),Wt(e.isRecording))}function er(e,...t){return new He((n=>{const r=()=>{n.next(e)};return t.forEach((t=>{e.on(t,r)})),()=>{t.forEach((t=>{e.off(t,r)}))}})).pipe(Wt(e))}function tr(e){return er(e,r.dd.TrackMuted,r.dd.TrackUnmuted,r.dd.ParticipantPermissionsChanged,r.dd.TrackPublished,r.dd.TrackUnpublished,r.dd.LocalTrackPublished,r.dd.LocalTrackUnpublished,r.dd.MediaDevicesError,r.dd.TrackSubscriptionStatusChanged).pipe(Ot((e=>{const{isMicrophoneEnabled:t,isCameraEnabled:n,isScreenShareEnabled:o}=e,i=e.getTrackPublication(r.fQ.Source.Microphone);return{isCameraEnabled:n,isMicrophoneEnabled:t,isScreenShareEnabled:o,cameraTrack:e.getTrackPublication(r.fQ.Source.Camera),microphoneTrack:i,participant:e}})))}function nr(e){return e?er(e,r.dd.ParticipantMetadataChanged,r.dd.ParticipantNameChanged).pipe(Ot((({name:e,identity:t,metadata:n})=>({name:e,identity:t,metadata:n}))),Wt({name:e.name,identity:e.identity,metadata:e.metadata})):void 0}function rr(e,t){return new He((n=>{const r=(...e)=>{n.next(e)};return e.on(t,r),()=>{e.off(t,r)}}))}function or(e){var t,n,o,i;return er(e.participant,r.dd.TrackMuted,r.dd.TrackUnmuted,r.dd.TrackSubscribed,r.dd.TrackUnsubscribed,r.dd.LocalTrackPublished,r.dd.LocalTrackUnpublished).pipe(Ot((t=>{var n,r;const o=null!=(n=e.publication)?n:t.getTrackPublication(e.source);return null==(r=null==o?void 0:o.isMuted)||r})),Wt(null==(i=null!=(o=null==(t=e.publication)?void 0:t.isMuted)?o:null==(n=e.participant.getTrackPublication(e.source))?void 0:n.isMuted)||i))}function ir(e){return rr(e,r.dd.IsSpeakingChanged).pipe(Ot((([e])=>e)))}function ar(e){return rr(e,r.dd.ParticipantPermissionsChanged).pipe(Ot((()=>e.permissions)),Wt(e.permissions))}function cr(e,t,n,o,i){const{localParticipant:a}=t,c=(e,t)=>{let n=!1;switch(e){case r.fQ.Source.Camera:n=t.isCameraEnabled;break;case r.fQ.Source.Microphone:n=t.isMicrophoneEnabled;break;case r.fQ.Source.ScreenShare:n=t.isScreenShareEnabled}return n},u=tr(a).pipe(Ot((t=>c(e,t.participant))),Wt(c(e,a))),s=new Ye;return{className:Bn("button"),toggle:(t,c)=>on(this,null,(function*(){try{switch(c??(c=n),s.next(!0),e){case r.fQ.Source.Camera:return yield a.setCameraEnabled(t??!a.isCameraEnabled,c,o),a.isCameraEnabled;case r.fQ.Source.Microphone:return yield a.setMicrophoneEnabled(t??!a.isMicrophoneEnabled,c,o),a.isMicrophoneEnabled;case r.fQ.Source.ScreenShare:return yield a.setScreenShareEnabled(t??!a.isScreenShareEnabled,c,o),a.isScreenShareEnabled;default:throw new TypeError("Tried to toggle unsupported source")}}catch(u){if(i&&u instanceof Error)return void(null==i||i(u));throw u}finally{s.next(!1)}})),enabledObserver:u,pendingObserver:s.asObservable()}}function ur(){let e=!1;const t=new Ye,n=new Ye;return{className:Bn("button"),toggle:r=>on(this,null,(function*(){n.next(!0),e=r??!e,t.next(e),n.next(!1)})),enabledObserver:t.asObservable(),pendingObserver:n.asObservable()}}function sr(e,t,n){const o=new et(void 0),i=t?function(e,t){return Hn(e,r.TQ.ActiveDeviceChanged).pipe(qt((([e])=>e===t)),Ot((([e,t])=>(Sn.debug("activeDeviceObservable | RoomEvent.ActiveDeviceChanged",{kind:e,deviceId:t}),t))),Wt(e.getActiveDevice(t)))}(t,e):o.asObservable();return{className:Bn("media-device-select"),activeDeviceObservable:i,setActiveMediaDevice:(i,...a)=>on(this,[i,...a],(function*(i,a={}){var c,u,s;if(t){Sn.debug(`Switching active device of kind "${e}" with id ${i}.`),yield t.switchActiveDevice(e,i,a.exact);const n=null!=(c=t.getActiveDevice(e))?c:i;let l;n!==i&&"default"!==i&&Sn.info(`We tried to select the device with id (${i}), but the browser decided to select the device with id (${n}) instead.`),"audioinput"===e?l=null==(u=t.localParticipant.getTrackPublication(r.fQ.Source.Microphone))?void 0:u.track:"videoinput"===e&&(l=null==(s=t.localParticipant.getTrackPublication(r.fQ.Source.Camera))?void 0:s.track);const f="default"===i&&!l||"default"===i&&(null==l?void 0:l.mediaStreamTrack.label.startsWith("Default"));o.next(f?i:n)}else if(n){yield n.setDeviceId(a.exact?{exact:i}:i);const e=yield n.getDeviceId();o.next("default"===i&&n.mediaStreamTrack.label.startsWith("Default")?i:e)}else o.value!==i&&(Sn.warn("device switch skipped, please provide either a room or a local track to switch on. "),o.next(i))}))}}function lr(e){return{className:Bn("disconnect-button"),disconnect:t=>{e.disconnect(t)}}}function fr(e){const t=Bn("connection-quality"),n=function(e){return rr(e,r.dd.ConnectionQualityChanged).pipe(Ot((([e])=>e)),Wt(e.connectionQuality))}(e);return{className:t,connectionQualityObserver:n}}function dr(e){let t="track-muted-indicator-camera";switch(e.source){case r.fQ.Source.Camera:t="track-muted-indicator-camera";break;case r.fQ.Source.Microphone:t="track-muted-indicator-microphone"}return{className:Bn(t),mediaMutedObserver:or(e)}}function pr(e){return{className:"lk-participant-name",infoObserver:nr(e)}}function vr(){return{className:Bn("participant-tile")}}var hr={CHAT:"lk-chat-topic",CHAT_UPDATE:"lk-chat-update-topic"};function mr(e,t){return on(this,arguments,(function*(e,t,n={}){const{reliable:r,destinationIdentities:o,topic:i}=n;yield e.publishData(t,{destinationIdentities:o,topic:i,reliable:r})}))}function gr(e,t,n){const o=Array.isArray(t)?t:[t],i=function(e){return Hn(e,r.TQ.DataReceived)}(e).pipe(qt((([,,,e])=>void 0===t||void 0!==e&&o.includes(e))),Ot((([e,t,,r])=>{const o={payload:e,topic:r,from:t};return null==n||n(o),o})));let a;return{messageObservable:i,isSendingObservable:new He((e=>{a=e})),send:(t,...n)=>on(this,[t,...n],(function*(t,n={}){a.next(!0);try{yield mr(e.localParticipant,t,nn({topic:o[0]},n))}finally{a.next(!1)}}))}}var br=new TextEncoder,yr=new TextDecoder,wr=new Map,Er=e=>br.encode(JSON.stringify(e)),kr=e=>JSON.parse(yr.decode(e));function Sr(e,t){var n,o;const i=new Ye,{messageDecoder:a,messageEncoder:c,channelTopic:u,updateChannelTopic:s}=t??{},l=u??hr.CHAT,f=s??hr.CHAT_UPDATE;let d=!1;wr.has(e)||(d=!0);const p=null!=(n=wr.get(e))?n:new Map,v=null!=(o=p.get(l))?o:new Ye;if(p.set(l,v),wr.set(e,p),d){const{messageObservable:t}=gr(e,[l,f]);t.pipe(Zt(i)).subscribe(v)}const{chatObservable:h,send:m}=function(e){return{chatObservable:Gn(e),send:t=>on(this,null,(function*(){return yield e.localParticipant.sendChatMessage(t)})),edit:(t,n)=>on(this,null,(function*(){return yield e.localParticipant.editChatMessage(t,n)}))}}(e),g=a??kr,b=zt(v.pipe(Ot((e=>{const t=g(e.payload),n=rn(nn({},t),{from:e.from});if(!function(e){return 1==e.ignore}(n))return n}))),h.pipe(Ot((([e,t])=>rn(nn({},e),{from:t}))))).pipe(Ht(((e,t)=>{var n;if(!t)return e;if("id"in t&&e.find((e=>{var n,r;return(null==(n=e.from)?void 0:n.identity)===(null==(r=t.from)?void 0:r.identity)&&e.id===t.id}))){const r=e.findIndex((e=>e.id===t.id));if(r>-1){const o=e[r];e[r]=rn(nn({},t),{timestamp:o.timestamp,editTimestamp:null!=(n=t.editTimestamp)?n:t.timestamp})}return[...e]}return[...e,t]}),[]),Zt(i)),y=new et(!1),w=c??Er;return e.once(r.TQ.Disconnected,(function(){i.next(),i.complete(),wr.delete(e)})),{messageObservable:b,isSendingObservable:y,send:t=>on(this,null,(function*(){y.next(!0);try{const n=yield m(t),r=w(rn(nn({},n),{ignore:!0}));return yield mr(e.localParticipant,r,{reliable:!0,topic:l}),n}finally{y.next(!1)}})),update:(t,n)=>on(this,null,(function*(){const r=Date.now(),o="string"==typeof n?{id:n,message:"",timestamp:r}:n;y.next(!0);try{const n=yield e.localParticipant.editChatMessage(t,o),r=w(n);return yield mr(e.localParticipant,r,{topic:f,reliable:!0}),n}finally{y.next(!1)}}))}}function xr(){return{className:Bn("start-audio-button"),roomAudioPlaybackAllowedObservable:Jn,handleStartAudioPlayback:e=>on(this,null,(function*(){Sn.info("Start Audio for room: ",e),yield e.startAudio()}))}}function Cr(){return{className:Bn("start-audio-button"),roomVideoPlaybackAllowedObservable:Kn,handleStartVideoPlayback:e=>on(this,null,(function*(){Sn.info("Start Video for room: ",e),yield e.startVideo()}))}}function Tr(){return{className:[Bn("button"),Bn("chat-toggle")].join(" ")}}function Rr(){return{className:[Bn("button"),Bn("focus-toggle-button")].join(" ")}}function Pr(){return{className:"lk-room-container"}}function Mr(e,t,n=!0){const r=[e.localParticipant,...Array.from(e.remoteParticipants.values())],o=[];return r.forEach((e=>{t.forEach((t=>{const r=Array.from(e.trackPublications.values()).filter((e=>e.source===t&&(!n||e.track))).map((t=>({participant:e,publication:t,source:t.source})));o.push(...r)}))})),{trackReferences:o,participants:r}}function Ar(e,t,n){var o,i;const a=null!=(o=n.additionalRoomEvents)?o:kn,c=null==(i=n.onlySubscribed)||i;return $n(e,...Array.from(new Set([r.TQ.ParticipantConnected,r.TQ.ParticipantDisconnected,r.TQ.ConnectionStateChanged,r.TQ.LocalTrackPublished,r.TQ.LocalTrackUnpublished,r.TQ.TrackPublished,r.TQ.TrackUnpublished,r.TQ.TrackSubscriptionStatusChanged,...a]).values())).pipe(Ot((e=>{const n=Mr(e,t,c);return Sn.debug(`TrackReference[] was updated. (length ${n.trackReferences.length})`,n),n})),Wt(Mr(e,t,c)))}function _r(e,t=1e3){if(null===e)return Pt(!1);const n=Vt(e,"mousemove",{passive:!0}).pipe(Ot((()=>!0))),r=n.pipe(At({each:t,with:()=>jt(Pt(!1),r.pipe(function(e){return Ze((function(t,n){var r=!1,o=Ge(n,(function(){null==o||o.unsubscribe(),r=!0}),Ie);wt(e).subscribe(o),t.subscribe(Ge(n,(function(e){return r&&n.next(e)})))}))}(n)))}),function(e,t){return void 0===t&&(t=$e),e=e??$t,Ze((function(n,r){var o,i=!0;n.subscribe(Ge(r,(function(n){var a=t(n);(i||!e(o,a))&&(i=!1,o=a,r.next(n))})))}))}());return r}var Or=`${an}-user-choices`,Lr={videoEnabled:!0,audioEnabled:!0,videoDeviceId:"",audioDeviceId:"",username:""},{load:Nr,save:Ir}=function(e){return{load:()=>function(e){if(typeof localStorage>"u")Sn.error("Local storage is not available.");else try{const t=localStorage.getItem(e);return t?JSON.parse(t):void Sn.warn(`Item with key ${e} does not exist in local storage.`)}catch(t){return void Sn.error(`Error getting item from local storage: ${t}`)}}(e),save:t=>function(e,t){if(typeof localStorage>"u")Sn.error("Local storage is not available.");else try{if(t){const n=Object.fromEntries(Object.entries(t).filter((([,e])=>""!==e)));localStorage.setItem(e,JSON.stringify(n))}}catch(n){Sn.error(`Error setting item to local storage: ${n}`)}}(e,t)}}(Or);function Dr(e,t=!1){!0!==t&&Ir(e)}function jr(e,t=!1){var n,r,o,i,a;const c={videoEnabled:null!=(n=null==e?void 0:e.videoEnabled)?n:Lr.videoEnabled,audioEnabled:null!=(r=null==e?void 0:e.audioEnabled)?r:Lr.audioEnabled,videoDeviceId:null!=(o=null==e?void 0:e.videoDeviceId)?o:Lr.videoDeviceId,audioDeviceId:null!=(i=null==e?void 0:e.audioDeviceId)?i:Lr.audioDeviceId,username:null!=(a=null==e?void 0:e.username)?a:Lr.username};if(t)return c;{const e=Nr();return nn(nn({},c),e??{})}}function Ur(e,t){if("show_chat"===t.msg)return{...e,showChat:!0,unreadMessages:0};if("hide_chat"===t.msg)return{...e,showChat:!1};if("toggle_chat"===t.msg){const t={...e,showChat:!e.showChat};return!0===t.showChat&&(t.unreadMessages=0),t}return"unread_msg"===t.msg?{...e,unreadMessages:t.count}:"toggle_settings"===t.msg?{...e,showSettings:!e.showSettings}:{...e}}function Qr(e,t){return"set_pin"===t.msg?[t.trackReference]:"clear_pin"===t.msg?[]:{...e}}const Fr=o.createContext(void 0);function Vr(){const e=o.useContext(Fr);if(!e)throw Error("Tried to access LayoutContext context outside a LayoutContextProvider provider.");return e}function Br(e){const t=$r();if(e??(e=t),!e)throw Error("Tried to access LayoutContext context outside a LayoutContextProvider provider.");return e}function zr(){const[e,t]=o.useReducer(Qr,Rn),[n,r]=o.useReducer(Ur,Pn);return{pin:{dispatch:t,state:e},widget:{dispatch:r,state:n}}}function qr(e){const[t,n]=o.useReducer(Qr,Rn),[r,i]=o.useReducer(Ur,Pn);return e??{pin:{dispatch:n,state:t},widget:{dispatch:i,state:r}}}function $r(){return o.useContext(Fr)}const Hr=o.createContext(void 0);function Wr(){return o.useContext(Hr)}function Zr(e){const t=Wr(),n=e??t;if(!n)throw new Error("No TrackRef, make sure you are inside a TrackRefContext or pass the TrackRef explicitly");return n}const Gr=o.createContext(void 0);function Jr(){return o.useContext(Gr)}function Kr(e){const t=Jr(),n=Wr(),r=e??t??(null==n?void 0:n.participant);if(!r)throw new Error("No participant provided, make sure you are inside a participant context or pass the participant explicitly");return r}const Yr=o.createContext(void 0);function Xr(){const e=o.useContext(Yr);if(!e)throw Error("tried to access room context outside of livekit room component");return e}function eo(){return o.useContext(Yr)}function to(e){const t=eo(),n=e??t;if(!n)throw new Error("No room provided, make sure you are inside a Room context or pass the room explicitly");return n}const no=o.createContext(void 0);function ro(e){const t=o.useContext(no);if(!0===e){if(t)return t;throw Error("tried to access feature context, but none is present")}return t}},9691:function(e,t,n){"use strict";n.d(t,{A:function(){return w},B:function(){return C},C:function(){return y},Y:function(){return D},a:function(){return v},b:function(){return M},c:function(){return h},d:function(){return m},e:function(){return E},f:function(){return T},g:function(){return R},h:function(){return _},i:function(){return p},j:function(){return f},k:function(){return A},l:function(){return x},m:function(){return I},n:function(){return g},o:function(){return S},p:function(){return P},q:function(){return l},r:function(){return k},t:function(){return O},w:function(){return L},y:function(){return N},z:function(){return d}});var r=n(7894),o=n(694),i=n(1270),a=n(3342);function c(e,t){const n=s(),o=(e=>{const t=r.useRef(e);return r.useEffect((()=>{t.current=e})),t})(t);return r.useLayoutEffect((()=>{let t=!1;const r=e.current;if(r)return null==n||n.subscribe(r,i),()=>{t=!0,null==n||n.unsubscribe(r,i)};function i(e,n){t||o.current(e,n)}}),[e.current,n,o]),null==n?void 0:n.observer}let u;const s=()=>u||(u=function(){let e=!1,t=[];const n=new Map;if(typeof window>"u")return;const r=new ResizeObserver(((r,o)=>{t=t.concat(r),e||window.requestAnimationFrame((()=>{const r=new Set;for(let e=0;e<t.length;e++){if(r.has(t[e].target))continue;r.add(t[e].target);const i=n.get(t[e].target);null==i||i.forEach((n=>n(t[e],o)))}t=[],e=!1})),e=!0}));return{observer:r,subscribe(e,t){r.observe(e);const o=n.get(e)??[];o.push(t),n.set(e,o)},unsubscribe(e,t){const o=n.get(e)??[];if(1===o.length)return r.unobserve(e),void n.delete(e);const i=o.indexOf(t);-1!==i&&o.splice(i,1),n.set(e,o)}}}()),l=e=>{const[t,n]=r.useState({width:0,height:0});r.useLayoutEffect((()=>{if(e.current){const{width:t,height:r}=e.current.getBoundingClientRect();n({width:t,height:r})}}),[e.current]);const o=r.useCallback((e=>n(e.contentRect)),[]);return c(e,o),t};function f(e,t,n=!0){const[o,i]=r.useState(t);return r.useEffect((()=>{if(n&&i(t),typeof window>"u"||!e)return;const r=e.subscribe(i);return()=>r.unsubscribe()}),[e,n]),o}function d(e){const t=e=>typeof window<"u"&&window.matchMedia(e).matches,[n,o]=r.useState(t(e));function i(){o(t(e))}return r.useEffect((()=>{const t=window.matchMedia(e);return i(),t.addListener?t.addListener(i):t.addEventListener("change",i),()=>{t.removeListener?t.removeListener(i):t.removeEventListener("change",i)}}),[e]),n}function p(e={}){const t=(0,o.c)(e.participant),{className:n,connectionQualityObserver:i}=r.useMemo((()=>(0,o.d)(t)),[t]);return{className:n,quality:f(i,a.ZV.Unknown)}}function v(e){const t=(0,o.u)(e);return f(r.useMemo((()=>(0,o.e)(t)),[t]),t.state)}function h(e){const t=(0,o.f)(),n=v(t);return{buttonProps:r.useMemo((()=>{const{className:r,disconnect:c}=(0,o.h)(t);return(0,i.m)(e,{className:r,onClick:()=>c(e.stopTracks??!0),disabled:n===a.em.Disconnected})}),[t,e,n])}}function m({trackRef:e,props:t}){const n=(0,o.i)(e),a=(0,o.j)(),{className:c}=r.useMemo((()=>(0,o.k)()),[]),u=r.useMemo((()=>(0,o.m)(n,null==a?void 0:a.pin.state)),[n,null==a?void 0:a.pin.state]);return{mergedProps:r.useMemo((()=>(0,i.m)(t,{className:c,onClick:e=>{var r,o,i,c,s;null==(r=t.onClick)||r.call(t,e),u?null==(i=null==a?void 0:(o=a.pin).dispatch)||i.call(o,{msg:"clear_pin"}):null==(s=null==a?void 0:(c=a.pin).dispatch)||s.call(c,{msg:"set_pin",trackReference:n})}})),[t,c,n,u,null==a?void 0:a.pin]),inFocus:u}}function g(e,t,n={}){const i=n.gridLayouts??o.G,{width:a,height:c}=l(e),u=(0,o.n)(i,t,a,c);return r.useEffect((()=>{e.current&&u&&(e.current.style.setProperty("--lk-col-count",null==u?void 0:u.columns.toString()),e.current.style.setProperty("--lk-row-count",null==u?void 0:u.rows.toString()))}),[e,u]),{layout:u,containerWidth:a,containerHeight:c}}function b(e,t={}){var n,i;const a="string"==typeof e?t.participant:e.participant,c=(0,o.c)(a),u="string"==typeof e?{participant:c,source:e}:e,[s,l]=r.useState(!!(null!=(n=u.publication)&&n.isMuted||null!=(i=c.getTrackPublication(u.source))&&i.isMuted));return r.useEffect((()=>{const e=(0,o.o)(u).subscribe(l);return()=>e.unsubscribe()}),[(0,o.p)(u)]),s}function y(e={}){const t=(0,o.u)(e.room),[n,i]=r.useState(t.localParticipant),[a,c]=r.useState(n.isMicrophoneEnabled),[u,s]=r.useState(n.isMicrophoneEnabled),[l,f]=r.useState(n.lastMicrophoneError),[d,p]=r.useState(n.lastCameraError),[v,h]=r.useState(n.isMicrophoneEnabled),[m,g]=r.useState(void 0),[b,y]=r.useState(void 0),w=e=>{s(e.isCameraEnabled),c(e.isMicrophoneEnabled),h(e.isScreenShareEnabled),y(e.cameraTrack),g(e.microphoneTrack),f(e.participant.lastMicrophoneError),p(e.participant.lastCameraError),i(e.participant)};return r.useEffect((()=>{const e=(0,o.t)(t.localParticipant).subscribe(w);return()=>e.unsubscribe()}),[t]),{isMicrophoneEnabled:a,isScreenShareEnabled:v,isCameraEnabled:u,microphoneTrack:m,cameraTrack:b,lastMicrophoneError:l,lastCameraError:d,localParticipant:n}}function w(){const e=(0,o.f)();return f(r.useMemo((()=>(0,o.v)(e.localParticipant)),[e]),e.localParticipant.permissions)}function E({kind:e,room:t,track:n,requestPermissions:i,onError:a}){const c=(0,o.w)(),u=f(r.useMemo((()=>(0,o.x)(e,a,i)),[e,i,a]),[]),[s,l]=r.useState(""),{className:d,activeDeviceObservable:p,setActiveMediaDevice:v}=r.useMemo((()=>(0,o.y)(e,t??c,n)),[e,t,c,n]);return r.useEffect((()=>{const e=p.subscribe((e=>{o.l.info("setCurrentDeviceId",e),e&&l(e)}));return()=>{null==e||e.unsubscribe()}}),[p]),{devices:u,className:d,activeDeviceId:s,setActiveMediaDevice:v}}function k(e,t,n={}){const i=r.useRef([]),a=r.useRef(-1),c=t!==a.current,u="function"==typeof n.customSortFunction?n.customSortFunction(e):(0,o.z)(e);let s=[...u];if(!1===c)try{s=(0,o.A)(i.current,u,t)}catch(l){o.l.error("Error while running updatePages(): ",l)}return i.current=c?u:s,a.current=t,s}function S(e,t){const[n,o]=r.useState(1),i=Math.max(Math.ceil(t.length/e),1);n>i&&o(i);const a=n*e,c=a-e,u=e=>{o((t=>"next"===e?t===i?t:t+1:1===t?t:t-1))},s=k(t,e).slice(c,a);return{totalPageCount:i,nextPage:()=>u("next"),prevPage:()=>u("previous"),setPage:e=>{o(e>i?i:e<1?1:e)},firstItemIndex:c,lastItemIndex:a,tracks:s,currentPage:n}}function x({trackRef:e,onParticipantClick:t,disableSpeakingIndicator:n,htmlProps:c}){const u=(0,o.i)(e),s=r.useMemo((()=>{const{className:e}=(0,o.D)();return(0,i.m)(c,{className:e,onClick:e=>{var n;if(null==(n=c.onClick)||n.call(c,e),"function"==typeof t){const e=u.publication??u.participant.getTrackPublication(u.source);t({participant:u.participant,track:e})}}})}),[c,t,u.publication,u.source,u.participant]),l=u.participant.getTrackPublication(a.fQ.Source.Microphone),d=r.useMemo((()=>({participant:u.participant,source:a.fQ.Source.Microphone,publication:l})),[l,u.participant]),p=b(u),v=b(d),h=function(e){const t=(0,o.c)(e);return f(r.useMemo((()=>(0,o.q)(t)),[t]),t.isSpeaking)}(u.participant),m=function(e){if(e.publication instanceof a.Zr){const t=e.publication.track;if(t){const{facingMode:e}=(0,a.ul)(t);return e}}return"undefined"}(u);return{elementProps:{"data-lk-audio-muted":v,"data-lk-video-muted":p,"data-lk-speaking":!0!==n&&h,"data-lk-local-participant":u.participant.isLocal,"data-lk-source":u.source,"data-lk-facing-mode":m,...s}}}function C(e){return e=(0,o.F)(e),r.useMemo((()=>void 0!==(null==e?void 0:e.pin.state)&&e.pin.state.length>=1?e.pin.state:[]),[e.pin.state])}function T({room:e,props:t}){const n=(0,o.u)(e),{className:a,roomAudioPlaybackAllowedObservable:c,handleStartAudioPlayback:u}=r.useMemo((()=>(0,o.N)()),[]),s=r.useMemo((()=>c(n)),[n,c]),{canPlayAudio:l}=f(s,{canPlayAudio:n.canPlaybackAudio});return{mergedProps:r.useMemo((()=>(0,i.m)(t,{className:a,onClick:()=>{u(n)},style:{display:l?"none":"block"}})),[t,a,l,u,n]),canPlayAudio:l}}function R({room:e,props:t}){const n=(0,o.u)(e),{className:a,roomVideoPlaybackAllowedObservable:c,handleStartVideoPlayback:u}=r.useMemo((()=>(0,o.O)()),[]),s=r.useMemo((()=>c(n)),[n,c]),{canPlayVideo:l}=f(s,{canPlayVideo:n.canPlaybackVideo});return{mergedProps:r.useMemo((()=>(0,i.m)(t,{className:a,onClick:()=>{u(n)},style:{display:l?"none":"block"}})),[t,a,l,u,n]),canPlayVideo:l}}function P(e,t={}){const n=r.useRef(null),o=r.useRef(null),i=t.minSwipeDistance??50,a=e=>{o.current=null,n.current=e.targetTouches[0].clientX},c=e=>{o.current=e.targetTouches[0].clientX},u=r.useCallback((()=>{if(!n.current||!o.current)return;const e=n.current-o.current,r=e<-i;e>i&&t.onLeftSwipe&&t.onLeftSwipe(),r&&t.onRightSwipe&&t.onRightSwipe()}),[i,t]);r.useEffect((()=>{const t=e.current;return t&&(t.addEventListener("touchstart",a,{passive:!0}),t.addEventListener("touchmove",c,{passive:!0}),t.addEventListener("touchend",u,{passive:!0})),()=>{t&&(t.removeEventListener("touchstart",a),t.removeEventListener("touchmove",c),t.removeEventListener("touchend",u))}}),[e,u])}function M({props:e}){const{dispatch:t,state:n}=(0,o.a)().widget,{className:a}=r.useMemo((()=>(0,o.P)()),[]);return{mergedProps:r.useMemo((()=>(0,i.m)(e,{className:a,onClick:()=>{t&&t({msg:"toggle_chat"})},"aria-pressed":null!=n&&n.showChat?"true":"false","data-lk-unread-msgs":n?n.unreadMessages<10?n.unreadMessages.toFixed(0):"9+":"0"})),[e,a,t,n])}}function A(e){var t,n;const i=(0,o.i)(e),{className:a,mediaMutedObserver:c}=r.useMemo((()=>(0,o.Q)(i)),[(0,o.p)(i)]);return{isMuted:f(c,!!(null!=(t=i.publication)&&t.isMuted||null!=(n=i.participant.getTrackPublication(i.source))&&n.isMuted)),className:a}}function _({source:e,onChange:t,initialState:n,captureOptions:a,publishOptions:c,onDeviceError:u,...s}){var l;const d=(0,o.w)(),p=null==(l=null==d?void 0:d.localParticipant)?void 0:l.getTrackPublication(e),v=r.useRef(!1),{toggle:h,className:m,pendingObserver:g,enabledObserver:b}=r.useMemo((()=>d?(0,o.S)(e,d,a,c,u):(0,o.T)()),[d,e,JSON.stringify(a),c]),y=f(g,!1),w=f(b,n??!(null==p||!p.isEnabled));r.useEffect((()=>{null==t||t(w,v.current),v.current=!1}),[w,t]),r.useEffect((()=>{void 0!==n&&(o.l.debug("forcing initial toggle state",e,n),h(n))}),[]);const E=r.useMemo((()=>(0,i.m)(s,{className:m})),[s,m]),k=r.useCallback((e=>{var t;v.current=!0,h().catch((()=>v.current=!1)),null==(t=s.onClick)||t.call(s,e)}),[s,h]);return{toggle:h,enabled:w,pending:y,track:p,buttonProps:{...E,"aria-pressed":w,"data-lk-source":e,"data-lk-enabled":w,disabled:y,onClick:k}}}function O(e=[a.fQ.Source.Camera,a.fQ.Source.Microphone,a.fQ.Source.ScreenShare,a.fQ.Source.ScreenShareAudio,a.fQ.Source.Unknown],t={}){const n=(0,o.u)(t.room),[i,c]=r.useState([]),[u,s]=r.useState([]),l=r.useMemo((()=>e.map((e=>(0,o.U)(e)?e.source:e))),[JSON.stringify(e)]);return r.useEffect((()=>{const e=(0,o.V)(n,l,{additionalRoomEvents:t.updateOnlyOn,onlySubscribed:t.onlySubscribed}).subscribe((({trackReferences:e,participants:t})=>{o.l.debug("setting track bundles",e,t),c(e),s(t)}));return()=>e.unsubscribe()}),[n,JSON.stringify(t.onlySubscribed),JSON.stringify(t.updateOnlyOn),JSON.stringify(e)]),r.useMemo((()=>{if((0,o.W)(e)){const t=function(e,t){const n=new Map;if((0,o.W)(e)){const r=e.filter((e=>e.withPlaceholder)).map((e=>e.source));t.forEach((e=>{const t=e.getTrackPublications().map((e=>{var t;return null==(t=e.track)?void 0:t.source})).filter((e=>void 0!==e)),o=Array.from(function(e,t){const n=new Set(e);for(const r of t)n.delete(r);return n}(new Set(r),new Set(t)));o.length>0&&n.set(e.identity,o)}))}return n}(e,u),n=Array.from(i);return u.forEach((e=>{t.has(e.identity)&&(t.get(e.identity)??[]).forEach((t=>{if(i.find((({participant:n,publication:r})=>e.identity===n.identity&&r.source===t)))return;o.l.debug(`Add ${t} placeholder for participant ${e.identity}.`);const r={participant:e,source:t};n.push(r)}))})),n}return i}),[i,u,e])}function L(e){const t=(0,o.f)(),n=v(t),i=r.useMemo((()=>n===a.em.Disconnected),[n]),c=r.useMemo((()=>(0,o.Z)(t,e)),[t,e,i]),u=f(c.isSendingObservable,!1),s=f(c.messageObservable,[]);return{send:c.send,update:c.update,chatMessages:s,isSending:u}}function N(e={}){const[t,n]=r.useState((0,o._)(e.defaults,e.preventLoad??!1)),i=r.useCallback((e=>{n((t=>({...t,audioEnabled:e})))}),[]),a=r.useCallback((e=>{n((t=>({...t,videoEnabled:e})))}),[]),c=r.useCallback((e=>{n((t=>({...t,audioDeviceId:e})))}),[]),u=r.useCallback((e=>{n((t=>({...t,videoDeviceId:e})))}),[]),s=r.useCallback((e=>{n((t=>({...t,username:e})))}),[]);return r.useEffect((()=>{(0,o.$)(t,e.preventSave??!1)}),[t,e.preventSave]),{userChoices:t,saveAudioInputEnabled:i,saveVideoInputEnabled:a,saveAudioInputDeviceId:c,saveVideoInputDeviceId:u,saveUsername:s}}function I(e,t={}){const n=(0,o.c)(e),i=(0,o.u)(t.room);return f(r.useMemo((()=>(0,o.a0)(i,n)),[i,n]),n instanceof a.Ix?n.isE2EEEnabled:!(null==n||!n.isEncrypted))}function D(e){const t=(0,o.u)(e),n=v(t);return f(r.useMemo((()=>(0,o.a8)(t)),[t,n]),t.isRecording)}},7694:function(e,t,n){"use strict";n.d(t,{B:function(){return a}});var r=n(7894),o=n(3342),i=n(9691);function a(e={}){const[t,a]=r.useState(!1),[c,u]=r.useState(!1),[s,l]=r.useState(!1);let f=(0,i.C)().microphoneTrack;const[d,p]=r.useState();e.trackRef&&(f=e.trackRef.publication);const v=r.useCallback((async t=>{if(t){const{KrispNoiseFilter:t,isKrispNoiseFilterSupported:r}=await n.e(676).then(n.bind(n,6805));if(!r())return void console.warn("Krisp noise filter is not supported in this browser");d||p(t(e.filterOptions))}a((e=>(e!==t&&u(!0),t)))}),[]);return r.useEffect((()=>{var e;if(f&&f.track instanceof o.hp&&d){const n=f.track.getProcessor();n&&"livekit-noise-filter"===n.name?(u(!0),n.setEnabled(t).finally((()=>{u(!1),l(t)}))):!n&&t&&(u(!0),null==(e=null==f?void 0:f.track)||e.setProcessor(d).then((()=>d.setEnabled(t))).then((()=>{l(!0)})).catch((e=>{l(!1),console.error(e)})).finally((()=>{u(!1)})))}}),[t,f,d]),{setNoiseFilterEnabled:v,isNoiseFilterEnabled:s,isNoiseFilterPending:c,processor:d}}},8926:function(e,t,n){"use strict";n.d(t,{_T:function(){return l},tt:function(){return d},zc:function(){return h}});var r=n(7894),o=n(8842),i=n(9691),a=n(694),c=n(3342),u=n(1270);function s({messageFormatter:e,messageDecoder:t,messageEncoder:n,channelTopic:c,...u}){const s=r.useRef(null),l=r.useRef(null),f=r.useMemo((()=>({messageDecoder:t,messageEncoder:n,channelTopic:c})),[t,n,c]),{send:d,chatMessages:p,isSending:v}=(0,i.w)(f),h=(0,a.j)(),m=r.useRef(0);return r.useEffect((()=>{var e;l&&(null==(e=l.current)||e.scrollTo({top:l.current.scrollHeight}))}),[l,p]),r.useEffect((()=>{var e,t,n,r,o;if(!h||0===p.length)return;if(null!=(e=h.widget.state)&&e.showChat&&p.length>0&&m.current!==(null==(t=p[p.length-1])?void 0:t.timestamp))return void(m.current=null==(n=p[p.length-1])?void 0:n.timestamp);const i=p.filter((e=>!m.current||e.timestamp>m.current)).length,{widget:a}=h;i>0&&(null==(r=a.state)?void 0:r.unreadMessages)!==i&&(null==(o=a.dispatch)||o.call(a,{msg:"unread_msg",count:i}))}),[p,null==h?void 0:h.widget]),r.createElement("div",{...u,className:"lk-chat"},r.createElement("div",{className:"lk-chat-header"},"Messages",r.createElement(o.C,{className:"lk-close-button"},r.createElement(o.S,null))),r.createElement("ul",{className:"lk-list lk-chat-messages",ref:l},u.children?p.map(((t,n)=>(0,o.c)(u.children,{entry:t,key:t.id??n,messageFormatter:e}))):p.map(((t,n,i)=>{const a=n>=1&&i[n-1].from===t.from,c=n>=1&&t.timestamp-i[n-1].timestamp<6e4;return r.createElement(o.a,{key:t.id??n,hideName:a,hideTimestamp:!1!==a&&c,entry:t,messageFormatter:e})}))),r.createElement("form",{className:"lk-chat-form",onSubmit:async function(e){e.preventDefault(),s.current&&""!==s.current.value.trim()&&d&&(await d(s.current.value),s.current.value="",s.current.focus())}},r.createElement("input",{className:"lk-form-control lk-chat-form-input",disabled:v,ref:s,type:"text",placeholder:"Enter a message...",onInput:e=>e.stopPropagation(),onKeyDown:e=>e.stopPropagation(),onKeyUp:e=>e.stopPropagation()}),r.createElement("button",{type:"submit",className:"lk-button lk-chat-form-button",disabled:v},"Send")))}function l({kind:e,initialSelection:t,onActiveDeviceChange:n,tracks:i,requestPermissions:c=!1,...u}){const[s,l]=r.useState(!1),[f,d]=r.useState([]),[p,v]=r.useState(!0),[h,m]=r.useState(c),g=(e,t)=>{a.l.debug("handle device change"),l(!1),null==n||n(e,t)},b=r.useRef(null),y=r.useRef(null);r.useLayoutEffect((()=>{s&&m(!0)}),[s]),r.useLayoutEffect((()=>{b.current&&y.current&&(f||p)&&(0,a.an)(b.current,y.current).then((({x:e,y:t})=>{y.current&&Object.assign(y.current.style,{left:`${e}px`,top:`${t}px`})})),v(!1)}),[b,y,f,p]);const w=r.useCallback((e=>{y.current&&e.target!==b.current&&s&&(0,a.ao)(y.current,e)&&l(!1)}),[s,y,b]);return r.useEffect((()=>(document.addEventListener("click",w),window.addEventListener("resize",(()=>v(!0))),()=>{document.removeEventListener("click",w),window.removeEventListener("resize",(()=>v(!0)))})),[w,v]),r.createElement(r.Fragment,null,r.createElement("button",{className:"lk-button lk-button-menu","aria-pressed":s,...u,onClick:()=>l(!s),ref:b},u.children),!u.disabled&&r.createElement("div",{className:"lk-device-menu",ref:y,style:{visibility:s?"visible":"hidden"}},e?r.createElement(o.M,{initialSelection:t,onActiveDeviceChange:t=>g(e,t),onDeviceListChange:d,kind:e,track:null==i?void 0:i[e],requestPermissions:h}):r.createElement(r.Fragment,null,r.createElement("div",{className:"lk-device-menu-heading"},"Audio inputs"),r.createElement(o.M,{kind:"audioinput",onActiveDeviceChange:e=>g("audioinput",e),onDeviceListChange:d,track:null==i?void 0:i.audioinput,requestPermissions:h}),r.createElement("div",{className:"lk-device-menu-heading"},"Video inputs"),r.createElement(o.M,{kind:"videoinput",onActiveDeviceChange:e=>g("videoinput",e),onDeviceListChange:d,track:null==i?void 0:i.videoinput,requestPermissions:h}))))}function f(){r.useEffect((()=>{(0,o.w)()}),[])}function d({defaults:e={},onValidate:t,onSubmit:n,onError:u,debug:s,joinLabel:d="Join Room",micLabel:p="Microphone",camLabel:v="Camera",userLabel:h="Username",persistUserChoices:m=!0,...g}){const[b,y]=r.useState(a.ap),w={...void 0!==e.audioDeviceId&&{audioDeviceId:e.audioDeviceId},...void 0!==e.videoDeviceId&&{videoDeviceId:e.videoDeviceId},...void 0!==e.audioEnabled&&{audioEnabled:e.audioEnabled},...void 0!==e.videoEnabled&&{videoEnabled:e.videoEnabled},...void 0!==e.username&&{username:e.username}},{userChoices:E,saveAudioInputDeviceId:k,saveAudioInputEnabled:S,saveVideoInputDeviceId:x,saveVideoInputEnabled:C,saveUsername:T}=(0,i.y)({defaults:w,preventSave:!m,preventLoad:!m}),[R,P]=r.useState(E.audioEnabled),[M,A]=r.useState(E.videoEnabled),[_,O]=r.useState(E.audioDeviceId),[L,N]=r.useState(E.videoDeviceId),[I,D]=r.useState(E.username);r.useEffect((()=>{S(R)}),[R,S]),r.useEffect((()=>{C(M)}),[M,C]),r.useEffect((()=>{k(_)}),[_,k]),r.useEffect((()=>{x(L)}),[L,x]),r.useEffect((()=>{T(I)}),[I,T]);const j=function(e,t){const[n,o]=r.useState(),i=r.useMemo((()=>new c.WU),[]);return r.useEffect((()=>{let n=!1,r=[];return i.lock().then((async i=>{try{(e.audio||e.video)&&(r=await(0,c.Ai)(e),n?r.forEach((e=>e.stop())):o(r))}catch(h){t&&h instanceof Error?t(h):a.l.error(h)}finally{i()}})),()=>{n=!0,r.forEach((e=>{e.stop()}))}}),[JSON.stringify(e),t,i]),n}({audio:!!R&&{deviceId:E.audioDeviceId},video:!!M&&{deviceId:E.videoDeviceId}},u),U=r.useRef(null),Q=r.useMemo((()=>null==j?void 0:j.filter((e=>e.kind===c.fQ.Kind.Video))[0]),[j]),F=r.useMemo((()=>{if(Q){const{facingMode:e}=(0,c.ul)(Q);return e}return"undefined"}),[Q]),V=r.useMemo((()=>null==j?void 0:j.filter((e=>e.kind===c.fQ.Kind.Audio))[0]),[j]);r.useEffect((()=>(U.current&&Q&&(Q.unmute(),Q.attach(U.current)),()=>{null==Q||Q.detach()})),[Q]);const[B,z]=r.useState(),q=r.useCallback((e=>"function"==typeof t?t(e):""!==e.username),[t]);return r.useEffect((()=>{const e={username:I,videoEnabled:M,videoDeviceId:L,audioEnabled:R,audioDeviceId:_};y(e),z(q(e))}),[I,M,q,R,_,L]),f(),r.createElement("div",{className:"lk-prejoin",...g},r.createElement("div",{className:"lk-video-container"},Q&&r.createElement("video",{ref:U,width:"1280",height:"720","data-lk-facing-mode":F}),(!Q||!M)&&r.createElement("div",{className:"lk-camera-off-note"},r.createElement(o.b,null))),r.createElement("div",{className:"lk-button-group-container"},r.createElement("div",{className:"lk-button-group audio"},r.createElement(o.T,{initialState:R,source:c.fQ.Source.Microphone,onChange:e=>P(e)},p),r.createElement("div",{className:"lk-button-group-menu"},r.createElement(l,{initialSelection:_,kind:"audioinput",disabled:!V,tracks:{audioinput:V},onActiveDeviceChange:(e,t)=>O(t)}))),r.createElement("div",{className:"lk-button-group video"},r.createElement(o.T,{initialState:M,source:c.fQ.Source.Camera,onChange:e=>A(e)},v),r.createElement("div",{className:"lk-button-group-menu"},r.createElement(l,{initialSelection:L,kind:"videoinput",disabled:!Q,tracks:{videoinput:Q},onActiveDeviceChange:(e,t)=>N(t)})))),r.createElement("form",{className:"lk-username-container"},r.createElement("input",{className:"lk-form-control",id:"username",name:"username",type:"text",defaultValue:I,placeholder:h,onChange:e=>D(e.target.value),autoComplete:"off"}),r.createElement("button",{className:"lk-button lk-join-button",type:"submit",onClick:function(e){e.preventDefault(),q(b)?"function"==typeof n&&n(b):a.l.warn("Validation failed with: ",b)},disabled:!B},d)),s&&r.createElement(r.Fragment,null,r.createElement("strong",null,"User Choices:"),r.createElement("ul",{className:"lk-list",style:{overflow:"hidden",maxWidth:"15rem"}},r.createElement("li",null,"Username: ",`${b.username}`),r.createElement("li",null,"Video Enabled: ",`${b.videoEnabled}`),r.createElement("li",null,"Audio Enabled: ",`${b.audioEnabled}`),r.createElement("li",null,"Video Device: ",`${b.videoDeviceId}`),r.createElement("li",null,"Audio Device: ",`${b.audioDeviceId}`))))}const p=r.forwardRef((function(e,t){const{mergedProps:n}=function({props:e}){const{dispatch:t,state:n}=(0,a.a)().widget,o="lk-button lk-settings-toggle";return{mergedProps:r.useMemo((()=>(0,u.m)(e,{className:o,onClick:()=>{t&&t({msg:"toggle_settings"})},"aria-pressed":null!=n&&n.showSettings?"true":"false"})),[e,o,t,n])}}({props:e});return r.createElement("button",{ref:t,...n},e.children)}));function v({variation:e,controls:t,saveUserChoices:n=!0,onDeviceError:u,...s}){var f;const[d,v]=r.useState(!1),h=(0,a.j)();r.useEffect((()=>{var e,t;void 0!==(null==(e=null==h?void 0:h.widget.state)?void 0:e.showChat)&&v(null==(t=null==h?void 0:h.widget.state)?void 0:t.showChat)}),[null==(f=null==h?void 0:h.widget.state)?void 0:f.showChat]);const m=(0,i.z)(`(max-width: ${d?1e3:760}px)`)?"minimal":"verbose";e??(e=m);const g={leave:!0,...t},b=(0,i.A)();b?(g.camera??(g.camera=b.canPublish),g.microphone??(g.microphone=b.canPublish),g.screenShare??(g.screenShare=b.canPublish),g.chat??(g.chat=b.canPublishData&&(null==t?void 0:t.chat))):(g.camera=!1,g.chat=!1,g.microphone=!1,g.screenShare=!1);const y=r.useMemo((()=>"minimal"===e||"verbose"===e),[e]),w=r.useMemo((()=>"textOnly"===e||"verbose"===e),[e]),E=(0,a.aq)(),[k,S]=r.useState(!1),x=r.useCallback((e=>{S(e)}),[S]),C=(0,o.m)({className:"lk-control-bar"},s),{saveAudioInputEnabled:T,saveVideoInputEnabled:R,saveAudioInputDeviceId:P,saveVideoInputDeviceId:M}=(0,i.y)({preventSave:!n}),A=r.useCallback(((e,t)=>t?T(e):null),[T]),_=r.useCallback(((e,t)=>t?R(e):null),[R]);return r.createElement("div",{...C},g.microphone&&r.createElement("div",{className:"lk-button-group"},r.createElement(o.T,{source:c.fQ.Source.Microphone,showIcon:y,onChange:A,onDeviceError:e=>null==u?void 0:u({source:c.fQ.Source.Microphone,error:e})},w&&"Microphone"),r.createElement("div",{className:"lk-button-group-menu"},r.createElement(l,{kind:"audioinput",onActiveDeviceChange:(e,t)=>P(t??"")}))),g.camera&&r.createElement("div",{className:"lk-button-group"},r.createElement(o.T,{source:c.fQ.Source.Camera,showIcon:y,onChange:_,onDeviceError:e=>null==u?void 0:u({source:c.fQ.Source.Camera,error:e})},w&&"Camera"),r.createElement("div",{className:"lk-button-group-menu"},r.createElement(l,{kind:"videoinput",onActiveDeviceChange:(e,t)=>M(t??"")}))),g.screenShare&&E&&r.createElement(o.T,{source:c.fQ.Source.ScreenShare,captureOptions:{audio:!0,selfBrowserSurface:"include"},showIcon:y,onChange:x,onDeviceError:e=>null==u?void 0:u({source:c.fQ.Source.ScreenShare,error:e})},w&&(k?"Stop screen share":"Share screen")),g.chat&&r.createElement(o.C,null,y&&r.createElement(o.d,null),w&&"Chat"),g.settings&&r.createElement(p,null,y&&r.createElement(o.e,null),w&&"Settings"),g.leave&&r.createElement(o.D,null,y&&r.createElement(o.f,null),w&&"Leave"),r.createElement(o.g,null))}function h({chatMessageFormatter:e,chatMessageDecoder:t,chatMessageEncoder:n,SettingsComponent:u,...l}){var d,p;const[h,m]=r.useState({showChat:!1,unreadMessages:0,showSettings:!1}),g=r.useRef(null),b=(0,i.t)([{source:c.fQ.Source.Camera,withPlaceholder:!0},{source:c.fQ.Source.ScreenShare,withPlaceholder:!1}],{updateOnlyOn:[c.TQ.ActiveSpeakersChanged],onlySubscribed:!1}),y=(0,a.ar)(),w=b.filter(a.a1).filter((e=>e.publication.source===c.fQ.Source.ScreenShare)),E=null==(d=(0,i.B)(y))?void 0:d[0],k=b.filter((e=>!(0,a.as)(e,E)));return r.useEffect((()=>{var e,t,n,r,o,i;if(w.some((e=>e.publication.isSubscribed))&&null===g.current?(a.l.debug("Auto set screen share focus:",{newScreenShareTrack:w[0]}),null==(t=(e=y.pin).dispatch)||t.call(e,{msg:"set_pin",trackReference:w[0]}),g.current=w[0]):g.current&&!w.some((e=>{var t,n;return e.publication.trackSid===(null==(n=null==(t=g.current)?void 0:t.publication)?void 0:n.trackSid)}))&&(a.l.debug("Auto clearing screen share focus."),null==(r=(n=y.pin).dispatch)||r.call(n,{msg:"clear_pin"}),g.current=null),E&&!(0,a.a1)(E)){const e=b.find((e=>e.participant.identity===E.participant.identity&&e.source===E.source));e!==E&&(0,a.a1)(e)&&(null==(i=(o=y.pin).dispatch)||i.call(o,{msg:"set_pin",trackReference:e}))}}),[w.map((e=>`${e.publication.trackSid}_${e.publication.isSubscribed}`)).join(),null==(p=null==E?void 0:E.publication)?void 0:p.trackSid,b]),f(),r.createElement("div",{className:"lk-video-conference",...l},(0,a.at)()&&r.createElement(o.L,{value:y,onWidgetChange:e=>{a.l.debug("updating widget state",e),m(e)}},r.createElement("div",{className:"lk-video-conference-inner"},E?r.createElement("div",{className:"lk-focus-layout-wrapper"},r.createElement(o.F,null,r.createElement(o.h,{tracks:k},r.createElement(o.P,null)),E&&r.createElement(o.i,{trackRef:E}))):r.createElement("div",{className:"lk-grid-layout-wrapper"},r.createElement(o.G,{tracks:b},r.createElement(o.P,null))),r.createElement(v,{controls:{chat:!0,settings:!!u}})),r.createElement(s,{style:{display:h.showChat?"grid":"none"},messageFormatter:e,messageEncoder:n,messageDecoder:t}),u&&r.createElement("div",{className:"lk-settings-menu-modal",style:{display:h.showSettings?"block":"none"}},r.createElement(u,null))),r.createElement(o.R,null),r.createElement(o.j,null))}},1270:function(e,t,n){"use strict";n.d(t,{L:function(){return f},c:function(){return c},m:function(){return s}});var r=n(7894),o=n(694),i=n(3342);function a(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=a(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function c(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=a(e))&&(r&&(r+=" "),r+=t);return r}function u(...e){return(...t)=>{for(const r of e)if("function"==typeof r)try{r(...t)}catch(n){console.error(n)}}}function s(...e){const t={...e[0]};for(let n=1;n<e.length;n++){const r=e[n];for(const e in r){const n=t[e],o=r[e];"function"==typeof n&&"function"==typeof o&&"o"===e[0]&&"n"===e[1]&&e.charCodeAt(2)>=65&&e.charCodeAt(2)<=90?t[e]=u(n,o):t[e]="className"!==e&&"UNSAFE_className"!==e||"string"!=typeof n||"string"!=typeof o?void 0!==o?o:n:c(n,o)}}return t}const l={connect:!0,audio:!1,video:!1};const f=r.forwardRef((function(e,t){const{room:n,htmlProps:a}=function(e){const{token:t,serverUrl:n,options:a,room:c,connectOptions:u,connect:f,audio:d,video:p,screen:v,onConnected:h,onDisconnected:m,onError:g,onMediaDeviceFailure:b,onEncryptionError:y,simulateParticipants:w,...E}={...l,...e};a&&c&&o.l.warn("when using a manually created room, the options object will be ignored. set the desired options directly when creating the room instead.");const[k,S]=r.useState();r.useEffect((()=>{S(c??new i.du(a))}),[c]);const x=r.useMemo((()=>{const{className:e}=(0,o.s)();return s(E,{className:e})}),[E]);return r.useEffect((()=>{if(!k)return;const e=()=>{const e=k.localParticipant;o.l.debug("trying to publish local tracks"),Promise.all([e.setMicrophoneEnabled(!!d,"boolean"!=typeof d?d:void 0),e.setCameraEnabled(!!p,"boolean"!=typeof p?p:void 0),e.setScreenShareEnabled(!!v,"boolean"!=typeof v?v:void 0)]).catch((e=>{o.l.warn(e),null==g||g(e)}))},t=e=>{const t=i.CB.getFailure(e);null==b||b(t)},n=e=>{null==y||y(e)};return k.on(i.TQ.SignalConnected,e).on(i.TQ.MediaDevicesError,t).on(i.TQ.EncryptionError,n),()=>{k.off(i.TQ.SignalConnected,e).off(i.TQ.MediaDevicesError,t).off(i.TQ.EncryptionError,n)}}),[k,d,p,v,g,y,b]),r.useEffect((()=>{if(k){if(w)return void k.simulateParticipants({participants:{count:w},publish:{audio:!0,useRealTracks:!0}});if(!t)return void o.l.debug("no token yet");if(!n)return o.l.warn("no livekit url provided"),void(null==g||g(Error("no livekit url provided")));f?(o.l.debug("connecting"),k.connect(n,t,u).catch((e=>{o.l.warn(e),null==g||g(e)}))):(o.l.debug("disconnecting because connect is false"),k.disconnect())}}),[f,t,JSON.stringify(u),k,g,n,w]),r.useEffect((()=>{if(!k)return;const e=e=>{switch(e){case i.em.Disconnected:m&&m();break;case i.em.Connected:h&&h()}};return k.on(i.TQ.ConnectionStateChanged,e),()=>{k.off(i.TQ.ConnectionStateChanged,e)}}),[t,h,m,k]),r.useEffect((()=>{if(k)return()=>{o.l.info("disconnecting on onmount"),k.disconnect()}}),[k]),{room:k,htmlProps:x}}(e);return r.createElement("div",{ref:t,...a},n&&r.createElement(o.R.Provider,{value:n},r.createElement(o.L.Provider,{value:e.featureFlags},e.children)))}))}}]);
//# sourceMappingURL=793.js.map