(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[63],{7032:function(e,n,t){Promise.resolve().then(t.bind(t,1678))},1678:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return b},dynamic:function(){return k}});var i=t(8376),s=t(7894),o=t(5538),r=t(3342),c=t(1270),u=t(8926),d=t(8842),a=t(9546),l=t(6345),h=t(2298),v=t(8596);function f(e){const n=new Worker(t.tu(new URL(t.p+t.u(596),t.b))),o=new r.P6,f=(0,l.FZ)(window.location.hash.substring(1)),g=!(!f||!n),k=(0,s.useMemo)((()=>({publishDefaults:{videoSimulcastLayers:[r.OM.h540,r.OM.h216],red:!g,videoCodec:e.codec},adaptiveStream:{pixelDensity:"screen"},dynacast:!0,e2ee:g?{keyProvider:o,worker:n}:void 0})),[]),m=(0,s.useMemo)((()=>new r.du(k)),[]);g&&(o.setKey(f),m.setE2EEEnabled(!0));const b=(0,s.useMemo)((()=>({autoSubscribe:!0})),[]);return(0,i.jsxs)(c.L,{room:m,token:e.token,connectOptions:b,serverUrl:e.liveKitUrl,audio:!0,video:!0,children:[(0,i.jsx)(u.zc,{chatMessageFormatter:d.o,SettingsComponent:"true"===v.env.NEXT_PUBLIC_SHOW_SETTINGS_MENU?h.T:void 0}),(0,i.jsx)(a.a,{logLevel:r.in.debug})]})}var g=t(8518);const k="force-dynamic";function m(){const e=(0,o.useSearchParams)(),n=e.get("liveKitUrl"),t=e.get("token"),s=e.get("codec");if("string"!==typeof n)return(0,i.jsx)("h2",{children:"Missing LiveKit URL"});if("string"!==typeof t)return(0,i.jsx)("h2",{children:"Missing LiveKit token"});const c=s&&(0,g.t)(s)?s:void 0;return null===s||(0,g.t)(s)?(0,i.jsx)("main",{"data-lk-theme":"default",style:{height:"100%"},children:(0,i.jsx)(f,{liveKitUrl:n,token:t,codec:c})}):(0,i.jsxs)("h2",{children:["Invalid codec, if defined it has to be [",r.zh.join(", "),"]."]})}function b(){return(0,i.jsx)(s.Suspense,{fallback:(0,i.jsx)("div",{children:"Loading..."}),children:(0,i.jsx)(m,{})})}}},function(e){e.O(0,[556,109,793,902,922,996,744],(function(){return n=7032,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
//# sourceMappingURL=page.js.map